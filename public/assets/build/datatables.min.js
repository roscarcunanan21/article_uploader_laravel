!function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,a){function i(t){var n,a,r={};e.each(t,function(e){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(a=e.replace(n[0],n[2].toLowerCase()),r[a]=e,"o"===n[1]&&i(t[e]))}),t._hungarianMap=r}function r(t,n,o){t._hungarianMap||i(t);var l;e.each(n,function(i){(l=t._hungarianMap[i])===a||!o&&n[l]!==a||("o"===l.charAt(0)?(n[l]||(n[l]={}),e.extend(!0,n[l],n[i]),r(t[l],n[l],o)):n[l]=n[i])})}function o(e){var t=qe.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Ee(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Ee(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&$e(e)}function l(e){if(ct(e,"ordering","bSort"),ct(e,"orderMulti","bSortMulti"),ct(e,"orderClasses","bSortClasses"),ct(e,"orderCellsTop","bSortCellsTop"),ct(e,"order","aaSorting"),ct(e,"orderFixed","aaSortingFixed"),ct(e,"paging","bPaginate"),ct(e,"pagingType","sPaginationType"),ct(e,"pageLength","iDisplayLength"),ct(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":""),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&r(qe.models.oSearch,e[t])}function s(t){ct(t,"orderable","bSortable"),ct(t,"orderData","aDataSort"),ct(t,"orderSequence","asSorting"),ct(t,"orderDataType","sortDataType");var n=t.aDataSort;"number"==typeof n&&!e.isArray(n)&&(t.aDataSort=[n])}function c(n){if(!qe.__browser){var a={};qe.__browser=a;var i=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=i.children(),o=r.children();a.barWidth=r[0].offsetWidth-r[0].clientWidth,a.bScrollOversize=100===o[0].offsetWidth&&100!==r[0].clientWidth,a.bScrollbarLeft=1!==Math.round(o.offset().left),a.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}e.extend(n.oBrowser,qe.__browser),n.oScroll.iBarWidth=qe.__browser.barWidth}function d(e,t,n,i,r,o){var l,s=!1;for(n!==a&&(l=n,s=!0);i!==r;)e.hasOwnProperty(i)&&(l=s?t(l,e[i],i,e):e[i],s=!0,i+=o);return l}function u(t,a){var i=qe.defaults.column,r=t.aoColumns.length,i=e.extend({},qe.models.oColumn,i,{nTh:a||n.createElement("th"),sTitle:i.sTitle?i.sTitle:a?a.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[r],mData:i.mData?i.mData:r,idx:r});t.aoColumns.push(i),i=t.aoPreSearchCols,i[r]=e.extend({},qe.models.oSearch,i[r]),f(t,r,e(a).data())}function f(t,n,i){var n=t.aoColumns[n],o=t.oClasses,l=e(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=l.attr("width")||null;var c=(l.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(n.sWidthOrig=c[1])}i!==a&&null!==i&&(s(i),r(qe.defaults.column,i),i.mDataProp!==a&&!i.mData&&(i.mData=i.mDataProp),i.sType&&(n._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),e.extend(n,i),Ee(n,i,"sWidth","sWidthOrig"),i.iDataSort!==a&&(n.aDataSort=[i.iDataSort]),Ee(n,i,"aDataSort"));var d=n.mData,u=T(d),f=n.mRender?T(n.mRender):null,i=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};n._bAttrSrc=e.isPlainObject(d)&&(i(d.sort)||i(d.type)||i(d.filter)),n._setter=null,n.fnGetData=function(e,t,n){var i=u(e,t,a,n);return f&&t?f(i,t,e,n):i},n.fnSetData=function(e,t,n){return D(d)(e,t,n)},"number"!=typeof d&&(t._rowReadObject=!0),t.oFeatures.bSort||(n.bSortable=!1,l.addClass(o.sSortableNone)),t=-1!==e.inArray("asc",n.asSorting),i=-1!==e.inArray("desc",n.asSorting),n.bSortable&&(t||i)?t&&!i?(n.sSortingClass=o.sSortableAsc,n.sSortingClassJUI=o.sSortJUIAscAllowed):!t&&i?(n.sSortingClass=o.sSortableDesc,n.sSortingClassJUI=o.sSortJUIDescAllowed):(n.sSortingClass=o.sSortable,n.sSortingClassJUI=o.sSortJUI):(n.sSortingClass=o.sSortableNone,n.sSortingClassJUI="")}function p(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;me(e);for(var n=0,a=t.length;n<a;n++)t[n].nTh.style.width=t[n].sWidth}t=e.oScroll,(""!==t.sY||""!==t.sX)&&pe(e),Re(e,null,"column-sizing",[e])}function h(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function m(t,n){var a=v(t,"bVisible"),a=e.inArray(n,a);return-1!==a?a:null}function g(t){var n=0;return e.each(t.aoColumns,function(t,a){a.bVisible&&"none"!==e(a.nTh).css("display")&&n++}),n}function v(t,n){var a=[];return e.map(t.aoColumns,function(e,t){e[n]&&a.push(t)}),a}function b(e){var t,n,i,r,o,l,s,c,d,u=e.aoColumns,f=e.aoData,p=qe.ext.type.detect;for(t=0,n=u.length;t<n;t++)if(s=u[t],d=[],!s.sType&&s._sManualType)s.sType=s._sManualType;else if(!s.sType){for(i=0,r=p.length;i<r;i++){for(o=0,l=f.length;o<l&&(d[o]===a&&(d[o]=C(e,o,t,"type")),(c=p[i](d[o],e))||i===p.length-1)&&"html"!==c;o++);if(c){s.sType=c;break}}s.sType||(s.sType="string")}}function w(t,n,i,r){var o,l,s,c,d,f,p=t.aoColumns;if(n)for(o=n.length-1;0<=o;o--){f=n[o];var h=f.targets!==a?f.targets:f.aTargets;for(e.isArray(h)||(h=[h]),l=0,s=h.length;l<s;l++)if("number"==typeof h[l]&&0<=h[l]){for(;p.length<=h[l];)u(t);r(h[l],f)}else if("number"==typeof h[l]&&0>h[l])r(p.length+h[l],f);else if("string"==typeof h[l])for(c=0,d=p.length;c<d;c++)("_all"==h[l]||e(p[c].nTh).hasClass(h[l]))&&r(c,f)}if(i)for(o=0,t=i.length;o<t;o++)r(o,i[o])}function _(t,n,i,r){var o=t.aoData.length,l=e.extend(!0,{},qe.models.oRow,{src:i?"dom":"data",idx:o});l._aData=n,t.aoData.push(l);for(var s=t.aoColumns,c=0,d=s.length;c<d;c++)s[c].sType=null;return t.aiDisplayMaster.push(o),n=t.rowIdFn(n),n!==a&&(t.aIds[n]=l),(i||!t.oFeatures.bDeferRender)&&P(t,o,i,r),o}function y(t,n){var a;return n instanceof e||(n=e(n)),n.map(function(e,n){return a=E(t,n),_(t,a.data,n,a.cells)})}function C(e,t,n,i){var r=e.iDraw,o=e.aoColumns[n],l=e.aoData[t]._aData,s=o.sDefaultContent,c=o.fnGetData(l,i,{settings:e,row:t,col:n});if(c===a)return e.iDrawError!=r&&null===s&&(Fe(e,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=r),s;if(c!==l&&null!==c||null===s||i===a){if("function"==typeof c)return c.call(l)}else c=s;return null===c&&"display"==i?"":c}function x(e,t,n,a){e.aoColumns[n].fnSetData(e.aoData[t]._aData,a,{settings:e,row:t,col:n})}function S(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function T(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=T(t))}),function(e,t,i,r){var o=n[t]||n._;return o!==a?o(e,t,i,r):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,a,i){return t(e,n,a,i)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var i=function(t,n,r){var o,l;if(""!==r){l=S(r);for(var s=0,c=l.length;s<c;s++){if(r=l[s].match(dt),o=l[s].match(ut),r){if(l[s]=l[s].replace(dt,""),""!==l[s]&&(t=t[l[s]]),o=[],l.splice(0,s+1),l=l.join("."),e.isArray(t))for(s=0,c=t.length;s<c;s++)o.push(i(t[s],n,l));t=r[0].substring(1,r[0].length-1),t=""===t?o:o.join(t);break}if(o)l[s]=l[s].replace(ut,""),t=t[l[s]]();else{if(null===t||t[l[s]]===a)return a;t=t[l[s]]}}}return t};return function(e,n){return i(e,n,t)}}return function(e){return e[t]}}function D(t){if(e.isPlainObject(t))return D(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,a){t(e,"set",n,a)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var n=function(t,i,r){var o,r=S(r);o=r[r.length-1];for(var l,s,c=0,d=r.length-1;c<d;c++){if(l=r[c].match(dt),s=r[c].match(ut),l){if(r[c]=r[c].replace(dt,""),t[r[c]]=[],o=r.slice(),o.splice(0,c+1),l=o.join("."),e.isArray(i))for(s=0,d=i.length;s<d;s++)o={},n(o,i[s],l),t[r[c]].push(o);else t[r[c]]=i;return}s&&(r[c]=r[c].replace(ut,""),t=t[r[c]](i)),null!==t[r[c]]&&t[r[c]]!==a||(t[r[c]]={}),t=t[r[c]]}o.match(ut)?t[o.replace(ut,"")](i):t[o.replace(dt,"")]=i};return function(e,a){return n(e,a,t)}}return function(e,n){e[t]=n}}function A(e){return it(e.aoData,"_aData")}function I(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function k(e,t,n){for(var i=-1,r=0,o=e.length;r<o;r++)e[r]==t?i=r:e[r]>t&&e[r]--;-1!=i&&n===a&&e.splice(i,1)}function F(e,t,n,i){var r,o=e.aoData[t],l=function(n,a){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=C(e,t,a,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==o.src)){var s=o.anCells;if(s)if(i!==a)l(s[i],i);else for(n=0,r=s.length;n<r;n++)l(s[n],n)}else o._aData=E(e,o,i,i===a?a:o._aData).data;if(o._aSortData=null,o._aFilterData=null,l=e.aoColumns,i!==a)l[i].sType=null;else{for(n=0,r=l.length;n<r;n++)l[n].sType=null;j(e,o)}}function E(t,n,i,r){var o,l,s,c=[],d=n.firstChild,u=0,f=t.aoColumns,p=t._rowReadObject,r=r!==a?r:p?{}:[],h=function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),D(e)(r,t.getAttribute(n)))}},m=function(t){i!==a&&i!==u||(l=f[u],s=e.trim(t.innerHTML),l&&l._bAttrSrc?(D(l.mData._)(r,s),h(l.mData.sort,t),h(l.mData.type,t),h(l.mData.filter,t)):p?(l._setter||(l._setter=D(l.mData)),l._setter(r,s)):r[u]=s),u++};if(d)for(;d;)o=d.nodeName.toUpperCase(),"TD"!=o&&"TH"!=o||(m(d),c.push(d)),d=d.nextSibling;else for(c=n.anCells,d=0,o=c.length;d<o;d++)m(c[d]);return(n=n.firstChild?n:n.nTr)&&(n=n.getAttribute("id"))&&D(t.rowId)(r,n),{data:r,cells:c}}function P(t,a,i,r){var o,l,s,c,d,u=t.aoData[a],f=u._aData,p=[];if(null===u.nTr){for(o=i||n.createElement("tr"),u.nTr=o,u.anCells=p,o._DT_RowIndex=a,j(t,u),c=0,d=t.aoColumns.length;c<d;c++)s=t.aoColumns[c],l=i?r[c]:n.createElement(s.sCellType),l._DT_CellIndex={row:a,column:c},p.push(l),i&&!s.mRender&&s.mData===c||e.isPlainObject(s.mData)&&s.mData._===c+".display"||(l.innerHTML=C(t,a,c,"display")),s.sClass&&(l.className+=" "+s.sClass),s.bVisible&&!i?o.appendChild(l):!s.bVisible&&i&&l.parentNode.removeChild(l),s.fnCreatedCell&&s.fnCreatedCell.call(t.oInstance,l,C(t,a,c),f,a,c);Re(t,"aoRowCreatedCallback",null,[o,f,a])}u.nTr.setAttribute("role","row")}function j(t,n){var a=n.nTr,i=n._aData;if(a){var r=t.rowIdFn(i);r&&(a.id=r),i.DT_RowClass&&(r=i.DT_RowClass.split(" "),n.__rowc=n.__rowc?st(n.__rowc.concat(r)):r,e(a).removeClass(n.__rowc.join(" ")).addClass(i.DT_RowClass)),i.DT_RowAttr&&e(a).attr(i.DT_RowAttr),i.DT_RowData&&e(a).data(i.DT_RowData)}}function L(t){var n,a,i,r,o,l=t.nTHead,s=t.nTFoot,c=0===e("th, td",l).length,d=t.oClasses,u=t.aoColumns;for(c&&(r=e("<tr/>").appendTo(l)),n=0,a=u.length;n<a;n++)o=u[n],i=e(o.nTh).addClass(o.sClass),c&&i.appendTo(r),t.oFeatures.bSort&&(i.addClass(o.sSortingClass),!1!==o.bSortable&&(i.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Se(t,o.nTh,n))),o.sTitle!=i[0].innerHTML&&i.html(o.sTitle),Oe(t,"header")(t,i,o,d);if(c&&U(t.aoHeader,l),e(l).find(">tr").attr("role","row"),e(l).find(">tr>th, >tr>td").addClass(d.sHeaderTH),e(s).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==s)for(t=t.aoFooter[0],n=0,a=t.length;n<a;n++)o=u[n],o.nTf=t[n].cell,o.sClass&&e(o.nTf).addClass(o.sClass)}function R(t,n,i){var r,o,l,s,c=[],d=[],u=t.aoColumns.length;if(n){for(i===a&&(i=!1),r=0,o=n.length;r<o;r++){for(c[r]=n[r].slice(),c[r].nTr=n[r].nTr,l=u-1;0<=l;l--)!t.aoColumns[l].bVisible&&!i&&c[r].splice(l,1);d.push([])}for(r=0,o=c.length;r<o;r++){if(t=c[r].nTr)for(;l=t.firstChild;)t.removeChild(l);for(l=0,n=c[r].length;l<n;l++)if(s=u=1,d[r][l]===a){for(t.appendChild(c[r][l].cell),d[r][l]=1;c[r+u]!==a&&c[r][l].cell==c[r+u][l].cell;)d[r+u][l]=1,u++;for(;c[r][l+s]!==a&&c[r][l].cell==c[r][l+s].cell;){for(i=0;i<u;i++)d[r+i][l+s]=1;s++}e(c[r][l].cell).attr("rowspan",u).attr("colspan",s)}}}}function z(t){var n=Re(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==e.inArray(!1,n))ue(t,!1);else{var n=[],i=0,r=t.asStripeClasses,o=r.length,l=t.oLanguage,s=t.iInitDisplayStart,c="ssp"==Ne(t),d=t.aiDisplay;t.bDrawing=!0,s!==a&&-1!==s&&(t._iDisplayStart=c?s:s>=t.fnRecordsDisplay()?0:s,t.iInitDisplayStart=-1);var s=t._iDisplayStart,u=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,ue(t,!1);else if(c){if(!t.bDestroying&&!M(t))return}else t.iDraw++;if(0!==d.length)for(l=c?t.aoData.length:u,c=c?0:s;c<l;c++){var f=d[c],p=t.aoData[f];if(null===p.nTr&&P(t,f),f=p.nTr,0!==o){var h=r[i%o];p._sRowStripe!=h&&(e(f).removeClass(p._sRowStripe).addClass(h),p._sRowStripe=h)}Re(t,"aoRowCallback",null,[f,p._aData,i,c]),n.push(f),i++}else i=l.sZeroRecords,1==t.iDraw&&"ajax"==Ne(t)?i=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(i=l.sEmptyTable),n[0]=e("<tr/>",{class:o?r[0]:""}).append(e("<td />",{valign:"top",colSpan:g(t),class:t.oClasses.sRowEmpty}).html(i))[0];Re(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],A(t),s,u,d]),Re(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],A(t),s,u,d]),r=e(t.nTBody),r.children().detach(),r.append(e(n)),Re(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function O(e,t){var n=e.oFeatures,a=n.bFilter;n.bSort&&ye(e),a?V(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,z(e),e._drawHold=!1}function N(t){var n=t.oClasses,a=e(t.nTable),a=e("<div/>").insertBefore(a),i=t.oFeatures,r=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=a[0],t.nTableWrapper=r[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var o,l,s,c,d,u,f=t.sDom.split(""),p=0;p<f.length;p++){if(o=null,"<"==(l=f[p])){if(s=e("<div/>")[0],"'"==(c=f[p+1])||'"'==c){for(d="",u=2;f[p+u]!=c;)d+=f[p+u],u++;"H"==d?d=n.sJUIHeader:"F"==d&&(d=n.sJUIFooter),-1!=d.indexOf(".")?(c=d.split("."),s.id=c[0].substr(1,c[0].length-1),s.className=c[1]):"#"==d.charAt(0)?s.id=d.substr(1,d.length-1):s.className=d,p+=u}r.append(s),r=e(s)}else if(">"==l)r=r.parent();else if("l"==l&&i.bPaginate&&i.bLengthChange)o=le(t);else if("f"==l&&i.bFilter)o=q(t);else if("r"==l&&i.bProcessing)o=de(t);else if("t"==l)o=fe(t);else if("i"==l&&i.bInfo)o=te(t);else if("p"==l&&i.bPaginate)o=se(t);else if(0!==qe.ext.feature.length)for(s=qe.ext.feature,u=0,c=s.length;u<c;u++)if(l==s[u].cFeature){o=s[u].fnInit(t);break}o&&(s=t.aanFeatures,s[l]||(s[l]=[]),s[l].push(o),r.append(o))}a.replaceWith(r),t.nHolding=null}function U(t,n){var a,i,r,o,l,s,c,d,u,f,p=e(n).children("tr");for(t.splice(0,t.length),r=0,s=p.length;r<s;r++)t.push([]);for(r=0,s=p.length;r<s;r++)for(a=p[r],i=a.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){for(d=1*i.getAttribute("colspan"),u=1*i.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,u=u&&0!==u&&1!==u?u:1,o=0,l=t[r];l[o];)o++;for(c=o,f=1===d,l=0;l<d;l++)for(o=0;o<u;o++)t[r+o][c+l]={cell:i,unique:f},t[r+o].nTr=a}i=i.nextSibling}}function $(e,t,n){var a=[];n||(n=e.aoHeader,t&&(n=[],U(n,t)));for(var t=0,i=n.length;t<i;t++)for(var r=0,o=n[t].length;r<o;r++)!n[t][r].unique||a[r]&&e.bSortCellsTop||(a[r]=n[t][r].cell);return a}function B(t,n,a){if(Re(t,"aoServerParams","serverParams",[n]),n&&e.isArray(n)){var i={};e.each(n,function(e,t){var n=t.name.match(/(.*?)\[\]$/);n?(n=n[0],i[n]||(i[n]=[]),i[n].push(t.value)):i[t.name]=t.value}),n=i}var r,o=t.ajax,l=t.oInstance,s=function(e){Re(t,null,"xhr",[t,e,t.jqXHR]),a(e)};if(e.isPlainObject(o)&&o.data){r=o.data;var c=e.isFunction(r)?r(n,t):r,n=e.isFunction(r)&&c?c:e.extend(!0,n,c);delete o.data}c={data:n,success:function(e){var n=e.error||e.sError;n&&Fe(t,0,n),t.json=e,s(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,a){var i=Re(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,i)&&("parsererror"==a?Fe(t,0,"Invalid JSON response",1):4===n.readyState&&Fe(t,0,"Ajax error",7)),ue(t,!1)}},t.oAjaxData=n,Re(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),s,t):t.sAjaxSource||"string"==typeof o?t.jqXHR=e.ajax(e.extend(c,{url:o||t.sAjaxSource})):e.isFunction(o)?t.jqXHR=o.call(l,n,s,t):(t.jqXHR=e.ajax(e.extend(c,o)),o.data=r)}function M(e){return!e.bAjaxDataGet||(e.iDraw++,ue(e,!0),B(e,H(e),function(t){W(e,t)}),!1)}function H(t){var n,a,i,r,o=t.aoColumns,l=o.length,s=t.oFeatures,c=t.oPreviousSearch,d=t.aoPreSearchCols,u=[],f=_e(t);n=t._iDisplayStart,a=!1!==s.bPaginate?t._iDisplayLength:-1;var p=function(e,t){u.push({name:e,value:t})};p("sEcho",t.iDraw),p("iColumns",l),p("sColumns",it(o,"sName").join(",")),p("iDisplayStart",n),p("iDisplayLength",a);var h={draw:t.iDraw,columns:[],order:[],start:n,length:a,search:{value:c.sSearch,regex:c.bRegex}};for(n=0;n<l;n++)i=o[n],r=d[n],a="function"==typeof i.mData?"function":i.mData,h.columns.push({data:a,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),p("mDataProp_"+n,a),s.bFilter&&(p("sSearch_"+n,r.sSearch),p("bRegex_"+n,r.bRegex),p("bSearchable_"+n,i.bSearchable)),s.bSort&&p("bSortable_"+n,i.bSortable);return s.bFilter&&(p("sSearch",c.sSearch),p("bRegex",c.bRegex)),s.bSort&&(e.each(f,function(e,t){h.order.push({column:t.col,dir:t.dir}),p("iSortCol_"+e,t.col),p("sSortDir_"+e,t.dir)}),p("iSortingCols",f.length)),o=qe.ext.legacy.ajax,null===o?t.sAjaxSource?u:h:o?u:h}function W(e,t){var n=Z(e,t),i=t.sEcho!==a?t.sEcho:t.draw,r=t.iTotalRecords!==a?t.iTotalRecords:t.recordsTotal,o=t.iTotalDisplayRecords!==a?t.iTotalDisplayRecords:t.recordsFiltered;if(i){if(1*i<e.iDraw)return;e.iDraw=1*i}for(I(e),e._iRecordsTotal=parseInt(r,10),e._iRecordsDisplay=parseInt(o,10),i=0,r=n.length;i<r;i++)_(e,n[i]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,z(e),e._bInitComplete||re(e,t),e.bAjaxDataGet=!0,ue(e,!1)}function Z(t,n){var i=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==a?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===i?n.aaData||n[i]:""!==i?T(i)(n):n}function q(t){var a=t.oClasses,i=t.sTableId,r=t.oLanguage,o=t.oPreviousSearch,l=t.aanFeatures,s='<input type="search" class="'+a.sFilterInput+'"/>',c=r.sSearch,c=c.match(/_INPUT_/)?c.replace("_INPUT_",s):c+s,a=e("<div/>",{id:l.f?null:i+"_filter",class:a.sFilter}).append(e("<label/>").append(c)),l=function(){var e=this.value?this.value:"";e!=o.sSearch&&(V(t,{sSearch:e,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),t._iDisplayStart=0,z(t))},s=null!==t.searchDelay?t.searchDelay:"ssp"===Ne(t)?400:0,d=e("input",a).val(o.sSearch).attr("placeholder",r.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",s?gt(l,s):l).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",i);return e(t.nTable).on("search.dt.DT",function(e,a){if(t===a)try{d[0]!==n.activeElement&&d.val(o.sSearch)}catch(e){}}),a[0]}function V(e,t,n){var i=e.oPreviousSearch,r=e.aoPreSearchCols,o=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive};if(b(e),"ssp"!=Ne(e)){for(K(e,t.sSearch,n,t.bEscapeRegex!==a?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),o(t),t=0;t<r.length;t++)X(e,r[t].sSearch,t,r[t].bEscapeRegex!==a?!r[t].bEscapeRegex:r[t].bRegex,r[t].bSmart,r[t].bCaseInsensitive);J(e)}else o(t);e.bFiltered=!0,Re(e,null,"search",[e])}function J(t){for(var n,a,i=qe.ext.search,r=t.aiDisplay,o=0,l=i.length;o<l;o++){for(var s=[],c=0,d=r.length;c<d;c++)a=r[c],n=t.aoData[a],i[o](t,n._aFilterData,a,n._aData,c)&&s.push(a);r.length=0,e.merge(r,s)}}function X(e,t,n,a,i,r){if(""!==t){for(var o=[],l=e.aiDisplay,a=G(t,a,i,r),i=0;i<l.length;i++)t=e.aoData[l[i]]._aFilterData[n],a.test(t)&&o.push(l[i]);e.aiDisplay=o}}function K(e,t,n,a,i,r){var o,a=G(t,a,i,r),r=e.oPreviousSearch.sSearch,l=e.aiDisplayMaster,i=[];if(0!==qe.ext.search.length&&(n=!0),o=Y(e),0>=t.length)e.aiDisplay=l.slice();else{for((o||n||r.length>t.length||0!==t.indexOf(r)||e.bSorted)&&(e.aiDisplay=l.slice()),t=e.aiDisplay,n=0;n<t.length;n++)a.test(e.aoData[t[n]]._sFilterRow)&&i.push(t[n]);e.aiDisplay=i}}function G(t,n,a,i){return t=n?t:ft(t),a&&(t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0))var t=e.match(/^"(.*)"$/),e=t?t[1]:e;return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,i?"i":"")}function Y(e){var t,n,a,i,r,o,l,s,c=e.aoColumns,d=qe.ext.type.search;for(t=!1,n=0,i=e.aoData.length;n<i;n++)if(s=e.aoData[n],!s._aFilterData){for(o=[],a=0,r=c.length;a<r;a++)t=c[a],t.bSearchable?(l=C(e,n,a,"filter"),d[t.sType]&&(l=d[t.sType](l)),null===l&&(l=""),"string"!=typeof l&&l.toString&&(l=l.toString())):l="",l.indexOf&&-1!==l.indexOf("&")&&(pt.innerHTML=l,l=ht?pt.textContent:pt.innerText),l.replace&&(l=l.replace(/[\r\n]/g,"")),o.push(l);s._aFilterData=o,s._sFilterRow=o.join("  "),t=!0}return t}function Q(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ee(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function te(t){var n=t.sTableId,a=t.aanFeatures.i,i=e("<div/>",{class:t.oClasses.sInfo,id:a?null:n+"_info"});return a||(t.aoDrawCallback.push({fn:ne,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),i[0]}function ne(t){var n=t.aanFeatures.i;if(0!==n.length){var a=t.oLanguage,i=t._iDisplayStart+1,r=t.fnDisplayEnd(),o=t.fnRecordsTotal(),l=t.fnRecordsDisplay(),s=l?a.sInfo:a.sInfoEmpty;l!==o&&(s+=" "+a.sInfoFiltered),s+=a.sInfoPostFix,s=ae(t,s),a=a.fnInfoCallback,null!==a&&(s=a.call(t.oInstance,t,i,r,o,l,s)),e(n).html(s)}}function ae(e,t){var n=e.fnFormatNumber,a=e._iDisplayStart+1,i=e._iDisplayLength,r=e.fnRecordsDisplay(),o=-1===i;return t.replace(/_START_/g,n.call(e,a)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,r)).replace(/_PAGE_/g,n.call(e,o?1:Math.ceil(a/i))).replace(/_PAGES_/g,n.call(e,o?1:Math.ceil(r/i)))}function ie(e){var t,n,a,i=e.iInitDisplayStart,r=e.aoColumns;n=e.oFeatures;var o=e.bDeferLoading;if(e.bInitialised){for(N(e),L(e),R(e,e.aoHeader),R(e,e.aoFooter),ue(e,!0),n.bAutoWidth&&me(e),t=0,n=r.length;t<n;t++)a=r[t],a.sWidth&&(a.nTh.style.width=we(a.sWidth));Re(e,null,"preInit",[e]),O(e),r=Ne(e),("ssp"!=r||o)&&("ajax"==r?B(e,[],function(n){var a=Z(e,n);for(t=0;t<a.length;t++)_(e,a[t]);e.iInitDisplayStart=i,O(e),ue(e,!1),re(e,n)},e):(ue(e,!1),re(e)))}else setTimeout(function(){ie(e)},200)}function re(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&p(e),Re(e,null,"plugin-init",[e,t]),Re(e,"aoInitComplete","init",[e,t])}function oe(e,t){var n=parseInt(t,10);e._iDisplayLength=n,ze(e),Re(e,null,"length",[e,n])}function le(t){for(var n=t.oClasses,a=t.sTableId,i=t.aLengthMenu,r=e.isArray(i[0]),o=r?i[0]:i,i=r?i[1]:i,r=e("<select/>",{name:a+"_length","aria-controls":a,class:n.sLengthSelect}),l=0,s=o.length;l<s;l++)r[0][l]=new Option(i[l],o[l]);var c=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(c[0].id=a+"_length"),c.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",r[0].outerHTML)),e("select",c).val(t._iDisplayLength).on("change.DT",function(){oe(t,e(this).val()),z(t)}),e(t.nTable).on("length.dt.DT",function(n,a,i){t===a&&e("select",c).val(i)}),c[0]}function se(t){var n=t.sPaginationType,a=qe.ext.pager[n],i="function"==typeof a,r=function(e){z(e)},n=e("<div/>").addClass(t.oClasses.sPaging+n)[0],o=t.aanFeatures;return i||a.fnInit(t,n,r),o.p||(n.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(i){var t,n=e._iDisplayStart,l=e._iDisplayLength,s=e.fnRecordsDisplay(),c=-1===l,n=c?0:Math.ceil(n/l),l=c?1:Math.ceil(s/l),s=a(n,l),c=0;for(t=o.p.length;c<t;c++)Oe(e,"pageButton")(e,o.p[c],c,s,n,l)}else a.fnUpdate(e,r)},sName:"pagination"})),n}function ce(e,t,n){var a=e._iDisplayStart,i=e._iDisplayLength,r=e.fnRecordsDisplay();return 0===r||-1===i?a=0:"number"==typeof t?(a=t*i)>r&&(a=0):"first"==t?a=0:"previous"==t?0>(a=0<=i?a-i:0)&&(a=0):"next"==t?a+i<r&&(a+=i):"last"==t?a=Math.floor((r-1)/i)*i:Fe(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==a,e._iDisplayStart=a,t&&(Re(e,null,"page",[e]),n&&z(e)),t}function de(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function ue(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),Re(t,null,"processing",[t,n])}function fe(t){var n=e(t.nTable);n.attr("role","grid");var a=t.oScroll;if(""===a.sX&&""===a.sY)return t.nTable;var i=a.sX,r=a.sY,o=t.oClasses,l=n.children("caption"),s=l.length?l[0]._captionSide:null,c=e(n[0].cloneNode(!1)),d=e(n[0].cloneNode(!1)),u=n.children("tfoot");u.length||(u=null),c=e("<div/>",{class:o.sScrollWrapper}).append(e("<div/>",{class:o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?i?we(i):null:"100%"}).append(e("<div/>",{class:o.sScrollHeadInner}).css({"box-sizing":"content-box",width:a.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===s?l:null).append(n.children("thead"))))).append(e("<div/>",{class:o.sScrollBody}).css({position:"relative",overflow:"auto",width:i?we(i):null}).append(n)),u&&c.append(e("<div/>",{class:o.sScrollFoot}).css({overflow:"hidden",border:0,width:i?i?we(i):null:"100%"}).append(e("<div/>",{class:o.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===s?l:null).append(n.children("tfoot")))));var n=c.children(),f=n[0],o=n[1],p=u?n[2]:null;return i&&e(o).on("scroll.DT",function(){var e=this.scrollLeft;f.scrollLeft=e,u&&(p.scrollLeft=e)}),e(o).css(r&&a.bCollapse?"max-height":"height",r),t.nScrollHead=f,t.nScrollBody=o,t.nScrollFoot=p,t.aoDrawCallback.push({fn:pe,sName:"scrolling"}),c[0]}function pe(t){var n,i,r,o,l,s=t.oScroll,c=s.sX,d=s.sXInner,u=s.sY,s=s.iBarWidth,f=e(t.nScrollHead),m=f[0].style,g=f.children("div"),v=g[0].style,b=g.children("table"),g=t.nScrollBody,w=e(g),_=g.style,y=e(t.nScrollFoot).children("div"),C=y.children("table"),x=e(t.nTHead),S=e(t.nTable),T=S[0],D=T.style,A=t.nTFoot?e(t.nTFoot):null,I=t.oBrowser,k=I.bScrollOversize,F=it(t.aoColumns,"nTh"),E=[],P=[],j=[],L=[],R=function(e){e=e.style,e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};i=g.scrollHeight>g.clientHeight,t.scrollBarVis!==i&&t.scrollBarVis!==a?(t.scrollBarVis=i,p(t)):(t.scrollBarVis=i,S.children("thead, tfoot").remove(),A&&(r=A.clone().prependTo(S),n=A.find("tr"),r=r.find("tr")),o=x.clone().prependTo(S),x=x.find("tr"),i=o.find("tr"),o.find("th, td").removeAttr("tabindex"),c||(_.width="100%",f[0].style.width="100%"),e.each($(t,o),function(e,n){l=h(t,e),n.style.width=t.aoColumns[l].sWidth}),A&&he(function(e){e.style.width=""},r),f=S.outerWidth(),""===c?(D.width="100%",k&&(S.find("tbody").height()>g.offsetHeight||"scroll"==w.css("overflow-y"))&&(D.width=we(S.outerWidth()-s)),f=S.outerWidth()):""!==d&&(D.width=we(d),f=S.outerWidth()),he(R,i),he(function(t){j.push(t.innerHTML),E.push(we(e(t).css("width")))},i),he(function(t,n){-1!==e.inArray(t,F)&&(t.style.width=E[n])},x),e(i).height(0),A&&(he(R,r),he(function(t){L.push(t.innerHTML),P.push(we(e(t).css("width")))},r),he(function(e,t){e.style.width=P[t]},n),e(r).height(0)),he(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+j[t]+"</div>",e.style.width=E[t]},i),A&&he(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[t]+"</div>",e.style.width=P[t]},r),S.outerWidth()<f?(n=g.scrollHeight>g.offsetHeight||"scroll"==w.css("overflow-y")?f+s:f,k&&(g.scrollHeight>g.offsetHeight||"scroll"==w.css("overflow-y"))&&(D.width=we(n-s)),(""===c||""!==d)&&Fe(t,1,"Possible column misalignment",6)):n="100%",_.width=we(n),m.width=we(n),A&&(t.nScrollFoot.style.width=we(n)),!u&&k&&(_.height=we(T.offsetHeight+s)),c=S.outerWidth(),b[0].style.width=we(c),v.width=we(c),d=S.height()>g.clientHeight||"scroll"==w.css("overflow-y"),u="padding"+(I.bScrollbarLeft?"Left":"Right"),v[u]=d?s+"px":"0px",A&&(C[0].style.width=we(c),y[0].style.width=we(c),y[0].style[u]=d?s+"px":"0px"),S.children("colgroup").insertBefore(S.children("thead")),w.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(g.scrollTop=0))}function he(e,t,n){for(var a,i,r=0,o=0,l=t.length;o<l;){for(a=t[o].firstChild,i=n?n[o].firstChild:null;a;)1===a.nodeType&&(n?e(a,i,r):e(a,r),r++),a=a.nextSibling,i=n?i.nextSibling:null;o++}}function me(n){var a,i,r=n.nTable,o=n.aoColumns,l=n.oScroll,s=l.sY,c=l.sX,d=l.sXInner,u=o.length,f=v(n,"bVisible"),m=e("th",n.nTHead),b=r.getAttribute("width"),w=r.parentNode,_=!1,y=n.oBrowser,l=y.bScrollOversize;for((a=r.style.width)&&-1!==a.indexOf("%")&&(b=a),a=0;a<f.length;a++)i=o[f[a]],null!==i.sWidth&&(i.sWidth=ge(i.sWidthOrig,w),_=!0);if(l||!_&&!c&&!s&&u==g(n)&&u==m.length)for(a=0;a<u;a++)null!==(f=h(n,a))&&(o[f].sWidth=we(m.eq(a).width()));else{u=e(r).clone().css("visibility","hidden").removeAttr("id"),u.find("tbody tr").remove();var C=e("<tr/>").appendTo(u.find("tbody"));for(u.find("thead, tfoot").remove(),u.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),u.find("tfoot th, tfoot td").css("width",""),m=$(n,u.find("thead")[0]),a=0;a<f.length;a++)i=o[f[a]],m[a].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?we(i.sWidthOrig):"",i.sWidthOrig&&c&&e(m[a]).append(e("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(a=0;a<f.length;a++)_=f[a],i=o[_],e(ve(n,_)).clone(!1).append(i.sContentPadding).appendTo(C);for(e("[name]",u).removeAttr("name"),i=e("<div/>").css(c||s?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(u).appendTo(w),c&&d?u.width(d):c?(u.css("width","auto"),u.removeAttr("width"),u.width()<w.clientWidth&&b&&u.width(w.clientWidth)):s?u.width(w.clientWidth):b&&u.width(b),a=s=0;a<f.length;a++)w=e(m[a]),d=w.outerWidth()-w.width(),w=y.bBounding?Math.ceil(m[a].getBoundingClientRect().width):w.outerWidth(),s+=w,o[f[a]].sWidth=we(w-d);r.style.width=we(s),i.remove()}b&&(r.style.width=we(b)),!b&&!c||n._reszEvt||(r=function(){e(t).on("resize.DT-"+n.sInstance,gt(function(){p(n)}))},l?setTimeout(r,1e3):r(),n._reszEvt=!0)}function ge(t,a){if(!t)return 0;var i=e("<div/>").css("width",we(t)).appendTo(a||n.body),r=i[0].offsetWidth;return i.remove(),r}function ve(t,n){var a=be(t,n);if(0>a)return null;var i=t.aoData[a];return i.nTr?i.anCells[n]:e("<td/>").html(C(t,a,n,"display"))[0]}function be(e,t){for(var n,a=-1,i=-1,r=0,o=e.aoData.length;r<o;r++)n=C(e,r,t,"display")+"",n=n.replace(mt,""),n=n.replace(/&nbsp;/g," "),n.length>a&&(a=n.length,i=r);return i}function we(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function _e(t){var n,i,r,o,l,s,c=[],d=t.aoColumns;n=t.aaSortingFixed,i=e.isPlainObject(n);var u=[];for(r=function(t){t.length&&!e.isArray(t[0])?u.push(t):e.merge(u,t)},e.isArray(n)&&r(n),i&&n.pre&&r(n.pre),r(t.aaSorting),i&&n.post&&r(n.post),t=0;t<u.length;t++)for(s=u[t][0],r=d[s].aDataSort,n=0,i=r.length;n<i;n++)o=r[n],l=d[o].sType||"string",u[t]._idx===a&&(u[t]._idx=e.inArray(u[t][1],d[o].asSorting)),c.push({src:s,col:o,dir:u[t][1],index:u[t]._idx,type:l,formatter:qe.ext.type.order[l+"-pre"]});return c}function ye(e){var t,n,a,i,r=[],o=qe.ext.type.order,l=e.aoData,s=0,c=e.aiDisplayMaster;for(b(e),i=_e(e),t=0,n=i.length;t<n;t++)a=i[t],a.formatter&&s++,De(e,a.col);if("ssp"!=Ne(e)&&0!==i.length){for(t=0,n=c.length;t<n;t++)r[c[t]]=t;s===i.length?c.sort(function(e,t){var n,a,o,s,c=i.length,d=l[e]._aSortData,u=l[t]._aSortData;for(o=0;o<c;o++)if(s=i[o],n=d[s.col],a=u[s.col],0!==(n=n<a?-1:n>a?1:0))return"asc"===s.dir?n:-n;return n=r[e],a=r[t],n<a?-1:n>a?1:0}):c.sort(function(e,t){var n,a,s,c,d=i.length,u=l[e]._aSortData,f=l[t]._aSortData;for(s=0;s<d;s++)if(c=i[s],n=u[c.col],a=f[c.col],c=o[c.type+"-"+c.dir]||o["string-"+c.dir],0!==(n=c(n,a)))return n;return n=r[e],a=r[t],n<a?-1:n>a?1:0})}e.bSorted=!0}function Ce(e){for(var t,n,a=e.aoColumns,i=_e(e),e=e.oLanguage.oAria,r=0,o=a.length;r<o;r++){n=a[r];var l=n.asSorting
;t=n.sTitle.replace(/<.*?>/g,"");var s=n.nTh;s.removeAttribute("aria-sort"),n.bSortable&&(0<i.length&&i[0].col==r?(s.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),n=l[i[0].index+1]||l[0]):n=l[0],t+="asc"===n?e.sSortAscending:e.sSortDescending),s.setAttribute("aria-label",t)}}function xe(t,n,i,r){var o=t.aaSorting,l=t.aoColumns[n].asSorting,s=function(t,n){var i=t._idx;return i===a&&(i=e.inArray(t[1],l)),i+1<l.length?i+1:n?null:0};"number"==typeof o[0]&&(o=t.aaSorting=[o]),i&&t.oFeatures.bSortMulti?(i=e.inArray(n,it(o,"0")),-1!==i?(n=s(o[i],!0),null===n&&1===o.length&&(n=0),null===n?o.splice(i,1):(o[i][1]=l[n],o[i]._idx=n)):(o.push([n,l[0],0]),o[o.length-1]._idx=0)):o.length&&o[0][0]==n?(n=s(o[0]),o.length=1,o[0][1]=l[n],o[0]._idx=n):(o.length=0,o.push([n,l[0]]),o[0]._idx=0),O(t),"function"==typeof r&&r(t)}function Se(e,t,n,a){var i=e.aoColumns[n];je(t,{},function(t){!1!==i.bSortable&&(e.oFeatures.bProcessing?(ue(e,!0),setTimeout(function(){xe(e,n,t.shiftKey,a),"ssp"!==Ne(e)&&ue(e,!1)},0)):xe(e,n,t.shiftKey,a))})}function Te(t){var n,a,i=t.aLastSort,r=t.oClasses.sSortColumn,o=_e(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(l=0,n=i.length;l<n;l++)a=i[l].src,e(it(t.aoData,"anCells",a)).removeClass(r+(2>l?l+1:3));for(l=0,n=o.length;l<n;l++)a=o[l].src,e(it(t.aoData,"anCells",a)).addClass(r+(2>l?l+1:3))}t.aLastSort=o}function De(e,t){var n,a=e.aoColumns[t],i=qe.ext.order[a.sSortDataType];i&&(n=i.call(e.oInstance,e,t,m(e,t)));for(var r,o=qe.ext.type.order[a.sType+"-pre"],l=0,s=e.aoData.length;l<s;l++)a=e.aoData[l],a._aSortData||(a._aSortData=[]),(!a._aSortData[t]||i)&&(r=i?n[l]:C(e,l,t,"sort"),a._aSortData[t]=o?o(r):r)}function Ae(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Q(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:Q(t.aoPreSearchCols[n])}})};Re(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function Ie(t,n,i){var r,o,l=t.aoColumns,n=function(n){if(n&&n.time){var s=Re(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===e.inArray(!1,s)&&!(0<(s=t.iStateDuration)&&n.time<+new Date-1e3*s||n.columns&&l.length!==n.columns.length)){if(t.oLoadedState=e.extend(!0,{},n),n.start!==a&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==a&&(t._iDisplayLength=n.length),n.order!==a&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=l.length?[0,n[1]]:n)})),n.search!==a&&e.extend(t.oPreviousSearch,ee(n.search)),n.columns)for(r=0,o=n.columns.length;r<o;r++)s=n.columns[r],s.visible!==a&&(l[r].bVisible=s.visible),s.search!==a&&e.extend(t.aoPreSearchCols[r],ee(s.search));Re(t,"aoStateLoaded","stateLoaded",[t,n])}}i()};if(t.oFeatures.bStateSave){var s=t.fnStateLoadCallback.call(t.oInstance,t,n);s!==a&&n(s)}else i()}function ke(t){var n=qe.settings,t=e.inArray(t,it(n,"nTable"));return-1!==t?n[t]:null}function Fe(e,n,a,i){if(a="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+a,i&&(a+=". For more information about this error, please see http://datatables.net/tn/"+i),n)t.console&&console.log;else if(n=qe.ext,n=n.sErrMode||n.errMode,e&&Re(e,null,"error",[e,i,a]),"alert"==n);else{if("throw"==n)throw Error(a);"function"==typeof n&&n(e,i,a)}}function Ee(t,n,i,r){e.isArray(i)?e.each(i,function(a,i){e.isArray(i)?Ee(t,n,i[0],i[1]):Ee(t,n,i)}):(r===a&&(r=i),n[i]!==a&&(t[r]=n[i]))}function Pe(t,n,a){var i,r;for(r in n)n.hasOwnProperty(r)&&(i=n[r],e.isPlainObject(i)?(e.isPlainObject(t[r])||(t[r]={}),e.extend(!0,t[r],i)):t[r]=a&&"data"!==r&&"aaData"!==r&&e.isArray(i)?i.slice():i);return t}function je(t,n,a){e(t).on("click.DT",n,function(e){t.blur(),a(e)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),a(e))}).on("selectstart.DT",function(){return!1})}function Le(e,t,n,a){n&&e[t].push({fn:n,sName:a})}function Re(t,n,a,i){var r=[];return n&&(r=e.map(t[n].slice().reverse(),function(e){return e.fn.apply(t.oInstance,i)})),null!==a&&(n=e.Event(a+".dt"),e(t.nTable).trigger(n,i),r.push(n.result)),r}function ze(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),a=e._iDisplayLength;t>=n&&(t=n-a),t-=t%a,(-1===a||0>t)&&(t=0),e._iDisplayStart=t}function Oe(t,n){var a=t.renderer,i=qe.ext.renderer[n];return e.isPlainObject(a)&&a[n]?i[a[n]]||i._:"string"==typeof a?i[a]||i._:i._}function Ne(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Ue(e,t){var n=[],n=Pt.numbers_length,a=Math.floor(n/2);return t<=n?n=ot(0,t):e<=a?(n=ot(0,n-2),n.push("ellipsis"),n.push(t-1)):(e>=t-1-a?n=ot(t-(n-2),t):(n=ot(e-a+2,e+a-1),n.push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function $e(t){e.each({num:function(e){return jt(e,t)},"num-fmt":function(e){return jt(e,t,Ye)},"html-num":function(e){return jt(e,t,Xe)},"html-num-fmt":function(e){return jt(e,t,Xe,Ye)}},function(e,n){Me.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(Me.type.search[e+t]=Me.type.search.html)})}function Be(e){return function(){var t=[ke(this[qe.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return qe.ext.internal[e].apply(this,t)}}var Me,He,We,Ze,qe=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new He(e?ke(this[Me.iApiIndex]):this)},this.fnAddData=function(t,n){var i=this.api(!0),r=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(n===a||n)&&i.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],i=n.oScroll;e===a||e?t.draw(!1):(""!==i.sX||""!==i.sY)&&pe(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===a||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var i=this.api(!0),e=i.rows(e),r=e.settings()[0],o=r.aoData[e[0][0]];return e.remove(),t&&t.call(this,r,o),(n===a||n)&&i.draw(),o},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,i,r,o){r=this.api(!0),null===t||t===a?r.search(e,n,i,o):r.column(t).search(e,n,i,o),r.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==a){var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==a||"td"==i||"th"==i?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==a?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?(e=t.cell(e).index(),[e.row,e.columnVisible,e.column]):null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===a||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){e=this.api(!0).column(e).visible(t),(n===a||n)&&e.columns.adjust().draw()},this.fnSettings=function(){return ke(this[Me.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,i,r){var o=this.api(!0);return n===a||null===n?o.row(t).data(e):o.cell(t,n).data(e),(r===a||r)&&o.columns.adjust(),(i===a||i)&&o.draw(),0},this.fnVersionCheck=Me.fnVersionCheck;var n=this,i=t===a,d=this.length;i&&(t={}),this.oApi=this.internal=Me.internal;for(var p in qe.ext.internal)p&&(this[p]=Be(p));return this.each(function(){var p,h={},m=1<d?Pe(h,t,!0):t,g=0,h=this.getAttribute("id"),v=!1,b=qe.defaults,C=e(this);if("table"!=this.nodeName.toLowerCase())Fe(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{l(b),s(b.column),r(b,b,!0),r(b.column,b.column,!0),r(b,e.extend(m,C.data()));var x=qe.settings,g=0;for(p=x.length;g<p;g++){var S=x[g];if(S.nTable==this||S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var D=m.bRetrieve!==a?m.bRetrieve:b.bRetrieve;if(i||D)return S.oInstance;if(m.bDestroy!==a?m.bDestroy:b.bDestroy){S.oInstance.fnDestroy();break}return void Fe(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){x.splice(g,1);break}}null!==h&&""!==h||(this.id=h="DataTables_Table_"+qe.ext._unique++);var A=e.extend(!0,{},qe.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:h,sTableId:h});A.nTable=this,A.oApi=n.internal,A.oInit=m,x.push(A),A.oInstance=1===n.length?n:C.dataTable(),l(m),m.oLanguage&&o(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=e.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Pe(e.extend(!0,{},b),m),Ee(A.oFeatures,m,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Ee(A,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ee(A.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ee(A.oLanguage,m,"fnInfoCallback"),Le(A,"aoDrawCallback",m.fnDrawCallback,"user"),Le(A,"aoServerParams",m.fnServerParams,"user"),Le(A,"aoStateSaveParams",m.fnStateSaveParams,"user"),Le(A,"aoStateLoadParams",m.fnStateLoadParams,"user"),Le(A,"aoStateLoaded",m.fnStateLoaded,"user"),Le(A,"aoRowCallback",m.fnRowCallback,"user"),Le(A,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Le(A,"aoHeaderCallback",m.fnHeaderCallback,"user"),Le(A,"aoFooterCallback",m.fnFooterCallback,"user"),Le(A,"aoInitComplete",m.fnInitComplete,"user"),Le(A,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),A.rowIdFn=T(m.rowId),c(A);var I=A.oClasses;m.bJQueryUI?(e.extend(I,qe.ext.oJUIClasses,m.oClasses),m.sDom===b.sDom&&"lfrtip"===b.sDom&&(A.sDom='<"H"lfr>t<"F"ip>'),A.renderer?e.isPlainObject(A.renderer)&&!A.renderer.header&&(A.renderer.header="jqueryui"):A.renderer="jqueryui"):e.extend(I,qe.ext.classes,m.oClasses),C.addClass(I.sTable),A.iInitDisplayStart===a&&(A.iInitDisplayStart=m.iDisplayStart,A._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading&&(A.bDeferLoading=!0,h=e.isArray(m.iDeferLoading),A._iRecordsDisplay=h?m.iDeferLoading[0]:m.iDeferLoading,A._iRecordsTotal=h?m.iDeferLoading[1]:m.iDeferLoading);var k=A.oLanguage;e.extend(!0,k,m.oLanguage),k.sUrl&&(e.ajax({dataType:"json",url:k.sUrl,success:function(t){o(t),r(b.oLanguage,t),e.extend(!0,k,t),ie(A)},error:function(){ie(A)}}),v=!0),null===m.asStripeClasses&&(A.asStripeClasses=[I.sStripeOdd,I.sStripeEven]);var h=A.asStripeClasses,F=C.children("tbody").find("tr").eq(0);if(-1!==e.inArray(!0,e.map(h,function(e){return F.hasClass(e)}))&&(e("tbody tr",this).removeClass(h.join(" ")),A.asDestroyStripes=h.slice()),h=[],x=this.getElementsByTagName("thead"),0!==x.length&&(U(A.aoHeader,x[0]),h=$(A)),null===m.aoColumns)for(x=[],g=0,p=h.length;g<p;g++)x.push(null);else x=m.aoColumns;for(g=0,p=x.length;g<p;g++)u(A,h?h[g]:null);if(w(A,m.aoColumnDefs,x,function(e,t){f(A,e,t)}),F.length){var E=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(F[0]).children("th, td").each(function(e,t){var n=A.aoColumns[e];if(n.mData===e){var i=E(t,"sort")||E(t,"order"),r=E(t,"filter")||E(t,"search");null===i&&null===r||(n.mData={_:e+".display",sort:null!==i?e+".@data-"+i:a,type:null!==i?e+".@data-"+i:a,filter:null!==r?e+".@data-"+r:a},f(A,e))}})}var P=A.oFeatures,h=function(){if(m.aaSorting===a){var t=A.aaSorting;for(g=0,p=t.length;g<p;g++)t[g][1]=A.aoColumns[g].asSorting[0]}Te(A),P.bSort&&Le(A,"aoDrawCallback",function(){if(A.bSorted){var t=_e(A),n={};e.each(t,function(e,t){n[t.src]=t.dir}),Re(A,null,"order",[A,t,n]),Ce(A)}}),Le(A,"aoDrawCallback",function(){(A.bSorted||"ssp"===Ne(A)||P.bDeferRender)&&Te(A)},"sc");var t=C.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),n=C.children("thead");if(0===n.length&&(n=e("<thead/>").appendTo(C)),A.nTHead=n[0],n=C.children("tbody"),0===n.length&&(n=e("<tbody/>").appendTo(C)),A.nTBody=n[0],n=C.children("tfoot"),0===n.length&&t.length>0&&(""!==A.oScroll.sX||""!==A.oScroll.sY)&&(n=e("<tfoot/>").appendTo(C)),0===n.length||0===n.children().length?C.addClass(I.sNoFooter):n.length>0&&(A.nTFoot=n[0],U(A.aoFooter,A.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)_(A,m.aaData[g]);else(A.bDeferLoading||"dom"==Ne(A))&&y(A,e(A.nTBody).children("tr"));A.aiDisplay=A.aiDisplayMaster.slice(),A.bInitialised=!0,!1===v&&ie(A)};m.bStateSave?(P.bStateSave=!0,Le(A,"aoDrawCallback",Ae,"state_save"),Ie(A,m,h)):h()}}),n=null,this},Ve={},Je=/[\r\n]/g,Xe=/<.*?>/g,Ke=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Ge=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Ye=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,Qe=function(e){return!e||!0===e||"-"===e},et=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},tt=function(e,t){return Ve[t]||(Ve[t]=RegExp(ft(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ve[t],"."):e},nt=function(e,t,n){var a="string"==typeof e;return!!Qe(e)||(t&&a&&(e=tt(e,t)),n&&a&&(e=e.replace(Ye,"")),!isNaN(parseFloat(e))&&isFinite(e))},at=function(e,t,n){return!!Qe(e)||(Qe(e)||"string"==typeof e?!!nt(e.replace(Xe,""),t,n)||null:null)},it=function(e,t,n){var i=[],r=0,o=e.length;if(n!==a)for(;r<o;r++)e[r]&&e[r][t]&&i.push(e[r][t][n]);else for(;r<o;r++)e[r]&&i.push(e[r][t]);return i},rt=function(e,t,n,i){var r=[],o=0,l=t.length;if(i!==a)for(;o<l;o++)e[t[o]][n]&&r.push(e[t[o]][n][i]);else for(;o<l;o++)r.push(e[t[o]][n]);return r},ot=function(e,t){var n,i=[];t===a?(t=0,n=e):(n=t,t=e);for(var r=t;r<n;r++)i.push(r);return i},lt=function(e){for(var t=[],n=0,a=e.length;n<a;n++)e[n]&&t.push(e[n]);return t},st=function(e){var t;e:{if(!(2>e.length)){t=e.slice().sort();for(var n=t[0],a=1,i=t.length;a<i;a++){if(t[a]===n){t=!1;break e}n=t[a]}}t=!0}if(t)return e.slice();t=[];var r,i=e.length,o=0,a=0;e:for(;a<i;a++){for(n=e[a],r=0;r<o;r++)if(t[r]===n)continue e;t.push(n),o++}return t};qe.util={throttle:function(e,t){var n,i,r=t!==a?t:200;return function(){var t=this,o=+new Date,l=arguments;n&&o<n+r?(clearTimeout(i),i=setTimeout(function(){n=a,e.apply(t,l)},r)):(n=o,e.apply(t,l))}},escapeRegex:function(e){return e.replace(Ge,"\\$1")}};var ct=function(e,t,n){e[t]!==a&&(e[n]=e[t])},dt=/\[.*?\]$/,ut=/\(\)$/,ft=qe.util.escapeRegex,pt=e("<div>")[0],ht=pt.textContent!==a,mt=/<.*?>/g,gt=qe.util.throttle,vt=[],bt=Array.prototype,wt=function(t){var n,a,i=qe.settings,r=e.map(i,function(e){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(n=e.inArray(t,r),-1!==n?[i[n]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?a=e(t):t instanceof e&&(a=t),a?a.map(function(){return n=e.inArray(this,r),-1!==n?i[n]:null}).toArray():void 0):[]};He=function(t,n){if(!(this instanceof He))return new He(t,n);var a=[],i=function(e){(e=wt(e))&&(a=a.concat(e))};if(e.isArray(t))for(var r=0,o=t.length;r<o;r++)i(t[r]);else i(t);this.context=st(a),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},He.extend(this,this,vt)},qe.Api=He,e.extend(He.prototype,{any:function(){return 0!==this.count()},concat:bt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new He(t[e],this[e]):null},filter:function(e){var t=[];if(bt.filter)t=bt.filter.call(this,e,this);else for(var n=0,a=this.length;n<a;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new He(this.context,t)},flatten:function(){var e=[];return new He(this.context,e.concat.apply(e,this.toArray()))},join:bt.join,indexOf:bt.indexOf||function(e,t){for(var n=t||0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,i){var r,o,l,s,c,d,u,f=[],p=this.context,h=this.selector;for("string"==typeof e&&(i=n,n=t,t=e,e=!1),o=0,l=p.length;o<l;o++){var m=new He(p[o]);if("table"===t)(r=n.call(m,p[o],o))!==a&&f.push(r);else if("columns"===t||"rows"===t)(r=n.call(m,p[o],this[o],o))!==a&&f.push(r);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(u=this[o],"column-rows"===t&&(d=St(p[o],h.opts)),s=0,c=u.length;s<c;s++)r=u[s],(r="cell"===t?n.call(m,p[o],r.row,r.column,o,s):n.call(m,p[o],r,o,s,d))!==a&&f.push(r)}return f.length||i?(e=new He(p,e?f.concat.apply([],f):f),t=e.selector,t.rows=h.rows,t.cols=h.cols,t.opts=h.opts,e):this},lastIndexOf:bt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(bt.map)t=bt.map.call(this,e,this);else for(var n=0,a=this.length;n<a;n++)t.push(e.call(this,this[n],n));return new He(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:bt.pop,push:bt.push,reduce:bt.reduce||function(e,t){return d(this,e,t,0,this.length,1)},reduceRight:bt.reduceRight||function(e,t){return d(this,e,t,this.length-1,-1,-1)},reverse:bt.reverse,selector:null,shift:bt.shift,slice:function(){return new He(this.context,this)},sort:bt.sort,splice:bt.splice,toArray:function(){return bt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new He(this.context,st(this))},unshift:bt.unshift}),He.extend=function(t,n,a){if(a.length&&n&&(n instanceof He||n.__dt_wrapper)){var i,r,o;for(i=0,r=a.length;i<r;i++)o=a[i],n[o.name]="function"==typeof o.val?function(e,t,n){return function(){var a=t.apply(e,arguments);return He.extend(a,a,n.methodExt),a}}(t,o.val,o):e.isPlainObject(o.val)?{}:o.val,n[o.name].__dt_wrapper=!0,He.extend(t,n[o.name],o.propExt)}},He.register=We=function(t,n){if(e.isArray(t))for(var a=0,i=t.length;a<i;a++)He.register(t[a],n);else for(var r,o,l=t.split("."),s=vt,a=0,i=l.length;a<i;a++){r=(o=-1!==l[a].indexOf("()"))?l[a].replace("()",""):l[a];var c;e:{c=0;for(var d=s.length;c<d;c++)if(s[c].name===r){c=s[c];break e}c=null}c||(c={name:r,val:{},methodExt:[],propExt:[]},s.push(c)),a===i-1?c.val=n:s=o?c.methodExt:c.propExt}},He.registerPlural=Ze=function(t,n,i){He.register(t,i),He.register(n,function(){var t=i.apply(this,arguments);return t===this?this:t instanceof He?t.length?e.isArray(t[0])?new He(t.context,t[0]):t[0]:a:t})},We("tables()",function(t){var n;if(t){n=He;var a=this.context;if("number"==typeof t)t=[a[t]];else var i=e.map(a,function(e){return e.nTable}),t=e(i).filter(t).map(function(){var t=e.inArray(this,i);return a[t]}).toArray();n=new n(t)}else n=this;return n}),We("table()",function(e){var e=this.tables(e),t=e.context;return t.length?new He(t[0]):e}),Ze("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Ze("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Ze("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Ze("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Ze("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),We("draw()",function(e){return this.iterator("table",function(t){"page"===e?z(t):("string"==typeof e&&(e="full-hold"!==e),O(t,!1===e))})}),We("page()",function(e){return e===a?this.page.info().page:this.iterator("table",function(t){ce(t,e)})}),We("page.info()",function(){if(0===this.context.length)return a;var e=this.context[0],t=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,i=e.fnRecordsDisplay(),r=-1===n;return{page:r?0:Math.floor(t/n),pages:r?1:Math.ceil(i/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===Ne(e)}}),We("page.len()",function(e){return e===a?0!==this.context.length?this.context[0]._iDisplayLength:a:this.iterator("table",function(t){oe(t,e)})});var _t=function(e,t,n){if(n){var a=new He(e);a.one("draw",function(){n(a.ajax.json())})}if("ssp"==Ne(e))O(e,t);else{ue(e,!0);var i=e.jqXHR;i&&4!==i.readyState&&i.abort(),B(e,[],function(n){I(e);for(var n=Z(e,n),a=0,i=n.length;a<i;a++)_(e,n[a]);O(e,t),ue(e,!1)})}};We("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),We("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),We("ajax.reload()",function(e,t){return this.iterator("table",function(n){_t(n,!1===t,e)})}),We("ajax.url()",function(t){var n=this.context;return t===a?0===n.length?a:(n=n[0],n.ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),We("ajax.url().load()",function(e,t){return this.iterator("table",function(n){_t(n,!1===t,e)})});var yt=function(t,n,i,r,o){var l,s,c,d,u,f,p=[];for(c=typeof n,n&&"string"!==c&&"function"!==c&&n.length!==a||(n=[n]),c=0,d=n.length;c<d;c++)for(s=n[c]&&n[c].split&&!n[c].match(/[\[\(:]/)?n[c].split(","):[n[c]],u=0,f=s.length;u<f;u++)(l=i("string"==typeof s[u]?e.trim(s[u]):s[u]))&&l.length&&(p=p.concat(l));if(t=Me.selector[t],t.length)for(c=0,d=t.length;c<d;c++)p=t[c](r,o,p);return st(p)},Ct=function(t){return t||(t={}),t.filter&&t.search===a&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},xt=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},St=function(t,n){var a,i,r,o=[],l=t.aiDisplay;a=t.aiDisplayMaster;var s=n.search;if(i=n.order,r=n.page,"ssp"==Ne(t))return"removed"===s?[]:ot(0,a.length);if("current"==r)for(a=t._iDisplayStart,i=t.fnDisplayEnd();a<i;a++)o.push(l[a]);else if("current"==i||"applied"==i)o="none"==s?a.slice():"applied"==s?l.slice():e.map(a,function(t){return-1===e.inArray(t,l)?t:null});else if("index"==i||"original"==i)for(a=0,i=t.aoData.length;a<i;a++)"none"==s?o.push(a):(-1===(r=e.inArray(a,l))&&"removed"==s||0<=r&&"applied"==s)&&o.push(a);return o};We("rows()",function(t,n){t===a?t="":e.isPlainObject(t)&&(n=t,t="");var n=Ct(n),i=this.iterator("table",function(i){var r,o=n;return yt("row",t,function(t){var n=et(t);if(null!==n&&!o)return[n];if(r||(r=St(i,o)),null!==n&&-1!==e.inArray(n,r))return[n];if(null===t||t===a||""===t)return r;if("function"==typeof t)return e.map(r,function(e){var n=i.aoData[e];return t(e,n._aData,n.nTr)?e:null});if(n=lt(rt(i.aoData,r,"nTr")),t.nodeName)return t._DT_RowIndex!==a?[t._DT_RowIndex]:t._DT_CellIndex?[t._DT_CellIndex.row]:(n=e(t).closest("*[data-dt-row]"),n.length?[n.data("dt-row")]:[]);if("string"==typeof t&&"#"===t.charAt(0)){var l=i.aIds[t.replace(/^#/,"")];if(l!==a)return[l.idx]}return e(n).filter(t).map(function(){return this._DT_RowIndex}).toArray()},i,o)},1);return i.selector.rows=t,i.selector.opts=n,i}),We("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||a},1)}),We("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return rt(e.aoData,t,"_aData")},1)}),Ze("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var a=t.aoData[n];return"search"===e?a._aFilterData:a._aSortData},1)}),Ze("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){F(t,n,e)})}),Ze("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Ze("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,a=0,i=n.length;a<i;a++)for(var r=0,o=this[a].length;r<o;r++){var l=n[a].rowIdFn(n[a].aoData[this[a][r]]._aData);t.push((!0===e?"#":"")+l)}return new He(n,t)}),Ze("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,i){var r,o,l,s,c,d=t.aoData,u=d[n];for(d.splice(n,1),r=0,o=d.length;r<o;r++)if(l=d[r],c=l.anCells,null!==l.nTr&&(l.nTr._DT_RowIndex=r),null!==c)for(l=0,s=c.length;l<s;l++)c[l]._DT_CellIndex.row=r;k(t.aiDisplayMaster,n),k(t.aiDisplay,n),k(e[i],n,!1),ze(t),(n=t.rowIdFn(u._aData))!==a&&delete t.aIds[n]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),We("rows.add()",function(t){var n=this.iterator("table",function(e){var n,a,i,r=[];for(a=0,i=t.length;a<i;a++)n=t[a],n.nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(y(e,n)[0]):r.push(_(e,n));return r},1),a=this.rows(-1);return a.pop(),e.merge(a,n),a}),We("row()",function(e,t){return xt(this.rows(e,t))}),We("row().data()",function(e){var t=this.context;return e===a?t.length&&this.length?t[0].aoData[this[0]]._aData:a:(t[0].aoData[this[0]]._aData=e,F(t[0],this[0],"data"),this)}),We("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),We("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?y(e,t)[0]:_(e,t)});return this.row(n[0])});var Tt=function(e,t){var n=e.context;n.length&&(n=n[0].aoData[t!==a?t:e[0]])&&n._details&&(n._details.remove(),n._detailsShow=a,n._details=a)},Dt=function(e,t){var n=e.context;if(n.length&&e.length){var a=n[0].aoData[e[0]];if(a._details){(a._detailsShow=t)?a._details.insertAfter(a.nTr):a._details.detach();var i=n[0],r=new He(i),o=i.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<it(o,"_details").length&&(r.on("draw.dt.DT_details",function(e,t){i===t&&r.rows({page:"current"}).eq(0).each(function(e){e=o[e],e._detailsShow&&e._details.insertAfter(e.nTr)})}),r.on("column-visibility.dt.DT_details",function(e,t){if(i===t)for(var n,a=g(t),r=0,l=o.length;r<l;r++)n=o[r],n._details&&n._details.children("td[colspan]").attr("colspan",a)}),r.on("destroy.dt.DT_details",function(e,t){if(i===t)for(var n=0,a=o.length;n<a;n++)o[n]._details&&Tt(r,n)}))}}};We("row().child()",function(t,n){var i=this.context;if(t===a)return i.length&&this.length?i[0].aoData[this[0]]._details:a;if(!0===t)this.child.show();else if(!1===t)Tt(this);else if(i.length&&this.length){var r=i[0],i=i[0].aoData[this[0]],o=[],l=function(t,n){if(e.isArray(t)||t instanceof e)for(var a=0,i=t.length;a<i;a++)l(t[a],n);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?o.push(t):(a=e("<tr><td/></tr>").addClass(n),e("td",a).addClass(n).html(t)[0].colSpan=g(r),o.push(a[0]))};l(t,n),i._details&&i._details.detach(),i._details=e(o),i._detailsShow&&i._details.insertAfter(i.nTr)}return this}),We(["row().child.show()","row().child().show()"],function(){return Dt(this,!0),this}),We(["row().child.hide()","row().child().hide()"],function(){return Dt(this,!1),this}),We(["row().child.remove()","row().child().remove()"],function(){return Tt(this),this}),We("row().child.isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1)});var At=function(e,t,n,a,i){for(var n=[],a=0,r=i.length;a<r;a++)n.push(C(e,i[a],t));return n};We("columns()",function(t,n){t===a?t="":e.isPlainObject(t)&&(n=t,t="");var n=Ct(n),i=this.iterator("table",function(a){var i=t,r=n,o=a.aoColumns,l=it(o,"sName"),s=it(o,"nTh");return yt("column",i,function(t){var n=et(t);if(""===t)return ot(o.length);if(null!==n)return[n>=0?n:o.length+n];if("function"==typeof t){var i=St(a,r);return e.map(o,function(e,n){return t(n,At(a,n,0,0,i),s[n])?n:null})}var c="string"==typeof t?t.match(/^([^:]+):(name|visIdx|visible)$/):"";if(c)switch(c[2]){case"visIdx":case"visible":if((n=parseInt(c[1],10))<0){var d=e.map(o,function(e,t){return e.bVisible?t:null});return[d[d.length+n]]}return[h(a,n)];case"name":return e.map(l,function(e,t){return e===c[1]?t:null});default:return[]}return t.nodeName&&t._DT_CellIndex?[t._DT_CellIndex.column]:(n=e(s).filter(t).map(function(){return e.inArray(this,s)}).toArray(),n.length||!t.nodeName?n:(n=e(t).closest("*[data-dt-column]"),n.length?[n.data("dt-column")]:[]))},a,r)},1);return i.selector.cols=t,i.selector.opts=n,i}),Ze("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Ze("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Ze("columns().data()","column().data()",function(){return this.iterator("column-rows",At,1)}),Ze("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Ze("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,a,i,r){return rt(t.aoData,r,"search"===e?"_aFilterData":"_aSortData",n)},1)}),Ze("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,a,i){return rt(e.aoData,i,"anCells",t)},1)}),Ze("columns().visible()","column().visible()",function(t,n){var i=this.iterator("column",function(n,i){if(t===a)return n.aoColumns[i].bVisible;var r,o,l,s=n.aoColumns,c=s[i],d=n.aoData;if(t!==a&&c.bVisible!==t){if(t){var u=e.inArray(!0,it(s,"bVisible"),i+1);for(r=0,o=d.length;r<o;r++)l=d[r].nTr,s=d[r].anCells,l&&l.insertBefore(s[i],s[u]||null)}else e(it(n.aoData,"anCells",i)).detach();c.bVisible=t,R(n,n.aoHeader),R(n,n.aoFooter),Ae(n)}});return t!==a&&(this.iterator("column",function(e,a){Re(e,null,"column-visibility",[e,a,t,n])}),(n===a||n)&&this.columns.adjust()),i}),Ze("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?m(t,n):n},1)}),We("columns.adjust()",function(){return this.iterator("table",function(e){p(e)},1)}),We("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return h(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}}),We("column()",function(e,t){return xt(this.columns(e,t))}),We("cells()",function(t,n,i){if(e.isPlainObject(t)&&(t.row===a?(i=t,t=null):(i=n,n=null)),e.isPlainObject(n)&&(i=n,n=null),null===n||n===a)return this.iterator("table",function(n){var r,o,l,s,c,d,u,f=t,p=Ct(i),h=n.aoData,m=St(n,p),g=lt(rt(h,m,"anCells")),v=e([].concat.apply([],g)),b=n.aoColumns.length;return yt("cell",f,function(t){var i="function"==typeof t;if(null===t||t===a||i){for(o=[],l=0,s=m.length;l<s;l++)for(r=m[l],c=0;c<b;c++)d={row:r,column:c},i?(u=h[r],t(d,C(n,r,c),u.anCells?u.anCells[c]:null)&&o.push(d)):o.push(d);return o}return e.isPlainObject(t)?[t]:(i=v.filter(t).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray(),i.length||!t.nodeName?i:(u=e(t).closest("*[data-dt-row]"),u.length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]))},n,p)});var r,o,l,s,c,d=this.columns(n,i),u=this.rows(t,i),f=this.iterator("table",function(e,t){for(r=[],o=0,l=u[t].length;o<l;o++)for(s=0,c=d[t].length;s<c;s++)r.push({row:u[t][o],column:d[t][s]});return r},1);return e.extend(f.selector,{cols:n,rows:t,opts:i}),f}),Ze("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return(e=e.aoData[t])&&e.anCells?e.anCells[n]:a},1)}),We("cells().data()",function(){return this.iterator("cell",function(e,t,n){return C(e,t,n)},1)}),Ze("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,a){return t.aoData[n][e][a]},1)}),Ze("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,a){return C(t,n,a,e)},1)}),Ze("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}},1)}),
Ze("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,a){F(t,n,e,a)})}),We("cell()",function(e,t,n){return xt(this.cells(e,t,n))}),We("cell().data()",function(e){var t=this.context,n=this[0];return e===a?t.length&&n.length?C(t[0],n[0].row,n[0].column):a:(x(t[0],n[0].row,n[0].column,e),F(t[0],n[0].row,"data",n[0].column),this)}),We("order()",function(t,n){var i=this.context;return t===a?0!==i.length?i[0].aaSorting:a:("number"==typeof t?t=[[t,n]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),We("order.listener()",function(e,t,n){return this.iterator("table",function(a){Se(a,e,t,n)})}),We("order.fixed()",function(t){if(!t){var n=this.context,n=n.length?n[0].aaSortingFixed:a;return e.isArray(n)?{pre:n}:n}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),We(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(a,i){var r=[];e.each(n[i],function(e,n){r.push([n,t])}),a.aaSorting=r})}),We("search()",function(t,n,i,r){var o=this.context;return t===a?0!==o.length?o[0].oPreviousSearch.sSearch:a:this.iterator("table",function(a){a.oFeatures.bFilter&&V(a,e.extend({},a.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===r||r}),1)})}),Ze("columns().search()","column().search()",function(t,n,i,r){return this.iterator("column",function(o,l){var s=o.aoPreSearchCols;if(t===a)return s[l].sSearch;o.oFeatures.bFilter&&(e.extend(s[l],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===r||r}),V(o,o.oPreviousSearch,1))})}),We("state()",function(){return this.context.length?this.context[0].oSavedState:null}),We("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),We("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),We("state.save()",function(){return this.iterator("table",function(e){Ae(e)})}),qe.versionCheck=qe.fnVersionCheck=function(e){for(var t,n,a=qe.version.split("."),e=e.split("."),i=0,r=e.length;i<r;i++)if(t=parseInt(a[i],10)||0,n=parseInt(e[i],10)||0,t!==n)return t>n;return!0},qe.isDataTable=qe.fnIsDataTable=function(t){var n=e(t).get(0),a=!1;return t instanceof qe.Api||(e.each(qe.settings,function(t,i){var r=i.nScrollHead?e("table",i.nScrollHead)[0]:null,o=i.nScrollFoot?e("table",i.nScrollFoot)[0]:null;i.nTable!==n&&r!==n&&o!==n||(a=!0)}),a)},qe.tables=qe.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var a=e.map(qe.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new He(a):a},qe.camelToHungarian=r,We("$()",function(t,n){var a=this.rows(n).nodes(),a=e(a);return e([].concat(a.filter(t).toArray(),a.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){We(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var a=e(this.tables().nodes());return a[n].apply(a,t),this})}),We("clear()",function(){return this.iterator("table",function(e){I(e)})}),We("settings()",function(){return new He(this.context,this.context)}),We("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),We("data()",function(){return this.iterator("table",function(e){return it(e.aoData,"_aData")}).flatten()}),We("destroy()",function(n){return n=n||!1,this.iterator("table",function(a){var i,r=a.nTableWrapper.parentNode,o=a.oClasses,l=a.nTable,s=a.nTBody,c=a.nTHead,d=a.nTFoot,u=e(l),s=e(s),f=e(a.nTableWrapper),p=e.map(a.aoData,function(e){return e.nTr});a.bDestroying=!0,Re(a,"aoDestroyCallback","destroy",[a]),n||new He(a).columns().visible(!0),f.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+a.sInstance),l!=c.parentNode&&(u.children("thead").detach(),u.append(c)),d&&l!=d.parentNode&&(u.children("tfoot").detach(),u.append(d)),a.aaSorting=[],a.aaSortingFixed=[],Te(a),e(p).removeClass(a.asStripeClasses.join(" ")),e("th, td",c).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),a.bJUI&&(e("th span."+o.sSortIcon+", td span."+o.sSortIcon,c).detach(),e("th, td",c).each(function(){var t=e("div."+o.sSortJUIWrapper,this);e(this).append(t.contents()),t.detach()})),s.children().detach(),s.append(p),c=n?"remove":"detach",u[c](),f[c](),!n&&r&&(r.insertBefore(l,a.nTableReinsertBefore),u.css("width",a.sDestroyWidth).removeClass(o.sTable),(i=a.asDestroyStripes.length)&&s.children().each(function(t){e(this).addClass(a.asDestroyStripes[t%i])})),-1!==(r=e.inArray(a,qe.settings))&&qe.settings.splice(r,1)})}),e.each(["column","row","cell"],function(e,t){We(t+"s().every()",function(e){var n=this.selector.opts,i=this;return this.iterator(t,function(r,o,l,s,c){e.call(i[t](o,"cell"===t?l:n,"cell"===t?n:a),o,l,s,c)})})}),We("i18n()",function(t,n,i){var r=this.context[0],t=T(t)(r.oLanguage);return t===a&&(t=n),i!==a&&e.isPlainObject(t)&&(t=t[i]!==a?t[i]:t._),t.replace("%d",i)}),qe.version="1.10.15",qe.settings=[],qe.models={},qe.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},qe.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},qe.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},qe.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},qe.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},i(qe.defaults),qe.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},i(qe.defaults.column),qe.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:a,oAjaxData:a,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ne(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ne(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,a=this.aiDisplay.length,i=this.oFeatures,r=i.bPaginate;return i.bServerSide?!1===r||-1===e?t+a:Math.min(t+e,this._iRecordsDisplay):!r||n>a||-1===e?a:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},qe.ext=Me={buttons:{},classes:{},build:"bs/dt-1.10.15",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:qe.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:qe.version},e.extend(Me,{afnFiltering:Me.search,aTypes:Me.type.detect,ofnSearch:Me.type.search,oSort:Me.type.order,afnSortData:Me.order,aoFeatures:Me.feature,oApi:Me.internal,oStdClasses:Me.classes,oPagination:Me.pager}),e.extend(qe.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var It="",It="",kt=It+"ui-state-default",Ft=It+"css_right ui-icon ui-icon-",Et=It+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";e.extend(qe.ext.oJUIClasses,qe.ext.classes,{sPageButton:"fg-button ui-button "+kt,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:kt+" sorting_asc",sSortDesc:kt+" sorting_desc",sSortable:kt+" sorting",sSortableAsc:kt+" sorting_asc_disabled",sSortableDesc:kt+" sorting_desc_disabled",sSortableNone:kt+" sorting_disabled",sSortJUIAsc:Ft+"triangle-1-n",sSortJUIDesc:Ft+"triangle-1-s",sSortJUI:Ft+"carat-2-n-s",sSortJUIAscAllowed:Ft+"carat-1-n",sSortJUIDescAllowed:Ft+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+kt,sScrollFoot:"dataTables_scrollFoot "+kt,sHeaderTH:kt,sFooterTH:kt,sJUIHeader:Et+" ui-corner-tl ui-corner-tr",sJUIFooter:Et+" ui-corner-bl ui-corner-br"});var Pt=qe.ext.pager;e.extend(Pt,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(e,t){return[Ue(e,t)]},simple_numbers:function(e,t){return["previous",Ue(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Ue(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Ue(e,t),"last"]},_numbers:Ue,numbers_length:7}),e.extend(!0,qe.ext.renderer,{pageButton:{_:function(t,i,r,o,l,s){var c,d,u,f=t.oClasses,p=t.oLanguage.oPaginate,h=t.oLanguage.oAria.paginate||{},m=0,g=function(n,a){var i,o,u,v,b=function(e){ce(t,e.data.action,!0)};for(i=0,o=a.length;i<o;i++)if(v=a[i],e.isArray(v))u=e("<"+(v.DT_el||"div")+"/>").appendTo(n),g(u,v);else{switch(c=null,d="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=p.sFirst,d=v+(l>0?"":" "+f.sPageButtonDisabled);break;case"previous":c=p.sPrevious,d=v+(l>0?"":" "+f.sPageButtonDisabled);break;case"next":c=p.sNext,d=v+(l<s-1?"":" "+f.sPageButtonDisabled);break;case"last":c=p.sLast,d=v+(l<s-1?"":" "+f.sPageButtonDisabled);break;default:c=v+1,d=l===v?f.sPageButtonActive:""}null!==c&&(u=e("<a>",{class:f.sPageButton+" "+d,"aria-controls":t.sTableId,"aria-label":h[v],"data-dt-idx":m,tabindex:t.iTabIndex,id:0===r&&"string"==typeof v?t.sTableId+"_"+v:null}).html(c).appendTo(n),je(u,{action:v},b),m++)}};try{u=e(i).find(n.activeElement).data("dt-idx")}catch(e){}g(e(i).empty(),o),u!==a&&e(i).find("[data-dt-idx="+u+"]").focus()}}}),e.extend(qe.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n)?"num"+n:null},function(e){if(e&&!(e instanceof Date)&&!Ke.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||Qe(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return at(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return at(e,n,!0)?"html-num-fmt"+n:null},function(e){return Qe(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(qe.ext.type.search,{html:function(e){return Qe(e)?e:"string"==typeof e?e.replace(Je," ").replace(Xe,""):""},string:function(e){return Qe(e)?e:"string"==typeof e?e.replace(Je," "):e}});var jt=function(e,t,n,a){return 0===e||e&&"-"!==e?(t&&(e=tt(e,t)),e.replace&&(n&&(e=e.replace(n,"")),a&&(e=e.replace(a,""))),1*e):-1/0};e.extend(Me.type.order,{"date-pre":function(e){return Date.parse(e)||-1/0},"html-pre":function(e){return Qe(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return Qe(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),$e(""),e.extend(!0,qe.ext.renderer,{header:{_:function(t,n,a,i){e(t.nTable).on("order.dt.DT",function(e,r,o,l){t===r&&(e=a.idx,n.removeClass(a.sSortingClass+" "+i.sSortAsc+" "+i.sSortDesc).addClass("asc"==l[e]?i.sSortAsc:"desc"==l[e]?i.sSortDesc:a.sSortingClass))})},jqueryui:function(t,n,a,i){e("<div/>").addClass(i.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(i.sSortIcon+" "+a.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,r,o,l){t===r&&(e=a.idx,n.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==l[e]?i.sSortAsc:"desc"==l[e]?i.sSortDesc:a.sSortingClass),n.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass("asc"==l[e]?i.sSortJUIAsc:"desc"==l[e]?i.sSortJUIDesc:a.sSortingClassJUI))})}}});var Lt=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return qe.render={number:function(e,t,n,a,i){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var o=0>r?"-":"",l=parseFloat(r);return isNaN(l)?Lt(r):(l=l.toFixed(n),r=Math.abs(l),l=parseInt(r,10),r=n?t+(r-l).toFixed(n).substring(2):"",o+(a||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+r+(i||""))}}},text:function(){return{display:Lt}}},e.extend(qe.ext.internal,{_fnExternApiFunc:Be,_fnBuildAjax:B,_fnAjaxUpdate:M,_fnAjaxParameters:H,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:Z,_fnAddColumn:u,_fnColumnOptions:f,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:h,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:w,_fnHungarianMap:i,_fnCamelToHungarian:r,_fnLanguageCompat:o,_fnBrowserDetect:c,_fnAddData:_,_fnAddTr:y,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==a?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,a){return e.inArray(a,t.aoData[n].anCells)},_fnGetCellData:C,_fnSetCellData:x,_fnSplitObjNotation:S,_fnGetObjectDataFn:T,_fnSetObjectDataFn:D,_fnGetDataMaster:A,_fnClearTable:I,_fnDeleteIndex:k,_fnInvalidate:F,_fnGetRowElements:E,_fnCreateTr:P,_fnBuildHead:L,_fnDrawHead:R,_fnDraw:z,_fnReDraw:O,_fnAddOptionsHtml:N,_fnDetectHeader:U,_fnGetUniqueThs:$,_fnFeatureHtmlFilter:q,_fnFilterComplete:V,_fnFilterCustom:J,_fnFilterColumn:X,_fnFilter:K,_fnFilterCreateSearch:G,_fnEscapeRegex:ft,_fnFilterData:Y,_fnFeatureHtmlInfo:te,_fnUpdateInfo:ne,_fnInfoMacros:ae,_fnInitialise:ie,_fnInitComplete:re,_fnLengthChange:oe,_fnFeatureHtmlLength:le,_fnFeatureHtmlPaginate:se,_fnPageChange:ce,_fnFeatureHtmlProcessing:de,_fnProcessingDisplay:ue,_fnFeatureHtmlTable:fe,_fnScrollDraw:pe,_fnApplyToChildren:he,_fnCalculateColumnWidths:me,_fnThrottle:gt,_fnConvertToWidth:ge,_fnGetWidestNode:ve,_fnGetMaxLenString:be,_fnStringToCss:we,_fnSortFlatten:_e,_fnSort:ye,_fnSortAria:Ce,_fnSortListener:xe,_fnSortAttachListener:Se,_fnSortingClasses:Te,_fnSortData:De,_fnSaveState:Ae,_fnLoadState:Ie,_fnSettingsFromNode:ke,_fnLog:Fe,_fnMap:Ee,_fnBindAction:je,_fnCallbackReg:Le,_fnCallbackFire:Re,_fnLengthOverflow:ze,_fnRenderer:Oe,_fnDataSource:Ne,_fnRowAttributes:j,_fnCalculateEnd:function(){}}),e.fn.dataTable=qe,qe.$=e,e.fn.dataTableSettings=qe.settings,e.fn.dataTableExt=qe.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(qe,function(t,n){e.fn.DataTable[t]=n}),e.fn.dataTable}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,a){var i=e.fn.dataTable;return e.extend(!0,i.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(i.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),i.ext.renderer.pageButton.bootstrap=function(t,r,o,l,s,c){var d,u,f,p=new i.Api(t),h=t.oClasses,m=t.oLanguage.oPaginate,g=t.oLanguage.oAria.paginate||{},v=0,b=function(n,a){var i,r,l,f,w=function(t){t.preventDefault(),!e(t.currentTarget).hasClass("disabled")&&p.page()!=t.data.action&&p.page(t.data.action).draw("page")};for(i=0,r=a.length;i<r;i++)if(f=a[i],e.isArray(f))b(n,f);else{switch(u=d="",f){case"ellipsis":d="&#x2026;",u="disabled";break;case"first":d=m.sFirst,u=f+(0<s?"":" disabled");break;case"previous":d=m.sPrevious,u=f+(0<s?"":" disabled");break;case"next":d=m.sNext,u=f+(s<c-1?"":" disabled");break;case"last":d=m.sLast,u=f+(s<c-1?"":" disabled");break;default:d=f+1,u=s===f?"active":""}d&&(l=e("<li>",{class:h.sPageButton+" "+u,id:0===o&&"string"==typeof f?t.sTableId+"_"+f:null}).append(e("<a>",{href:"#","aria-controls":t.sTableId,"aria-label":g[f],"data-dt-idx":v,tabindex:t.iTabIndex}).html(d)).appendTo(n),t.oApi._fnBindAction(l,{action:f},w),v++)}};try{f=e(r).find(n.activeElement).data("dt-idx")}catch(e){}b(e(r).empty().html('<ul class="pagination"/>').children("ul"),l),f!==a&&e(r).find("[data-dt-idx="+f+"]").focus()},i}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,a){"use strict";var i=e.fn.dataTable,r=0,o=function(t,n){if(!i.versionCheck||!i.versionCheck("1.10.8"))throw"Warning: altEditor requires DataTables 1.10.8 or greater";this.c=e.extend(!0,{},i.defaults.altEditor,o.defaults,n),this.s={dt:new i.Api(t),namespace:".altEditor"+r++},this.dom={modal:e('<div class="dt-altEditor-handle"/>')},this._constructor()};return e.extend(o.prototype,{_constructor:function(){var t=this,a=this.s.dt;this._setup(),a.on("destroy.altEditor",function(){a.off(".altEditor"),e(a.table().body()).off(t.s.namespace),e(n.body).off(t.s.namespace)})},_setup:function(){var t=this;this.s.dt;e("body").append(['<div class="modal fade" id="altEditor-modal" tabindex="-1" role="dialog">','<div class="modal-dialog">','<div class="modal-content">','<div class="modal-header altEditor-header">','<button type="button" class="close" data-dismiss="modal" aria-label="Close">','<span aria-hidden="true">&times;</span>',"</button>",'<h4 class="modal-title"></h4>',"</div>",'<div class="modal-body altEditor-body">',"<p></p>","</div>",'<div class="modal-footer altEditor-footer">','<button type="button" class="btn btn-sm btn-raised btn-danger">Save changes</button>','<button type="button" class="btn btn-sm btn-raised btn-secondary" data-dismiss="modal">Close</button>',"</div>","</div>","</div>","</div>"].join("\n")),this.s.dt.button("edit:name")&&(this.s.dt.button("edit:name").action(function(e,n,a,i){n.rows({selected:!0}).count();t._openEditModal()}),e(n).on("click","#editRowBtn",function(e){e.preventDefault(),e.stopPropagation(),t._editRowData()})),this.s.dt.button("delete:name")&&(this.s.dt.button("delete:name").action(function(e,n,a,i){n.rows({selected:!0}).count();t._openDeleteModal()}),e(n).on("click","#deleteRowBtn",function(e){e.preventDefault(),e.stopPropagation(),t._deleteRow()})),this.s.dt.button("add:name")&&(this.s.dt.button("add:name").action(function(e,n,a,i){n.rows({selected:!0}).count();t._openAddModal()}),e(n).on("click","#addRowBtn",function(e){e.preventDefault(),e.stopPropagation(),t._addRowData()}))},_emitEvent:function(t,n){this.s.dt.iterator("table",function(a,i){e(a.nTable).triggerHandler(t+".dt",n)})},_openEditModal:function(){for(var t=this.s.dt,n=[],a=0;a<t.context[0].aoColumns.length;a++){var i={title:t.context[0].aoColumns[a].sTitle};void 0!==t.context[0].aoColumns[a].className?i.editable=!0:i.editable=!1,n[a]=i}var r=t.rows({selected:!0}),o="";o+='<form name="altEditor-form" class="altEditor-form" role="form" autocomplete="off">';for(var l in n){var s=n[l].editable?"":" hidden",c=n[l].title,d=c.toLowerCase().replace(" ","_");o+='<div class="form-group altEditor-form-group'+s+'">',o+='<div class="col-sm-3 col-md-3 col-lg-3" style="padding-top: 10px;">',o+='<label for="'+d+'" class="altEditor-label">',o+=c+": ",o+="</label>",o+="</div>",o+='<div class="col-sm-9 col-md-9 col-lg-9">',o+='<input type="text" id="'+d+'" name="'+c+'" placeholder="'+c+'" autocomplete="off" style="overflow: hidden;" class="form-control form-control-xs" value="'+r.data()[0][l]+'">',o+="</div>",o+='<div style="clear:both;"></div>',o+="</div>"}o+="</form>",e("#altEditor-modal").on("show.bs.modal",function(){e("#altEditor-modal").find(".modal-title").html("Update Record"),e("#altEditor-modal").find(".modal-body").html(o),e("#altEditor-modal").find(".modal-footer").html(['<button type="button" data-content="remove" class="btn btn-sm btn-raised btn-danger" id="editRowBtn">Save Changes</button>','<button type="button" data-content="remove" class="btn btn-sm btn-raised btn-secondary" data-dismiss="modal">Close</button>'].join("\n"))}),e("#altEditor-modal").modal("show"),e("#altEditor-modal input[0]").focus()},_editRowData:function(){var t=this.s.dt,n=[],a={};e('form[name="altEditor-form"] input, select').each(function(t){var i=e(this),r="null"==i.val()?"":i.val(),o="select-one"===i.prop("type")?i.find(":selected").text():r;void 0!==i.attr("id")&&(n.push(o),a[i.attr("id")]=r)}),e(t.context[0].nTable).trigger("savedata",["edit",a,function(i){e("#altEditor-modal .modal-body .alert").remove();var r=['<div id="datatable_success" class="alert alert-success" role="alert">',"<strong>Success!</strong> This record has been updated.","</div>"].join("\n");if(e("#altEditor-modal .modal-body").prepend(r),e("#editRowBtn").remove(),void 0!==i&&i.hasOwnProperty("avatar")&&i.avatar){var o=0;for(var l in a){if("avatar"===l)break;o++}n[o]=i.avatar}t.row({selected:!0}).data(n)},function(t){var n=[];n.push('<div id="datatable_error" class="alert alert-danger" role="alert">'),"object"==typeof t&&t.hasOwnProperty("status")&&t.hasOwnProperty("message")?n.push("<strong>Ooops!</strong> "+t.message):n.push("<strong>Ooops!</strong> Failed to proceed with the operation."),n.push("</div>"),e("#altEditor-modal .modal-body .alert").remove(),e("#altEditor-modal .modal-body").prepend(n.join("\n"))}])},_openDeleteModal:function(){for(var t=this.s.dt,n=[],a=0;a<t.context[0].aoColumns.length;a++){var i={title:t.context[0].aoColumns[a].sTitle};void 0!==t.context[0].aoColumns[a].className?i.editable=!0:i.editable=!1,n[a]=i}var r=t.rows({selected:!0}),o="";o+='<form name="altEditor-form" class="altEditor-form" role="form" autocomplete="off">';for(var a in n){var l=n[a].editable?"":" hidden",s=n[a].title;o+='<div class="form-group altEditor-form-group'+l+'">',o+='<div class="col-sm-3 col-md-3 col-lg-3" style="padding-top: 7px;">',o+='<label class="altEditor-label">',o+=s+": ",o+="</label>",o+="</div>",o+='<div class="col-sm-9 col-md-9 col-lg-9" style="padding-top: 7px;">',o+='<p id="'+s+'" style="overflow: hidden;" class="altEditor-input-fd">'+r.data()[0][a]+"</p>",o+="</div>",o+='<div style="clear:both;"></div>',o+="</div>"}o+="</form>",e("#altEditor-modal").on("show.bs.modal",function(){e("#altEditor-modal").find(".modal-title").html("Delete Record"),e("#altEditor-modal").find(".modal-body").html(o),e("#altEditor-modal").find(".modal-footer").html(['<button type="button" data-content="remove" class="btn btn-sm btn-raised btn-danger" id="deleteRowBtn">Delete</button>','<button type="button" data-content="remove" class="btn btn-sm btn-raised btn-secondary" data-dismiss="modal">Close</button>'].join("\n"))}),e("#altEditor-modal").modal("show"),e("#altEditor-modal input[0]").focus()},_deleteRow:function(){var t=this.s.dt,n={};e('form[name="altEditor-form"] .altEditor-input-fd').each(function(t){var a=e(this);n[a.attr("id")]=a.html()}),e(t.context[0].nTable).trigger("savedata",["delete",n,function(){e("#altEditor-modal .modal-body .alert").remove();var n=['<div id="datatable_success" class="alert alert-success" role="alert">',"<strong>Success!</strong> This record has been deleted.","</div>"].join("\n");e("#altEditor-modal .modal-body").prepend(n),e("#deleteRowBtn").remove(),t.row({selected:!0}).remove(),t.draw()},function(t){var n=[];n.push('<div id="datatable_error" class="alert alert-danger" role="alert">'),"object"==typeof t&&t.hasOwnProperty("status")&&t.hasOwnProperty("message")?n.push("<strong>Ooops!</strong> "+t.message):n.push("<strong>Ooops!</strong> Failed to proceed with the operation."),n.push("</div>"),e("#altEditor-modal .modal-body .alert").remove(),e("#altEditor-modal .modal-body").prepend(n.join("\n"))}])},_openAddModal:function(){for(var t=this.s.dt,n=[],a=0;a<t.context[0].aoColumns.length;a++){var i={title:t.context[0].aoColumns[a].sTitle};void 0!==t.context[0].aoColumns[a].className?i.editable=!0:i.editable=!1,n[a]=i}var r="";r+='<form name="altEditor-form" class="altEditor-form" role="form" autocomplete="off">';for(var o in n){var l=n[o].editable?"":" hidden",s=n[o].title,c=s.toLowerCase().replace(" ","_");r+='<div class="form-group altEditor-form-group'+l+'">',r+='<div class="col-sm-3 col-md-3 col-lg-3" style="padding-top: 10px;">',r+='<label for="'+c+'" class="altEditor-label">',r+=s+": ",r+="</label>",r+="</div>",r+='<div class="col-sm-9 col-md-9 col-lg-9">',r+='<input type="text" id="'+c+'" name="'+s+'" autocomplete="off" style="overflow: hidden;" class="form-control form-control-xs" value="">',r+="</div>",r+='<div style="clear:both;"></div>',r+="</div>"}r+="</form>",e("#altEditor-modal").on("show.bs.modal",function(){e("#altEditor-modal").find(".modal-title").html("New Record"),e("#altEditor-modal").find(".modal-body").html(r),e("#altEditor-modal").find(".modal-footer").html(['<button type="button" data-content="remove" class="btn btn-sm btn-raised btn-danger" id="addRowBtn">Add Record</button>','<button type="button" data-content="remove" class="btn btn-sm btn-raised btn-secondary" data-dismiss="modal">Close</button>'].join("\n"))}),e("#altEditor-modal").modal("show"),e("#altEditor-modal input[0]").focus()},_addRowData:function(){var t=this.s.dt,n=[],a={};e('form[name="altEditor-form"] input, select').each(function(t){var i=e(this),r="null"==i.val()?"":i.val(),o="select-one"===i.prop("type")?i.find(":selected").text():r;void 0!==i.attr("id")&&(n.push(o),a[i.attr("id")]=r)}),e(t.context[0].nTable).trigger("savedata",["add",a,function(i){e("#altEditor-modal .modal-body .alert").remove();var r=['<div id="datatable_success" class="alert alert-success" role="alert">',"<strong>Success!</strong> This record has been added.","</div>"].join("\n");if(e("#altEditor-modal .modal-body").prepend(r),e("#addRowBtn").remove(),void 0!==i&&(i.hasOwnProperty("id")&&(n[0]=i.id),i.hasOwnProperty("avatar")&&i.avatar)){var o=0;for(var l in a){if("avatar"===l)break;o++}n[o]=i.avatar}t.row.add(n).draw(!1)},function(t){var n=[];n.push('<div id="datatable_error" class="alert alert-danger" role="alert">'),"object"==typeof t&&t.hasOwnProperty("status")&&t.hasOwnProperty("message")?n.push("<strong>Ooops!</strong> "+t.message):n.push("<strong>Ooops!</strong> Failed to proceed with the operation."),n.push("</div>"),e("#altEditor-modal .modal-body .alert").remove(),e("#altEditor-modal .modal-body").prepend(n.join("\n"))}])},_getExecutionLocationFolder:function(){var t=e("script[src]"),n=e.grep(t,function(e){if(-1!==e.src.indexOf("dataTables.altEditor.js"))return e}),a=n[0].src;return a.substring(0,a.lastIndexOf("/")+1)}}),o.version="1.0",o.defaults={alwaysAsk:!1,focus:null,columns:"",update:null,editor:null},o.classes={btn:"btn"},e(n).on("preInit.dt.altEditor",function(t,n,a){if("dt"===t.namespace){var r=n.oInit.altEditor,l=i.defaults.altEditor;if(r||l){var s=e.extend({},r,l);!1!==r&&new o(n,s)}}}),i.altEditor=o,o}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,a){var i=e.fn.dataTable,r=0,o=0,l=i.ext.buttons,s=function(t,n){void 0===n&&(n={}),!0===n&&(n={}),e.isArray(n)&&(n={buttons:n}),this.c=e.extend(!0,{},s.defaults,n),n.buttons&&(this.c.buttons=n.buttons),this.s={dt:new i.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+r++},
this.dom={container:e("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};e.extend(s.prototype,{action:function(e,t){var n=this._nodeToButton(e);return t===a?n.conf.action:(n.conf.action=t,this)},active:function(t,n){var i=this._nodeToButton(t),r=this.c.dom.button.active,i=e(i.node);return n===a?i.hasClass(r):(i.toggleClass(r,n===a||n),this)},add:function(e,t){var n=this.s.buttons;if("string"==typeof t){for(var a=t.split("-"),n=this.s,i=0,r=a.length-1;i<r;i++)n=n.buttons[1*a[i]];n=n.buttons,t=1*a[a.length-1]}return this._expandButton(n,e,!1,t),this._draw(),this},container:function(){return this.dom.container},disable:function(t){return t=this._nodeToButton(t),e(t.node).addClass(this.c.dom.button.disabled),this},destroy:function(){e("body").off("keyup."+this.s.namespace);var t,n,a=this.s.buttons.slice();for(t=0,n=a.length;t<n;t++)this.remove(a[t].node);for(this.dom.container.remove(),a=this.s.dt.settings()[0],t=0,n=a.length;t<n;t++)if(a.inst===this){a.splice(t,1);break}return this},enable:function(t,n){if(!1===n)return this.disable(t);var a=this._nodeToButton(t);return e(a.node).removeClass(this.c.dom.button.disabled),this},name:function(){return this.c.name},node:function(t){return t=this._nodeToButton(t),e(t.node)},processing:function(t,n){var i=this._nodeToButton(t);return n===a?e(i.node).hasClass("processing"):(e(i.node).toggleClass("processing",n),this)},remove:function(t){var n=this._nodeToButton(t),a=this._nodeToHost(t),i=this.s.dt;if(n.buttons.length)for(var r=n.buttons.length-1;0<=r;r--)this.remove(n.buttons[r].node);return n.conf.destroy&&n.conf.destroy.call(i.button(t),i,e(t),n.conf),this._removeKey(n.conf),e(n.node).remove(),t=e.inArray(n,a),a.splice(t,1),this},text:function(t,n){var i=this._nodeToButton(t),r=this.c.dom.collection.buttonLiner,r=i.inCollection&&r&&r.tag?r.tag:this.c.dom.buttonLiner.tag,o=this.s.dt,l=e(i.node),s=function(e){return"function"==typeof e?e(o,l,i.conf):e};return n===a?s(i.conf.text):(i.conf.text=n,r?l.children(r).html(s(n)):l.html(s(n)),this)},_constructor:function(){var t=this,a=this.s.dt,i=a.settings()[0],r=this.c.buttons;i._buttons||(i._buttons=[]),i._buttons.push({inst:this,name:this.c.name});for(var i=0,o=r.length;i<o;i++)this.add(r[i]);a.on("destroy",function(){t.destroy()}),e("body").on("keyup."+this.s.namespace,function(e){if(!n.activeElement||n.activeElement===n.body){var a=String.fromCharCode(e.keyCode).toLowerCase();-1!==t.s.listenKeys.toLowerCase().indexOf(a)&&t._keypress(a,e)}})},_addKey:function(t){t.key&&(this.s.listenKeys+=e.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(e,t){e||(e=this.dom.container,t=this.s.buttons),e.children().detach();for(var n=0,a=t.length;n<a;n++)e.append(t[n].inserter),t[n].buttons&&t[n].buttons.length&&this._draw(t[n].collection,t[n].buttons)},_expandButton:function(t,n,i,r){for(var o=this.s.dt,l=0,n=e.isArray(n)?n:[n],s=0,c=n.length;s<c;s++){var d=this._resolveExtends(n[s]);if(d)if(e.isArray(d))this._expandButton(t,d,i,r);else{var u=this._buildButton(d,i);if(u){if(r!==a?(t.splice(r,0,u),r++):t.push(u),u.conf.buttons){var f=this.c.dom.collection;u.collection=e("<"+f.tag+"/>").addClass(f.className).attr("role","menu"),u.conf._collection=u.collection,this._expandButton(u.buttons,u.conf.buttons,!0,r)}d.init&&d.init.call(o.button(u.node),o,e(u.node),d),l++}}}},_buildButton:function(t,n){var a=this.c.dom.button,i=this.c.dom.buttonLiner,r=this.c.dom.collection,l=this.s.dt,s=function(e){return"function"==typeof e?e(l,d,t):e};if(n&&r.button&&(a=r.button),n&&r.buttonLiner&&(i=r.buttonLiner),t.available&&!t.available(l,t))return!1;var c=function(t,n,a,i){i.action.call(n.button(a),t,n,a,i),e(n.table().node()).triggerHandler("buttons-action.dt",[n.button(a),n,a,i])},d=e("<"+a.tag+"/>").addClass(a.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(e){e.preventDefault(),!d.hasClass(a.disabled)&&t.action&&c(e,l,d,t),d.blur()}).on("keyup.dtb",function(e){13===e.keyCode&&!d.hasClass(a.disabled)&&t.action&&c(e,l,d,t)});return"a"===a.tag.toLowerCase()&&d.attr("href","#"),i.tag?(r=e("<"+i.tag+"/>").html(s(t.text)).addClass(i.className),"a"===i.tag.toLowerCase()&&r.attr("href","#"),d.append(r)):d.html(s(t.text)),!1===t.enabled&&d.addClass(a.disabled),t.className&&d.addClass(t.className),t.titleAttr&&d.attr("title",s(t.titleAttr)),t.namespace||(t.namespace=".dt-button-"+o++),i=(i=this.c.dom.buttonContainer)&&i.tag?e("<"+i.tag+"/>").addClass(i.className).append(d):d,this._addKey(t),{conf:t,node:d.get(0),inserter:i,buttons:[],inCollection:n,collection:null}},_nodeToButton:function(e,t){t||(t=this.s.buttons);for(var n=0,a=t.length;n<a;n++){if(t[n].node===e)return t[n];if(t[n].buttons.length){var i=this._nodeToButton(e,t[n].buttons);if(i)return i}}},_nodeToHost:function(e,t){t||(t=this.s.buttons);for(var n=0,a=t.length;n<a;n++){if(t[n].node===e)return t;if(t[n].buttons.length){var i=this._nodeToHost(e,t[n].buttons);if(i)return i}}},_keypress:function(t,n){var a=function(i){for(var r=0,o=i.length;r<o;r++){var l=i[r].conf,s=i[r].node;l.key&&(l.key===t?e(s).click():!e.isPlainObject(l.key)||l.key.key!==t||l.key.shiftKey&&!n.shiftKey||l.key.altKey&&!n.altKey||l.key.ctrlKey&&!n.ctrlKey||(!l.key.metaKey||n.metaKey)&&e(s).click()),i[r].buttons.length&&a(i[r].buttons)}};a(this.s.buttons)},_removeKey:function(t){if(t.key){var n=e.isPlainObject(t.key)?t.key.key:t.key,t=this.s.listenKeys.split(""),n=e.inArray(n,t);t.splice(n,1),this.s.listenKeys=t.join("")}},_resolveExtends:function(t){for(var n,i,r=this.s.dt,o=function(n){for(var i=0;!e.isPlainObject(n)&&!e.isArray(n);){if(n===a)return;if("function"==typeof n){if(!(n=n(r,t)))return!1}else if("string"==typeof n){if(!l[n])throw"Unknown button type: "+n;n=l[n]}if(30<++i)throw"Buttons: Too many iterations"}return e.isArray(n)?n:e.extend({},n)},t=o(t);t&&t.extend;){if(!l[t.extend])throw"Cannot extend unknown button type: "+t.extend;var s=o(l[t.extend]);if(e.isArray(s))return s;if(!s)return!1;n=s.className,t=e.extend({},s,t),n&&t.className!==n&&(t.className=n+" "+t.className);var c=t.postfixButtons;if(c){for(t.buttons||(t.buttons=[]),n=0,i=c.length;n<i;n++)t.buttons.push(c[n]);t.postfixButtons=null}if(c=t.prefixButtons){for(t.buttons||(t.buttons=[]),n=0,i=c.length;n<i;n++)t.buttons.splice(n,0,c[n]);t.prefixButtons=null}t.extend=s.extend}return t}}),s.background=function(t,n,i){i===a&&(i=400),t?e("<div/>").addClass(n).css("display","none").appendTo("body").fadeIn(i):e("body > div."+n).fadeOut(i,function(){e(this).removeClass(n).remove()})},s.instanceSelector=function(t,n){if(!t)return e.map(n,function(e){return e.inst});var a=[],i=e.map(n,function(e){return e.name}),r=function(t){if(e.isArray(t))for(var o=0,l=t.length;o<l;o++)r(t[o]);else"string"==typeof t?-1!==t.indexOf(",")?r(t.split(",")):-1!==(t=e.inArray(e.trim(t),i))&&a.push(n[t].inst):"number"==typeof t&&a.push(n[t].inst)};return r(t),a},s.buttonSelector=function(t,n){for(var i=[],r=function(e,t,n){for(var i,o,l=0,s=t.length;l<s;l++)(i=t[l])&&(o=n!==a?n+l:l+"",e.push({node:i.node,name:i.conf.name,idx:o}),i.buttons&&r(e,i.buttons,o+"-"))},o=function(t,n){var l,s,c=[];if(r(c,n.s.buttons),l=e.map(c,function(e){return e.node}),e.isArray(t)||t instanceof e)for(l=0,s=t.length;l<s;l++)o(t[l],n);else if(null===t||t===a||"*"===t)for(l=0,s=c.length;l<s;l++)i.push({inst:n,node:c[l].node});else if("number"==typeof t)i.push({inst:n,node:n.s.buttons[t].node});else if("string"==typeof t)if(-1!==t.indexOf(","))for(c=t.split(","),l=0,s=c.length;l<s;l++)o(e.trim(c[l]),n);else if(t.match(/^\d+(\-\d+)*$/))l=e.map(c,function(e){return e.idx}),i.push({inst:n,node:c[e.inArray(t,l)].node});else if(-1!==t.indexOf(":name")){var d=t.replace(":name","");for(l=0,s=c.length;l<s;l++)c[l].name===d&&i.push({inst:n,node:c[l].node})}else e(l).filter(t).each(function(){i.push({inst:n,node:this})});else"object"==typeof t&&t.nodeName&&-1!==(c=e.inArray(t,l))&&i.push({inst:n,node:l[c]})},l=0,s=t.length;l<s;l++)o(n,t[l]);return i},s.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection"},button:{tag:"a",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},s.version="1.4.0",e.extend(l,{collection:{text:function(e){return e.i18n("buttons.collection","Collection")},className:"buttons-collection",action:function(n,a,i,r){var n=i.offset(),o=e(a.table().container()),l=!1;e("div.dt-button-background").length&&(l=e(".dt-button-collection").offset(),e("body").trigger("click.dtb-collection")),r._collection.addClass(r.collectionLayout).css("display","none").appendTo("body").fadeIn(r.fade);var c=r._collection.css("position");l&&"absolute"===c?r._collection.css({top:l.top,left:l.left}):"absolute"===c?(r._collection.css({top:n.top+i.outerHeight(),left:n.left}),l=o.offset().top+o.height(),i=n.top+i.outerHeight()+r._collection.outerHeight()-l,l=n.top-r._collection.outerHeight(),l=o.offset().top-l,i>l&&r._collection.css("top",n.top-r._collection.outerHeight()-5),i=n.left+r._collection.outerWidth(),o=o.offset().left+o.width(),i>o&&r._collection.css("left",n.left-(i-o))):(n=r._collection.height()/2,n>e(t).height()/2&&(n=e(t).height()/2),r._collection.css("marginTop",-1*n)),r.background&&s.background(!0,r.backgroundClassName,r.fade),setTimeout(function(){e("div.dt-button-background").on("click.dtb-collection",function(){}),e("body").on("click.dtb-collection",function(t){var n=e.fn.addBack?"addBack":"andSelf";e(t.target).parents()[n]().filter(r._collection).length||(r._collection.fadeOut(r.fade,function(){r._collection.detach()}),e("div.dt-button-background").off("click.dtb-collection"),s.background(!1,r.backgroundClassName,r.fade),e("body").off("click.dtb-collection"),a.off("buttons-action.b-internal"))})},10),r.autoClose&&a.on("buttons-action.b-internal",function(){e("div.dt-button-background").click()})},background:!0,collectionLayout:"",backgroundClassName:"dt-button-background",autoClose:!1,fade:400},copy:function(e,t){return l.copyHtml5?"copyHtml5":l.copyFlash&&l.copyFlash.available(e,t)?"copyFlash":void 0},csv:function(e,t){return l.csvHtml5&&l.csvHtml5.available(e,t)?"csvHtml5":l.csvFlash&&l.csvFlash.available(e,t)?"csvFlash":void 0},excel:function(e,t){return l.excelHtml5&&l.excelHtml5.available(e,t)?"excelHtml5":l.excelFlash&&l.excelFlash.available(e,t)?"excelFlash":void 0},pdf:function(e,t){return l.pdfHtml5&&l.pdfHtml5.available(e,t)?"pdfHtml5":l.pdfFlash&&l.pdfFlash.available(e,t)?"pdfFlash":void 0},pageLength:function(t){var t=t.settings()[0].aLengthMenu,n=e.isArray(t[0])?t[0]:t,a=e.isArray(t[0])?t[1]:t,i=function(e){return e.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},e.page.len())};return{extend:"collection",text:i,className:"buttons-page-length",autoClose:!0,buttons:e.map(n,function(e,t){return{text:a[t],className:"button-page-length",action:function(t,n){n.page.len(e).draw()},init:function(t,n,a){var i=this,n=function(){i.active(t.page.len()===e)};t.on("length.dt"+a.namespace,n),n()},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}),init:function(e,t,n){var a=this;e.on("length.dt"+n.namespace,function(){a.text(i(e))})},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}}),i.Api.register("buttons()",function(e,t){t===a&&(t=e,e=a),this.selector.buttonGroup=e;var n=this.iterator(!0,"table",function(n){if(n._buttons)return s.buttonSelector(s.instanceSelector(e,n._buttons),t)},!0);return n._groupSelector=e,n}),i.Api.register("button()",function(e,t){var n=this.buttons(e,t);return 1<n.length&&n.splice(1,n.length),n}),i.Api.registerPlural("buttons().active()","button().active()",function(e){return e===a?this.map(function(e){return e.inst.active(e.node)}):this.each(function(t){t.inst.active(t.node,e)})}),i.Api.registerPlural("buttons().action()","button().action()",function(e){return e===a?this.map(function(e){return e.inst.action(e.node)}):this.each(function(t){t.inst.action(t.node,e)})}),i.Api.register(["buttons().enable()","button().enable()"],function(e){return this.each(function(t){t.inst.enable(t.node,e)})}),i.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(e){e.inst.disable(e.node)})}),i.Api.registerPlural("buttons().nodes()","button().node()",function(){var t=e();return e(this.each(function(e){t=t.add(e.inst.node(e.node))})),t}),i.Api.registerPlural("buttons().processing()","button().processing()",function(e){return e===a?this.map(function(e){return e.inst.processing(e.node)}):this.each(function(t){t.inst.processing(t.node,e)})}),i.Api.registerPlural("buttons().text()","button().text()",function(e){return e===a?this.map(function(e){return e.inst.text(e.node)}):this.each(function(t){t.inst.text(t.node,e)})}),i.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(e){e.inst.node(e.node).trigger("click")})}),i.Api.registerPlural("buttons().containers()","buttons().container()",function(){var t=e(),n=this._groupSelector;return this.iterator(!0,"table",function(e){if(e._buttons)for(var e=s.instanceSelector(n,e._buttons),a=0,i=e.length;a<i;a++)t=t.add(e[a].container())}),t}),i.Api.register("button().add()",function(e,t){var n=this.context;return n.length&&(n=s.instanceSelector(this._groupSelector,n[0]._buttons),n.length&&n[0].add(t,e)),this.button(this._groupSelector,e)}),i.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(e){e.destroy()}),this}),i.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(e){e.inst.remove(e.node)}),this});var c;i.Api.register("buttons.info()",function(t,n,i){var r=this;return!1===t?(e("#datatables_buttons_info").fadeOut(function(){e(this).remove()}),clearTimeout(c),c=null,this):(c&&clearTimeout(c),e("#datatables_buttons_info").length&&e("#datatables_buttons_info").remove(),e('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t?"<h2>"+t+"</h2>":"").append(e("<div/>")["string"==typeof n?"html":"append"](n)).css("display","none").appendTo("body").fadeIn(),i!==a&&0!==i&&(c=setTimeout(function(){r.buttons.info(!1)},i)),this)}),i.Api.register("buttons.exportData()",function(t){if(this.context.length){for(var n=new i.Api(this.context[0]),a=e.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(e){return r(e)},footer:function(e){return r(e)},body:function(e){return r(e)}}},t),r=function(e){return"string"!=typeof e?e:(e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),a.stripHtml&&(e=e.replace(/<[^>]*>/g,"")),a.trim&&(e=e.replace(/^\s+|\s+$/g,"")),a.stripNewlines&&(e=e.replace(/\n/g," ")),a.decodeEntities&&(f.innerHTML=e,e=f.value),e)},t=n.columns(a.columns).indexes().map(function(e){var t=n.column(e).header();return a.format.header(t.innerHTML,e,t)}).toArray(),o=n.table().footer()?n.columns(a.columns).indexes().map(function(e){var t=n.column(e).footer();return a.format.footer(t?t.innerHTML:"",e,t)}).toArray():null,l=n.rows(a.rows,a.modifier).indexes().toArray(),s=n.cells(l,a.columns),l=s.render(a.orthogonal).toArray(),s=s.nodes().toArray(),c=t.length,d=0<c?l.length/c:0,u=Array(d),p=0,h=0;h<d;h++){for(var m=Array(c),g=0;g<c;g++)m[g]=a.format.body(l[p],h,g,s[p]),p++;u[h]=m}return{header:t,footer:o,body:u}}}),i.Api.register("buttons.exportInfo()",function(t){t||(t={});var n,i=t;return n="*"===i.filename&&"*"!==i.title&&i.title!==a?i.title:i.filename,"function"==typeof n&&(n=n()),n===a||null===n?n=null:(-1!==n.indexOf("*")&&(n=e.trim(n.replace("*",e("title").text()))),n=n.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),(i=d(i.extension))||(i=""),n+=i),i=d(t.title),i=null===i?null:-1!==i.indexOf("*")?i.replace("*",e("title").text()||"Exported data"):i,{filename:n,title:i,messageTop:u(this,t.messageTop||t.message,"top"),messageBottom:u(this,t.messageBottom,"bottom")}});var d=function(e){return null===e||e===a?null:"function"==typeof e?e():e},u=function(t,n,a){return null===(n=d(n))?null:(t=e("caption",t.table().container()).eq(0),"*"===n?t.css("caption-side")!==a?null:t.length?t.text():"":n)},f=e("<textarea/>")[0];return e.fn.dataTable.Buttons=s,e.fn.DataTable.Buttons=s,e(n).on("init.dt plugin-init.dt",function(e,t){if("dt"===e.namespace){var n=t.oInit.buttons||i.defaults.buttons;n&&!t._buttons&&new s(t,n).container()}}),i.ext.feature.push({fnInit:function(e){var e=new i.Api(e),t=e.init().buttons||i.defaults.buttons;return new s(e,t).container()},cFeature:"B"}),s}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,a){function i(e,t,n){var a;a=function(t,n){if(t>n)var a=n,n=t,t=a;var i=!1;return e.columns(":visible").indexes().filter(function(e){return e===t&&(i=!0),e===n?(i=!1,!0):i})};var i=function(t,n){var a=e.rows({search:"applied"}).indexes();if(a.indexOf(t)>a.indexOf(n))var i=n,n=t,t=i;var r=!1;return a.filter(function(e){return e===t&&(r=!0),e===n?(r=!1,!0):r})};e.cells({selected:!0}).any()||n?(a=a(n.column,t.column),n=i(n.row,t.row)):(a=a(0,t.column),n=i(0,t.row)),n=e.cells(n,a).flatten(),e.cells(t,{selected:!0}).any()?e.cells(n).deselect():e.cells(n).select()}function r(t){var n=t.settings()[0]._select.selector;e(t.table().container()).off("mousedown.dtSelect",n).off("mouseup.dtSelect",n).off("click.dtSelect",n),e("body").off("click.dtSelect"+t.table().node().id)}function o(a){var i=e(a.table().container()),r=a.settings()[0],o=r._select.selector;i.on("mousedown.dtSelect",o,function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&i.css("-moz-user-select","none").one("selectstart.dtSelect",o,function(){return!1})}).on("mouseup.dtSelect",o,function(){i.css("-moz-user-select","")}).on("click.dtSelect",o,function(n){var i=a.select.items();if(!t.getSelection||!e.trim(t.getSelection().toString())){var r=a.settings()[0];if(e(n.target).closest("div.dataTables_wrapper")[0]==a.table().container()){var o=a.cell(e(n.target).closest("td, th"));if(o.any()){var s=e.Event("user-select.dt");l(a,s,[i,o,n]),s.isDefaultPrevented()||(s=o.index(),"row"===i?(i=s.row,u(n,a,r,"row",i)):"column"===i?(i=o.index().column,u(n,a,r,"column",i)):"cell"===i&&(i=o.index(),u(n,a,r,"cell",i)),r._select_lastCell=s)}}}}),e("body").on("click.dtSelect"+a.table().node().id,function(t){r._select.blurable&&!e(t.target).parents().filter(a.table().container()).length&&t.target.getRootNode()===n&&!e(t.target).parents("div.DTE").length&&d(r,!0)})}function l(t,n,a,i){i&&!t.flatten().length||("string"==typeof n&&(n+=".dt"),a.unshift(t),e(t.table().node()).trigger(n,a))}function s(t){var n=t.settings()[0];if(n._select.info&&n.aanFeatures.i){var a=t.rows({selected:!0}).flatten().length,i=t.columns({selected:!0}).flatten().length,r=t.cells({selected:!0}).flatten().length,o=function(n,a,i){n.append(e('<span class="select-item"/>').append(t.i18n("select."+a+"s",{_:"%d "+a+"s selected",0:"",1:"1 "+a+" selected"},i)))};e.each(n.aanFeatures.i,function(t,n){var n=e(n),l=e('<span class="select-info"/>');o(l,"row",a),o(l,"column",i),o(l,"cell",r);var s=n.children("span.select-info");s.length&&s.remove(),""!==l.text()&&n.append(l)})}}function c(t,n,a,i){var r=t[n+"s"]({search:"applied"}).indexes(),i=e.inArray(i,r),o=e.inArray(a,r);if(t[n+"s"]({selected:!0}).any()||-1!==i){if(i>o)var l=o,o=i,i=l;r.splice(o+1,r.length),r.splice(0,i)}else r.splice(e.inArray(a,r)+1,r.length);t[n](a,{selected:!0}).any()?(r.splice(e.inArray(a,r),1),t[n+"s"](r).deselect()):t[n+"s"](r).select()}function d(e,t){if(t||"single"===e._select.style){var n=new h.Api(e);n.rows({selected:!0}).deselect(),n.columns({selected:!0}).deselect(),n.cells({selected:!0}).deselect()}}function u(e,t,n,a,r){var o=t.select.style(),l=t[a](r,{selected:!0}).any();"os"===o?e.ctrlKey||e.metaKey?t[a](r).select(!l):e.shiftKey?"cell"===a?i(t,r,n._select_lastCell||null):c(t,a,r,n._select_lastCell?n._select_lastCell[a]:null):(e=t[a+"s"]({selected:!0}),l&&1===e.flatten().length?t[a](r).deselect():(e.deselect(),t[a](r).select())):"multi+shift"==o&&e.shiftKey?"cell"===a?i(t,r,n._select_lastCell||null):c(t,a,r,n._select_lastCell?n._select_lastCell[a]:null):t[a](r).select(!l)}function f(e,t){return function(n){return n.i18n("buttons."+e,t)}}function p(e){return"draw.dt.DT"+(e=e._eventNamespace)+" select.dt.DT"+e+" deselect.dt.DT"+e}var h=e.fn.dataTable;h.select={},h.select.version="1.2.2",h.select.init=function(t){var n=t.settings()[0],i=n.oInit.select,r=h.defaults.select,i=i===a?r:i,r="row",o="api",l=!1,s=!0,c="td, th",d="selected",u=!1;n._select={},!0===i?(o="os",u=!0):"string"==typeof i?(o=i,u=!0):e.isPlainObject(i)&&(i.blurable!==a&&(l=i.blurable),i.info!==a&&(s=i.info),i.items!==a&&(r=i.items),i.style!==a&&(o=i.style,u=!0),i.selector!==a&&(c=i.selector),i.className!==a)&&(d=i.className),t.select.selector(c),t.select.items(r),t.select.style(o),t.select.blurable(l),t.select.info(s),n._select.className=d,e.fn.dataTable.ext.order["select-checkbox"]=function(t,n){return this.api().column(n,{order:"index"}).nodes().map(function(n){return"row"===t._select.items?e(n).parent().hasClass(t._select.className):"cell"===t._select.items&&e(n).hasClass(t._select.className)})},!u&&e(t.table().node()).hasClass("selectable")&&t.select.style("os")},e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,t){h.ext.selector[t.type].push(function(e,n,i){var r,n=n.selected,o=[];if(n===a)return i;for(var l=0,s=i.length;l<s;l++)r=e[t.prop][i[l]],(!0===n&&!0===r._select_selected||!1===n&&!r._select_selected)&&o.push(i[l]);return o})}),h.ext.selector.cell.push(function(e,t,n){var i,t=t.selected,r=[];if(t===a)return n;for(var o=0,l=n.length;o<l;o++)i=e.aoData[n[o].row],(!0===t&&i._selected_cells&&!0===i._selected_cells[n[o].column]||!1===t&&(!i._selected_cells||!i._selected_cells[n[o].column]))&&r.push(n[o]);return r});var m=h.Api.register,g=h.Api.registerPlural;m("select()",function(){return this.iterator("table",function(e){h.select.init(new h.Api(e))})}),m("select.blurable()",function(e){return e===a?this.context[0]._select.blurable:this.iterator("table",function(t){t._select.blurable=e})}),m("select.info()",function(e){return s===a?this.context[0]._select.info:this.iterator("table",function(t){t._select.info=e})}),m("select.items()",function(e){return e===a?this.context[0]._select.items:this.iterator("table",function(t){t._select.items=e,l(new h.Api(t),"selectItems",[e])})}),m("select.style()",function(t){return t===a?this.context[0]._select.style:this.iterator("table",function(n){if(n._select.style=t,!n._select_init){var i=new h.Api(n);n.aoRowCreatedCallback.push({fn:function(t,a,i){for(a=n.aoData[i],a._select_selected&&e(t).addClass(n._select.className),t=0,i=n.aoColumns.length;t<i;t++)(n.aoColumns[t]._select_selected||a._selected_cells&&a._selected_cells[t])&&e(a.anCells[t]).addClass(n._select.className)},sName:"select-deferRender"}),i.on("preXhr.dt.dtSelect",function(){var e=i.rows({selected:!0}).ids(!0).filter(function(e){return e!==a}),t=i.cells({selected:!0}).eq(0).map(function(e){var t=i.row(e.row).id(!0);return t?{row:t,column:e.column}:a}).filter(function(e){return e!==a});i.one("draw.dt.dtSelect",function(){i.rows(e).select(),t.any()&&t.each(function(e){i.cells(e.row,e.column).select()})})}),i.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){s(i)}),i.on("destroy.dtSelect",function(){r(i),i.off(".dtSelect")})}var c=new h.Api(n);r(c),"api"!==t&&o(c),l(new h.Api(n),"selectStyle",[t])})}),m("select.selector()",function(e){return e===a?this.context[0]._select.selector:this.iterator("table",function(t){r(new h.Api(t)),t._select.selector=e,"api"!==t._select.style&&o(new h.Api(t))})}),g("rows().select()","row().select()",function(t){var n=this;return!1===t?this.deselect():(this.iterator("row",function(t,n){d(t),t.aoData[n]._select_selected=!0,e(t.aoData[n].nTr).addClass(t._select.className)}),this.iterator("table",function(e,t){l(n,"select",["row",n[t]],!0)}),this)}),g("columns().select()","column().select()",function(t){var n=this;return!1===t?this.deselect():(this.iterator("column",function(t,n){d(t),t.aoColumns[n]._select_selected=!0;var a=new h.Api(t).column(n);e(a.header()).addClass(t._select.className),e(a.footer()).addClass(t._select.className),a.nodes().to$().addClass(t._select.className)}),this.iterator("table",function(e,t){l(n,"select",["column",n[t]],!0)}),this)}),g("cells().select()","cell().select()",function(t){var n=this;return!1===t?this.deselect():(this.iterator("cell",function(t,n,i){d(t),n=t.aoData[n],n._selected_cells===a&&(n._selected_cells=[]),n._selected_cells[i]=!0,n.anCells&&e(n.anCells[i]).addClass(t._select.className)}),this.iterator("table",function(e,t){l(n,"select",["cell",n[t]],!0)}),this)}),g("rows().deselect()","row().deselect()",function(){var t=this;return this.iterator("row",function(t,n){t.aoData[n]._select_selected=!1,e(t.aoData[n].nTr).removeClass(t._select.className)}),this.iterator("table",function(e,n){l(t,"deselect",["row",t[n]],!0)}),this}),g("columns().deselect()","column().deselect()",function(){var t=this;return this.iterator("column",function(t,n){t.aoColumns[n]._select_selected=!1;var a=new h.Api(t),i=a.column(n);e(i.header()).removeClass(t._select.className),e(i.footer()).removeClass(t._select.className),a.cells(null,n).indexes().each(function(n){var a=t.aoData[n.row],i=a._selected_cells;a.anCells&&(!i||!i[n.column])&&e(a.anCells[n.column]).removeClass(t._select.className)})}),this.iterator("table",function(e,n){l(t,"deselect",["column",t[n]],!0)}),this}),g("cells().deselect()","cell().deselect()",function(){var t=this;return this.iterator("cell",function(t,n,a){n=t.aoData[n],n._selected_cells[a]=!1,n.anCells&&!t.aoColumns[a]._select_selected&&e(n.anCells[a]).removeClass(t._select.className)}),this.iterator("table",function(e,n){l(t,"deselect",["cell",t[n]],!0)}),this});var v=0;return e.extend(h.ext.buttons,{selected:{text:f("selected","Selected"),className:"buttons-selected",init:function(e,t,n){var a=this;n._eventNamespace=".select"+v++,e.on(p(n),function(){var e=a.rows({selected:!0}).any()||a.columns({selected:!0}).any()||a.cells({selected:!0}).any();a.enable(e)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectedSingle:{text:f("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e,t,n){var a=this;n._eventNamespace=".select"+v++,e.on(p(n),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;a.enable(1===t)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectAll:{text:f("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:f("selectNone","Deselect all"),className:"buttons-select-none",action:function(){d(this.settings()[0],!0)},init:function(e,t,n){var a=this;n._eventNamespace=".select"+v++,e.on(p(n),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;a.enable(0<t)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}}}),e.each(["Row","Column","Cell"],function(e,t){var n=t.toLowerCase();h.ext.buttons["select"+t+"s"]={text:f("select"+t+"s","Select "+n+"s"),className:"buttons-select-"+n+"s",action:function(){this.select.items(n)},init:function(e){var t=this;e.on("selectItems.dt.DT",function(e,a,i){t.active(i===n)})}}}),e(n).on("preInit.dt.dtSelect",function(e,t){"dt"===e.namespace&&h.select.init(new h.Api(t))}),h.select}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,a){var i=e.fn.dataTable,r=function(t,n){if(!i.versionCheck||!i.versionCheck("1.10.3"))throw"DataTables Responsive requires DataTables 1.10.3 or newer";this.s={dt:new i.Api(t),columns:[],current:[]},this.s.dt.settings()[0].responsive||(n&&"string"==typeof n.details?n.details={type:n.details}:n&&!1===n.details?n.details={type:!1}:n&&!0===n.details&&(n.details={type:"inline"}),this.c=e.extend(!0,{},r.defaults,i.defaults.responsive,n),t.responsive=this,this._constructor())};e.extend(r.prototype,{_constructor:function(){var n=this,a=this.s.dt,r=a.settings()[0],o=e(t).width();a.settings()[0]._responsive=this,e(t).on("resize.dtr orientationchange.dtr",i.util.throttle(function(){var a=e(t).width();a!==o&&(n._resize(),o=a)})),r.oApi._fnCallbackReg(r,"aoRowCreatedCallback",function(t){-1!==e.inArray(!1,n.s.current)&&e(">td, >th",t).each(function(t){t=a.column.index("toData",t),!1===n.s.current[t]&&e(this).css("display","none")})}),a.on("destroy.dtr",function(){a.off(".dtr"),e(a.table().body()).off(".dtr"),e(t).off("resize.dtr orientationchange.dtr"),e.each(n.s.current,function(e,t){!1===t&&n._setColumnVis(e,!0)})}),this.c.breakpoints.sort(function(e,t){return e.width<t.width?1:e.width>t.width?-1:0}),this._classLogic(),this._resizeAuto(),r=this.c.details,!1!==r.type&&(n._detailsInit(),a.on("column-visibility.dtr",function(){n._classLogic(),n._resizeAuto(),n._resize()}),a.on("draw.dtr",function(){n._redrawChildren()}),e(a.table().node()).addClass("dtr-"+r.type)),a.on("column-reorder.dtr",function(){n._classLogic(),n._resizeAuto(),n._resize()}),a.on("column-sizing.dtr",function(){n._resizeAuto(),n._resize()}),a.on("preXhr.dtr",function(){var e=[];a.rows().every(function(){this.child.isShown()&&e.push(this.id(!0))}),a.one("draw.dtr",function(){a.rows(e).every(function(){n._detailsDisplay(this,!1)})})}),a.on("init.dtr",function(){n._resizeAuto(),n._resize(),e.inArray(!1,n.s.current)&&a.columns.adjust()}),this._resize()},_columnsVisiblity:function(t){var n,a,i=this.s.dt,r=this.s.columns,o=r.map(function(e,t){return{columnIdx:t,priority:e.priority}}).sort(function(e,t){return e.priority!==t.priority?e.priority-t.priority:e.columnIdx-t.columnIdx}),l=e.map(r,function(n){return(!n.auto||null!==n.minWidth)&&(!0===n.auto?"-":-1!==e.inArray(t,n.includeIn))}),s=0;for(n=0,a=l.length;n<a;n++)!0===l[n]&&(s+=r[n].minWidth);for(n=i.settings()[0].oScroll,n=n.sY||n.sX?n.iBarWidth:0,i=i.table().container().offsetWidth-n-s,n=0,a=l.length;n<a;n++)r[n].control&&(i-=r[n].minWidth);for(s=!1,n=0,a=o.length;n<a;n++){var c=o[n].columnIdx;"-"===l[c]&&!r[c].control&&r[c].minWidth&&(s||0>i-r[c].minWidth?(s=!0,l[c]=!1):l[c]=!0,i-=r[c].minWidth)}for(o=!1,n=0,a=r.length;n<a;n++)if(!r[n].control&&!r[n].never&&!l[n]){o=!0;break}for(n=0,a=r.length;n<a;n++)r[n].control&&(l[n]=o);return-1===e.inArray(!0,l)&&(l[0]=!0),l},_classLogic:function(){var t=this,n=this.c.breakpoints,i=this.s.dt,r=i.columns().eq(0).map(function(t){var n=this.column(t),r=n.header().className,t=i.settings()[0].aoColumns[t].responsivePriority;return t===a&&(n=e(n.header()).data("priority"),t=n!==a?1*n:1e4),{className:r,includeIn:[],auto:!1,control:!1,never:!!r.match(/\bnever\b/),priority:t}}),o=function(t,n){var a=r[t].includeIn;-1===e.inArray(n,a)&&a.push(n)},l=function(e,a,i,l){if(i){if("max-"===i)for(l=t._find(a).width,a=0,i=n.length;a<i;a++)n[a].width<=l&&o(e,n[a].name);else if("min-"===i)for(l=t._find(a).width,a=0,i=n.length;a<i;a++)n[a].width>=l&&o(e,n[a].name);else if("not-"===i)for(a=0,i=n.length;a<i;a++)-1===n[a].name.indexOf(l)&&o(e,n[a].name)}else r[e].includeIn.push(a)};r.each(function(t,a){for(var i=t.className.split(" "),r=!1,o=0,s=i.length;o<s;o++){var c=e.trim(i[o]);if("all"===c)return r=!0,void(t.includeIn=e.map(n,function(e){return e.name}))
;if("none"===c||t.never)return void(r=!0);if("control"===c)return r=!0,void(t.control=!0);e.each(n,function(e,t){var n=t.name.split("-"),i=c.match(RegExp("(min\\-|max\\-|not\\-)?("+n[0]+")(\\-[_a-zA-Z0-9])?"));i&&(r=!0,i[2]===n[0]&&i[3]==="-"+n[1]?l(a,t.name,i[1],i[2]+i[3]):i[2]===n[0]&&!i[3]&&l(a,t.name,i[1],i[2]))})}r||(t.auto=!0)}),this.s.columns=r},_detailsDisplay:function(t,n){var a=this,i=this.s.dt,r=this.c.details;if(r&&!1!==r.type){var o=r.display(t,n,function(){return r.renderer(i,t[0],a._detailsObj(t[0]))});(!0===o||!1===o)&&e(i.table().node()).triggerHandler("responsive-display.dt",[i,t,o,n])}},_detailsInit:function(){var t=this,n=this.s.dt,a=this.c.details;"inline"===a.type&&(a.target="td:first-child, th:first-child"),n.on("draw.dtr",function(){t._tabIndexes()}),t._tabIndexes(),e(n.table().body()).on("keyup.dtr","td, th",function(t){13===t.keyCode&&e(this).data("dtr-keyboard")&&e(this).click()});var i=a.target;e(n.table().body()).on("click.dtr mousedown.dtr mouseup.dtr","string"==typeof i?i:"td, th",function(a){if(e(n.table().node()).hasClass("collapsed")&&-1!==e.inArray(e(this).closest("tr").get(0),n.rows().nodes().toArray())){if("number"==typeof i){var r=i<0?n.columns().eq(0).length+i:i;if(n.cell(this).index().column!==r)return}r=n.row(e(this).closest("tr")),"click"===a.type?t._detailsDisplay(r,!1):"mousedown"===a.type?e(this).css("outline","none"):"mouseup"===a.type&&e(this).blur().css("outline","")}})},_detailsObj:function(t){var n=this,a=this.s.dt;return e.map(this.s.columns,function(e,i){if(!e.never&&!e.control)return{title:a.settings()[0].aoColumns[i].sTitle,data:a.cell(t,i).render(n.c.orthogonal),hidden:a.column(i).visible()&&!n.s.current[i],columnIndex:i,rowIndex:t}})},_find:function(e){for(var t=this.c.breakpoints,n=0,a=t.length;n<a;n++)if(t[n].name===e)return t[n]},_redrawChildren:function(){var e=this,t=this.s.dt;t.rows({page:"current"}).iterator("row",function(n,a){t.row(a),e._detailsDisplay(t.row(a),!0)})},_resize:function(){var n,a=this,i=this.s.dt,r=e(t).width(),o=this.c.breakpoints,l=o[0].name,s=this.s.columns,c=this.s.current.slice();for(n=o.length-1;0<=n;n--)if(r<=o[n].width){l=o[n].name;break}var d=this._columnsVisiblity(l);for(this.s.current=d,o=!1,n=0,r=s.length;n<r;n++)if(!1===d[n]&&!s[n].never&&!s[n].control){o=!0;break}e(i.table().node()).toggleClass("collapsed",o);var u=!1;i.columns().eq(0).each(function(e,t){d[t]!==c[t]&&(u=!0,a._setColumnVis(e,d[t]))}),u&&(this._redrawChildren(),e(i.table().node()).trigger("responsive-resize.dt",[i,this.s.current]))},_resizeAuto:function(){var t=this.s.dt,n=this.s.columns;if(this.c.auto&&-1!==e.inArray(!0,e.map(n,function(e){return e.auto}))){t.table().node();var a=t.table().node().cloneNode(!1),i=e(t.table().header().cloneNode(!1)).appendTo(a),r=e(t.table().body()).clone(!1,!1).empty().appendTo(a),o=t.columns().header().filter(function(e){return t.column(e).visible()}).to$().clone(!1).css("display","table-cell");if(e(r).append(e(t.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display",""),r=t.table().footer()){var r=e(r.cloneNode(!1)).appendTo(a),l=t.columns().footer().filter(function(e){return t.column(e).visible()}).to$().clone(!1).css("display","table-cell");e("<tr/>").append(l).appendTo(r)}e("<tr/>").append(o).appendTo(i),"inline"===this.c.details.type&&e(a).addClass("dtr-inline collapsed"),e(a).find("[name]").removeAttr("name"),a=e("<div/>").css({width:1,height:1,overflow:"hidden"}).append(a),a.insertBefore(t.table().node()),o.each(function(e){e=t.column.index("fromVisible",e),n[e].minWidth=this.offsetWidth||0}),a.remove()}},_setColumnVis:function(t,n){var a=this.s.dt,i=n?"":"none";e(a.column(t).header()).css("display",i),e(a.column(t).footer()).css("display",i),a.column(t).nodes().to$().css("display",i)},_tabIndexes:function(){var t=this.s.dt,n=t.cells({page:"current"}).nodes().to$(),a=t.settings()[0],i=this.c.details.target;n.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),n="number"==typeof i?":eq("+i+")":i,"td:first-child, th:first-child"===n&&(n=">td:first-child, >th:first-child"),e(n,t.rows({page:"current"}).nodes()).attr("tabIndex",a.iTabIndex).data("dtr-keyboard",1)}}),r.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],r.display={childRow:function(t,n,a){return n?e(t.node()).hasClass("parent")?(t.child(a(),"child").show(),!0):void 0:t.child.isShown()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(a(),"child").show(),e(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,n,a){return!n&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(a(),"child").show(),e(t.node()).addClass("parent"),!0)},modal:function(t){return function(a,i,r){if(i)e("div.dtr-modal-content").empty().append(r());else{var o=function(){l.remove(),e(n).off("keypress.dtr")},l=e('<div class="dtr-modal"/>').append(e('<div class="dtr-modal-display"/>').append(e('<div class="dtr-modal-content"/>').append(r())).append(e('<div class="dtr-modal-close">&times;</div>').click(function(){o()}))).append(e('<div class="dtr-modal-background"/>').click(function(){o()})).appendTo("body");e(n).on("keyup.dtr",function(e){27===e.keyCode&&(e.stopPropagation(),o())})}t&&t.header&&e("div.dtr-modal-content").prepend("<h2>"+t.header(a)+"</h2>")}}},r.renderer={listHidden:function(){return function(t,n,a){return!!(t=e.map(a,function(e){return e.hidden?'<li data-dtr-index="'+e.columnIndex+'" data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><span class="dtr-title">'+e.title+'</span> <span class="dtr-data">'+e.data+"</span></li>":""}).join(""))&&e('<ul data-dtr-index="'+n+'" class="dtr-details"/>').append(t)}},tableAll:function(t){return t=e.extend({tableClass:""},t),function(n,a,i){return n=e.map(i,function(e){return'<tr data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><td>'+e.title+":</td> <td>"+e.data+"</td></tr>"}).join(""),e('<table class="'+t.tableClass+' dtr-details" width="100%"/>').append(n)}}},r.defaults={breakpoints:r.breakpoints,auto:!0,details:{display:r.display.childRow,renderer:r.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var o=e.fn.dataTable.Api;return o.register("responsive()",function(){return this}),o.register("responsive.index()",function(t){return t=e(t),{column:t.data("dtr-index"),row:t.parent().data("dtr-index")}}),o.register("responsive.rebuild()",function(){return this.iterator("table",function(e){e._responsive&&e._responsive._classLogic()})}),o.register("responsive.recalc()",function(){return this.iterator("table",function(e){e._responsive&&(e._responsive._resizeAuto(),e._responsive._resize())})}),o.register("responsive.hasHidden()",function(){var t=this.context[0];return!!t._responsive&&-1!==e.inArray(!1,t._responsive.s.current)}),r.version="2.1.1",e.fn.dataTable.Responsive=r,e.fn.DataTable.Responsive=r,e(n).on("preInit.dt.dtr",function(t,n){if("dt"===t.namespace&&(e(n.nTable).hasClass("responsive")||e(n.nTable).hasClass("dt-responsive")||n.oInit.responsive||i.defaults.responsive)){var a=n.oInit.responsive;!1!==a&&new r(n,e.isPlainObject(a)?a:{})}}),r}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";e.fn.fileinputLocales={},e.fn.fileinputThemes={},String.prototype.setTokens=function(e){var t,n,a=this.toString();for(t in e)e.hasOwnProperty(t)&&(n=new RegExp("{"+t+"}","g"),a=a.replace(n,e[t]));return a};var t,n;t={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,compare:function(e,t,n){return void 0!==e&&(n?e===t:e.match(t))},isIE:function(e){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===e)return new RegExp("msie\\s"+e,"i").test(navigator.userAgent);var t,n=document.createElement("div");return n.innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e",t=n.getElementsByTagName("i").length,document.body.appendChild(n),n.parentNode.removeChild(n),t},initModal:function(t){var n=e("body");n.length&&t.appendTo(n)},isEmpty:function(t,n){return void 0===t||null===t||0===t.length||n&&""===e.trim(t)},isArray:function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},ifSet:function(e,t,n){return n=n||"",t&&"object"==typeof t&&e in t?t[e]:n},cleanArray:function(e){return e instanceof Array||(e=[]),e.filter(function(e){return void 0!==e&&null!==e})},spliceArray:function(t,n,a){var i,r,o=0,l=[];if(!(t instanceof Array))return[];for(r=e.extend(!0,[],t),a&&r.reverse(),i=0;i<r.length;i++)i!==n&&(l[o]=r[i],o++);return a&&l.reverse(),l},getNum:function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},hasFileAPISupport:function(){return!(!window.File||!window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!t.isIE(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},hasBlobSupport:function(){try{return!!window.Blob&&Boolean(new Blob)}catch(e){return!1}},hasArrayBufferViewSupport:function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}},dataURI2Blob:function(e){var n,a,i,r,o,l,s=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,c=t.hasBlobSupport();if(!((c||s)&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return null;for(n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),a=new ArrayBuffer(n.length),i=new Uint8Array(a),r=0;r<n.length;r+=1)i[r]=n.charCodeAt(r);return o=e.split(",")[0].split(":")[1].split(";")[0],c?new Blob([t.hasArrayBufferViewSupport()?i:a],{type:o}):(l=new s,l.append(a),l.getBlob(o))},arrayBuffer2String:function(e){if(window.TextDecoder)return new TextDecoder("utf-8").decode(e);var t,n,a,i,r=Array.prototype.slice.apply(new Uint8Array(e)),o="",l=0;for(t=r.length;t>l;)switch((n=r[l++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(n);break;case 12:case 13:a=r[l++],o+=String.fromCharCode((31&n)<<6|63&a);break;case 14:a=r[l++],i=r[l++],o+=String.fromCharCode((15&n)<<12|(63&a)<<6|(63&i)<<0)}return o},isHtml:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.childNodes,a=n.length;a--;)if(1===n[a].nodeType)return!0;return!1},isSvg:function(e){return e.match(/^\s*<\?xml/i)&&(e.match(/<!DOCTYPE svg/i)||e.match(/<svg/i))},getMimeType:function(e,t,n){switch(e){case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":return"image/jpeg";case"89504E47":return"image/png";case"47494638":return"image/gif";case"49492a00":return"image/tiff";case"52494646":return"image/webp";case"66747970":return"video/3gp";case"4f676753":return"video/ogg";case"1a45dfa3":return"video/mkv";case"000001ba":case"000001b3":return"video/mpeg";case"3026b275":return"video/wmv";case"25504446":return"application/pdf";case"25215053":return"application/ps";case"504b0304":case"504b0506":case"504b0508":return"application/zip";case"377abcaf":return"application/7z";case"75737461":return"application/tar";case"7801730d":return"application/dmg";default:switch(e.substring(0,6)){case"435753":return"application/x-shockwave-flash";case"494433":return"audio/mp3";case"425a68":return"application/bzip";default:switch(e.substring(0,4)){case"424d":return"image/bmp";case"fffb":return"audio/mp3";case"4d5a":return"application/exe";case"1f9d":case"1fa0":return"application/zip";case"1f8b":return"application/gzip";default:return t&&!t.match(/[^\u0000-\u007f]/)?"application/text-plain":n}}}},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(n,a,i){return t.isEmpty(n)||t.isEmpty(n[a])?i:e(n[a])},uniqId:function(){return Math.round((new Date).getTime())+"_"+Math.round(100*Math.random())},htmlEncode:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,n){var a=t;return n?(e.each(n,function(e,t){"function"==typeof t&&(t=t()),a=a.split(e).join(t)}),a):a},cleanMemory:function(e){var n=e.is("img")?e.attr("src"):e.find("source").attr("src");t.objUrl.revokeObjectURL(n)},findFileName:function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var n=document,a=n.documentElement;a&&e&&!t.checkFullScreen()?a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()},moveArray:function(t,n,a,i){var r=e.extend(!0,[],t);if(i&&r.reverse(),a>=r.length)for(var o=a-r.length;1+o--;)r.push(void 0);return r.splice(a,0,r.splice(n,1)[0]),i&&r.reverse(),r},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");t.length||(t=e.closest(".kv-zoom-cache")),t.remove()},setOrientation:function(e,t){var n,a,i,r=new DataView(e),o=0,l=1;if(65496!==r.getUint16(o)||e.length<2)return void(t&&t());for(o+=2,n=r.byteLength;n-2>o;)switch(a=r.getUint16(o),o+=2,a){case 65505:i=r.getUint16(o),n=i-o,o+=2;break;case 274:l=r.getUint16(o+6,!1),n=0}t&&t(l)},validateOrientation:function(e,n){if(window.FileReader&&window.DataView){var a,i=new FileReader;i.onloadend=function(){a=i.result,t.setOrientation(a,n)},i.readAsArrayBuffer(e)}},adjustOrientedImage:function(e,t){var n,a,i;if(e.hasClass("is-portrait-gt4")){if(t)return void e.css({width:e.parent().height()});e.css({height:"auto",width:e.height()}),n=e.parent().offset().top,a=e.offset().top,i=n-a,e.css("margin-top",i)}},closeButton:function(e){return'<button type="button" class="'+(e=e?"close "+e:"close")+'" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n</button>'}},n=function(n,a){var i=this;i.$element=e(n),i.$parent=i.$element.parent(),i._validate()&&(i.isPreviewable=t.hasFileAPISupport(),i.isIE9=t.isIE(9),i.isIE10=t.isIE(10),(i.isPreviewable||i.isIE9)&&(i._init(a),i._listen()),i.$element.removeClass("file-loading"))},n.prototype={constructor:n,_cleanup:function(){var e=this;e.reader=null,e.formdata={},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.ajaxRequests=[],e.clearStack(),e.fileInputCleared=!1,e.fileBatchCompleted=!0,e.isPreviewable||(e.showPreview=!1),e.isError=!1,e.ajaxAborted=!1,e.cancelling=!1},_init:function(n,a){var i,r,o,l,s=this,c=s.$element;s.options=n,e.each(n,function(e,n){switch(e){case"minFileCount":case"maxFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":s[e]=t.getNum(n);break;default:s[e]=n}}),s.rtl&&(l=s.previewZoomButtonIcons.prev,s.previewZoomButtonIcons.prev=s.previewZoomButtonIcons.next,s.previewZoomButtonIcons.next=l),a||s._cleanup(),s.$form=c.closest("form"),s._initTemplateDefaults(),s.uploadFileAttr=t.isEmpty(c.attr("name"))?"file_data":c.attr("name"),o=s._getLayoutTemplate("progress"),s.progressTemplate=o.replace("{class}",s.progressClass),s.progressCompleteTemplate=o.replace("{class}",s.progressCompleteClass),s.progressErrorTemplate=o.replace("{class}",s.progressErrorClass),s.dropZoneEnabled=t.hasDragDropSupport()&&s.dropZoneEnabled,s.isDisabled=c.attr("disabled")||c.attr("readonly"),s.isDisabled&&c.attr("disabled",!0),s.isAjaxUpload=t.hasFileUploadSupport()&&!t.isEmpty(s.uploadUrl),s.isClickable=s.browseOnZoneClick&&s.showPreview&&(s.isAjaxUpload&&s.dropZoneEnabled||!t.isEmpty(s.defaultPreviewContent)),s.slug="function"==typeof n.slugCallback?n.slugCallback:s._slugDefault,s.mainTemplate=s.showCaption?s._getLayoutTemplate("main1"):s._getLayoutTemplate("main2"),s.captionTemplate=s._getLayoutTemplate("caption"),s.previewGenericTemplate=s._getPreviewTemplate("generic"),!s.imageCanvas&&s.resizeImage&&(s.maxImageWidth||s.maxImageHeight)&&(s.imageCanvas=document.createElement("canvas"),s.imageCanvasContext=s.imageCanvas.getContext("2d")),t.isEmpty(c.attr("id"))&&c.attr("id",t.uniqId()),s.namespace=".fileinput_"+c.attr("id").replace(/-/g,"_"),void 0===s.$container?s.$container=s._createContainer():s._refreshContainer(),r=s.$container,s.$dropZone=r.find(".file-drop-zone"),s.$progress=r.find(".kv-upload-progress"),s.$btnUpload=r.find(".fileinput-upload"),s.$captionContainer=t.getElement(n,"elCaptionContainer",r.find(".file-caption")),s.$caption=t.getElement(n,"elCaptionText",r.find(".file-caption-name")),t.isEmpty(s.msgPlaceholder)||(i=c.attr("multiple")?s.filePlural:s.fileSingle,s.$caption.attr("placeholder",s.msgPlaceholder.replace("{files}",i))),s.$captionIcon=s.$captionContainer.find(".file-caption-icon"),s.$previewContainer=t.getElement(n,"elPreviewContainer",r.find(".file-preview")),s.$preview=t.getElement(n,"elPreviewImage",r.find(".file-preview-thumbnails")),s.$previewStatus=t.getElement(n,"elPreviewStatus",r.find(".file-preview-status")),s.$errorContainer=t.getElement(n,"elErrorContainer",s.$previewContainer.find(".kv-fileinput-error")),s._validateDisabled(),t.isEmpty(s.msgErrorClass)||t.addCss(s.$errorContainer,s.msgErrorClass),a||(s.$errorContainer.hide(),s.previewInitId="preview-"+t.uniqId(),s._initPreviewCache(),s._initPreview(!0),s._initPreviewActions(),s._setFileDropZoneTitle(),s.$parent.hasClass("file-loading")&&(s.$container.insertBefore(s.$parent),s.$parent.remove())),c.attr("disabled")&&s.disable(),s._initZoom(),s.hideThumbnailContent&&t.addCss(s.$preview,"hide-content")},_initTemplateDefaults:function(){var n,a,i,r,o,l,s,c,d,u,f,p,h,m,g,v,b,w,_,y,C,x,S,T,D,A,I,k,F,E,P,j,L,R,z,O,N,U,$,B=this;n='{preview}\n<div class="kv-upload-progress kv-hidden"></div><div class="clearfix"></div>\n<div class="input-group {class}">\n  {caption}\n<div class="input-group-btn input-group-append">\n      {remove}\n      {cancel}\n      {upload}\n      {browse}\n    </div>\n</div>',a='{preview}\n<div class="kv-upload-progress kv-hidden"></div>\n<div class="clearfix"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',i='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',o=t.closeButton("fileinput-remove"),r='<i class="glyphicon glyphicon-file"></i>',l='<div class="file-caption form-control {class}" tabindex="500">\n  <span class="file-caption-icon"></span>\n  <input class="file-caption-name" onkeydown="return false;" onpaste="return false;">\n</div>',s='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',c='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',d='<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',u='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"></div>',f='<div class="modal-dialog modal-lg{rtl}" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <h5 class="modal-title">{heading}</h5>\n      <span class="kv-zoom-title"></span>\n      <div class="kv-zoom-actions">{toggleheader}{fullscreen}{borderless}{close}</div>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',p='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     </div>\n</div>',h=" <samp>({sizeText})</samp>",m='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">\n        <div class="file-caption-info">{caption}</div>\n        <div class="file-size-info">{size}</div>\n    </div>\n    {progress}\n{indicator}\n{actions}\n</div>',g='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {download} {upload} {delete} {zoom} {other}    </div>\n</div>\n{drag}\n<div class="clearfix"></div>',v='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',b='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',w='<a class="kv-file-download {downloadClass}" title="{downloadTitle}" href="{downloadUrl}" download="{caption}" target="_blank">{downloadIcon}</a>',_='<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',y='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',C='<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>',x='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"',S=x+'><div class="kv-file-content">\n',T=x+' title="{caption}"><div class="kv-file-content">\n',D="</div>{footer}\n</div>\n",A="{content}\n",N=" {style}",I='<div class="kv-preview-data file-preview-html" title="{caption}"'+N+">{data}</div>\n",k='<img src="{data}" class="file-preview-image kv-preview-data" title="{caption}" alt="{caption}"'+N+">\n",F='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly'+N+">{data}</textarea>\n",E='<iframe class="kv-preview-data file-preview-office" src="https://docs.google.com/gview?url={data}&embedded=true"'+N+"></iframe>",P='<video class="kv-preview-data file-preview-video" controls'+N+'>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</video>\n",j='\x3c!--suppress ALL --\x3e<audio class="kv-preview-data file-preview-audio" controls'+N+'>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</audio>\n",L='<embed class="kv-preview-data file-preview-flash" src="{data}" type="application/x-shockwave-flash"'+N+">\n",z='<embed class="kv-preview-data file-preview-pdf" src="{data}" type="application/pdf"'+N+">\n",R='<object class="kv-preview-data file-preview-object file-object {typeCss}" data="{data}" type="{type}"'+N+'>\n<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n",O='<div class="kv-preview-data file-preview-other-frame"'+N+">\n"+t.DEFAULT_PREVIEW+"\n</div>\n",U='<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>',$={width:"100%",height:"100%","min-height":"480px"},B.defaults={layoutTemplates:{main1:n,main2:a,preview:i,close:o,fileIcon:r,caption:l,modalMain:u,modal:f,progress:p,size:h,footer:m,indicator:C,actions:g,actionDelete:v,actionUpload:b,actionDownload:w,actionZoom:_,actionDrag:y,btnDefault:s,btnLink:c,btnBrowse:d,zoomCache:U},previewMarkupTags:{tagBefore1:S,tagBefore2:T,tagAfter:D},previewContentTemplates:{generic:A,html:I,image:k,text:F,office:E,video:P,audio:j,flash:L,object:R,pdf:z,other:O},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},office:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"100%",height:"30px"},flash:{width:"213px",height:"160px"},object:{width:"213px",height:"160px"},pdf:{width:"213px",height:"160px"},other:{width:"213px",height:"160px"}},previewSettingsSmall:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"160px"},text:{width:"100%",height:"160px"},office:{width:"100%",height:"160px"},video:{width:"100%",height:"auto"},audio:{width:"100%",height:"30px"},flash:{width:"100%",height:"auto"},object:{width:"100%",height:"auto"},pdf:{width:"100%",height:"160px"},other:{width:"100%",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:$,text:$,office:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:$,other:{width:"auto",height:"100%","min-height":"480px"}},fileTypeSettings:{image:function(e,n){return t.compare(e,"image.*")&&!t.compare(e,/(tiff?|wmf)$/i)||t.compare(n,/\.(gif|png|jpe?g)$/i)},html:function(e,n){return t.compare(e,"text/html")||t.compare(n,/\.(htm|html)$/i)},office:function(e,n){return t.compare(e,/(word|excel|powerpoint|office|iwork-pages|tiff?)$/i)||t.compare(n,/\.(rtf|docx?|xlsx?|pptx?|pps|potx?|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i)},text:function(e,n){return t.compare(e,"text.*")||t.compare(n,/\.(xml|javascript)$/i)||t.compare(n,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,n){return t.compare(e,"video.*")&&(t.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(n,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,n){return t.compare(e,"audio.*")&&(t.compare(n,/(ogg|mp3|mp?g|wav)$/i)||t.compare(n,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,n){return t.compare(e,"application/x-shockwave-flash",!0)||t.compare(n,/\.(swf)$/i)},pdf:function(e,n){return t.compare(e,"application/pdf",!0)||t.compare(n,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showDownload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",removeErrorClass:"btn btn-sm btn-kv btn-danger",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",uploadTitle:"Upload file",uploadRetryIcon:'<i class="glyphicon glyphicon-repeat"></i>',uploadRetryTitle:"Retry upload",downloadIcon:'<i class="glyphicon glyphicon-download"></i>',downloadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",downloadTitle:"Download file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-move"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}},e.each(B.defaults,function(t,n){return"allowedPreviewTypes"===t?void(void 0===B.allowedPreviewTypes&&(B.allowedPreviewTypes=n)):void(B[t]=e.extend(!0,{},n,B[t]))}),B._initPreviewTemplates()},_initPreviewTemplates:function(){var n,a=this,i=a.defaults,r=a.previewMarkupTags,o=r.tagAfter;e.each(i.previewContentTemplates,function(e,i){t.isEmpty(a.previewTemplates[e])&&(n=r.tagBefore2,"generic"!==e&&"image"!==e&&"html"!==e&&"text"!==e||(n=r.tagBefore1),a.previewTemplates[e]=n+i+o)})},_initPreviewCache:function(){var n=this;n.previewCache={data:{},init:function(){var e=n.initialPreview;e.length>0&&!t.isArray(e)&&(e=e.split(n.initialPreviewDelimiter)),n.previewCache.data={content:e,config:n.initialPreviewConfig,tags:n.initialPreviewThumbTags}},count:function(){return n.previewCache.data&&n.previewCache.data.content?n.previewCache.data.content.length:0},get:function(a,i){var r,o,l,s,c,d,u,f="init_"+a,p=n.previewCache.data,h=p.config[a],m=p.content[a],g=n.previewInitId+"-"+f,v=t.ifSet("previewAsData",h,n.initialPreviewAsData),b=function(e,a,i,r,o,l,s,c,d){return c=" file-preview-initial "+t.SORT_CSS+(c?" "+c:""),n._generatePreviewTemplate(e,a,i,r,o,!1,null,c,l,s,d)};return m?(i=void 0===i||i,l=t.ifSet("type",h,n.initialPreviewFileType||"generic"),c=t.ifSet("filename",h,t.ifSet("caption",h)),d=t.ifSet("filetype",h,l),s=n.previewCache.footer(a,i,h&&h.size||null),u=t.ifSet("frameClass",h),r=v?b(l,m,c,d,g,s,f,u):b("generic",m,c,d,g,s,f,u,l).setTokens({content:p.content[a]}),p.tags.length&&p.tags[a]&&(r=t.replaceTags(r,p.tags[a])),t.isEmpty(h)||t.isEmpty(h.frameAttr)||(o=e(document.createElement("div")).html(r),o.find(".file-preview-initial").attr(h.frameAttr),r=o.html(),o.remove()),r):""},add:function(e,a,i,r){var o,l=n.previewCache.data;return t.isArray(e)||(e=e.split(n.initialPreviewDelimiter)),r?(o=l.content.push(e)-1,l.config[o]=a,l.tags[o]=i):(o=e.length-1,l.content=e,l.config=a,l.tags=i),n.previewCache.data=l,o},set:function(e,a,i,r){var o,l,s=n.previewCache.data;if(e&&e.length&&(t.isArray(e)||(e=e.split(n.initialPreviewDelimiter)),l=e.filter(function(e){return null!==e}),l.length)){if(void 0===s.content&&(s.content=[]),void 0===s.config&&(s.config=[]),void 0===s.tags&&(s.tags=[]),r){for(o=0;o<e.length;o++)e[o]&&s.content.push(e[o]);for(o=0;o<a.length;o++)a[o]&&s.config.push(a[o]);for(o=0;o<i.length;o++)i[o]&&s.tags.push(i[o])}else s.content=e,s.config=a,s.tags=i;n.previewCache.data=s}},unset:function(e){var a=n.previewCache.count(),i=n.reversePreviewOrder;if(a){if(1===a)return n.previewCache.data.content=[],n.previewCache.data.config=[],n.previewCache.data.tags=[],n.initialPreview=[],n.initialPreviewConfig=[],void(n.initialPreviewThumbTags=[]);n.previewCache.data.content=t.spliceArray(n.previewCache.data.content,e,i),n.previewCache.data.config=t.spliceArray(n.previewCache.data.config,e,i),n.previewCache.data.tags=t.spliceArray(n.previewCache.data.tags,e,i)}},out:function(){var e,t,a,i="",r=n.previewCache.count();if(0===r)return{content:"",caption:""};for(t=0;r>t;t++)a=n.previewCache.get(t),i=n.reversePreviewOrder?a+i:i+a;return e=n._getMsgSelected(r),{content:i,caption:e}},footer:function(e,a,i){var r=n.previewCache.data||{};if(t.isEmpty(r.content))return"";(t.isEmpty(r.config)||t.isEmpty(r.config[e]))&&(r.config[e]={}),a=void 0===a||a;var o,l=r.config[e],s=t.ifSet("caption",l),c=t.ifSet("width",l,"auto"),d=t.ifSet("url",l,!1),u=t.ifSet("key",l,null),f=n.fileActionSettings,p=n.initialPreviewShowDelete||!1,h=l.downloadUrl||n.initialPreviewDownloadUrl||"",m=l.filename||l.caption||"",g=!!h,v=t.ifSet("showRemove",l,t.ifSet("showRemove",f,p)),b=t.ifSet("showDownload",l,t.ifSet("showDownload",f,g)),w=t.ifSet("showZoom",l,t.ifSet("showZoom",f,!0)),_=t.ifSet("showDrag",l,t.ifSet("showDrag",f,!0)),y=!1===d&&a;return b=b&&!1!==l.downloadUrl&&!!h,o=n._renderFileActions(!1,b,v,w,_,y,d,u,!0,h,m),n._getLayoutTemplate("footer").setTokens({progress:n._renderThumbProgress(),actions:o,caption:s,size:n._getSize(i),width:c,indicator:""})}},n.previewCache.init()},_handler:function(e,t,n){var a=this,i=a.namespace,r=t.split(" ").join(i+" ")+i;e&&e.length&&e.off(r).on(r,n)},
_log:function(e){var t=this,n=t.$element.attr("id");n&&(e='"'+n+'": '+e),window.console.log},_validate:function(){var e=this,t="file"===e.$element.attr("type");return t||e._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.'),t},_errorsExist:function(){var t,n=this;return!!n.$errorContainer.find("li").length||(t=e(document.createElement("div")).html(n.$errorContainer.html()),t.find(".kv-error-close").remove(),t.find("ul").remove(),!!e.trim(t.text()).length)},_errorHandler:function(e,t){var n=this,a=e.target.error;!function(e){n._showError(e.replace("{name}",t))}(a.code===a.NOT_FOUND_ERR?n.msgFileNotFound:a.code===a.SECURITY_ERR?n.msgFileSecured:a.code===a.NOT_READABLE_ERR?n.msgFileNotReadable:a.code===a.ABORT_ERR?n.msgFilePreviewAborted:n.msgFilePreviewError)},_addError:function(e){var t=this,n=t.$errorContainer;e&&n.length&&(n.html(t.errorCloseButton+e),t._handler(n.find(".kv-error-close"),"click",function(){setTimeout(function(){t.showPreview&&!t.getFrames().length&&t.clear(),n.fadeOut("slow")},10)}))},_setValidationError:function(e){var n=this;e=(e?e+" ":"")+"has-error",n.$container.removeClass(e).addClass("has-error"),t.addCss(n.$captionContainer,"is-invalid")},_resetErrors:function(e){var t=this,n=t.$errorContainer;t.isError=!1,t.$container.removeClass("has-error"),t.$captionContainer.removeClass("is-invalid"),n.html(""),e?n.fadeOut("slow"):n.hide()},_showFolderError:function(e){var t,n=this,a=n.$errorContainer;e&&(t=n.msgFoldersNotAllowed.replace("{n}",e),n._addError(t),n._setValidationError(),a.fadeIn(800),n._raise("filefoldererror",[e,t]))},_showUploadError:function(e,t,n){var a=this,i=a.$errorContainer,r=n||"fileuploaderror",o=t&&t.id?'<li data-file-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===i.find("ul").length?a._addError("<ul>"+o+"</ul>"):i.find("ul").append(o),i.fadeIn(800),a._raise(r,[t,e]),a._setValidationError("file-input-new"),!0},_showError:function(e,t,n){var a=this,i=a.$errorContainer,r=n||"fileerror";return t=t||{},t.reader=a.reader,a._addError(e),i.fadeIn(800),a._raise(r,[t,e]),a.isAjaxUpload||a._clearFileInput(),a._setValidationError("file-input-new"),a.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this,n=t.minFileCount>1?t.filePlural:t.fileSingle,a=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",n),i=t.$errorContainer;t._addError(a),t.isError=!0,t._updateFileDetails(0),i.fadeIn(800),t._raise("fileerror",[e,a]),t._clearFileInput(),t._setValidationError()},_parseError:function(t,n,a,i){var r,o=this,l=e.trim(a+""),s=void 0!==n.responseJSON&&void 0!==n.responseJSON.error?n.responseJSON.error:n.responseText;return o.cancelling&&o.msgUploadAborted&&(l=o.msgUploadAborted),o.showAjaxErrorDetails&&s&&(s=e.trim(s.replace(/\n\s*\n/g,"\n")),r=s.length?"<pre>"+s+"</pre>":"",l+=l?r:s),l||(l=o.msgAjaxError.replace("{operation}",t)),o.cancelling=!1,i?"<b>"+i+": </b>"+l:l},_parseFileType:function(e,n){var a,i,r,o,l=this,s=l.allowedPreviewTypes||[];if("application/text-plain"===e)return"text";for(o=0;o<s.length;o++)if(r=s[o],a=l.fileTypeSettings[r],i=a(e,n)?r:"",!t.isEmpty(i))return i;return"other"},_getPreviewIcon:function(t){var n,a=this,i=null;return t&&t.indexOf(".")>-1&&(n=t.split(".").pop(),a.previewFileIconSettings&&(i=a.previewFileIconSettings[n]||a.previewFileIconSettings[n.toLowerCase()]||null),a.previewFileExtSettings&&e.each(a.previewFileExtSettings,function(e,t){return a.previewFileIconSettings[e]&&t(n)?void(i=a.previewFileIconSettings[e]):void 0})),i},_parseFilePreviewIcon:function(e,t){var n=this,a=n._getPreviewIcon(t)||n.previewFileIcon,i=e;return i.indexOf("{previewFileIcon}")>-1&&(i=i.setTokens({previewFileIconClass:n.previewFileIconClass,previewFileIcon:a})),i},_raise:function(t,n){var a=this,i=e.Event(t);if(void 0!==n?a.$element.trigger(i,n):a.$element.trigger(i),i.isDefaultPrevented()||!1===i.result)return!1;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:a.ajaxAborted||(a.ajaxAborted=i.result)}return!0},_listenFullScreen:function(e){var t,n,a=this,i=a.$modal;i&&i.length&&(t=i&&i.find(".btn-fullscreen"),n=i&&i.find(".btn-borderless"),t.length&&n.length&&(t.removeClass("active").attr("aria-pressed","false"),n.removeClass("active").attr("aria-pressed","false"),e?t.addClass("active").attr("aria-pressed","true"):n.addClass("active").attr("aria-pressed","true"),i.hasClass("file-zoom-fullscreen")?a._maximizeZoomDialog():e?a._maximizeZoomDialog():n.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var n,a=this,i=a.$element,r=a.$form,o=a.$container;a._handler(i,"change",e.proxy(a._change,a)),a.showBrowse&&a._handler(a.$btnFile,"click",e.proxy(a._browse,a)),a._handler(o.find(".fileinput-remove:not([disabled])"),"click",e.proxy(a.clear,a)),a._handler(o.find(".fileinput-cancel"),"click",e.proxy(a.cancel,a)),a._initDragDrop(),a._handler(r,"reset",e.proxy(a.clear,a)),a.isAjaxUpload||a._handler(r,"submit",e.proxy(a._submitForm,a)),a._handler(a.$container.find(".fileinput-upload"),"click",e.proxy(a._uploadClick,a)),a._handler(e(window),"resize",function(){a._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),n="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",a._handler(e(document),n,function(){a._listenFullScreen(t.checkFullScreen())}),a._autoFitContent(),a._initClickable()},_autoFitContent:function(){var t,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=this,i=400>n?a.previewSettingsSmall||a.defaults.previewSettingsSmall:a.previewSettings||a.defaults.previewSettings;e.each(i,function(e,n){t=".file-preview-frame .file-preview-"+e,a.$preview.find(t+".kv-preview-data,"+t+" .kv-preview-data").css(n)})},_initClickable:function(){var n,a=this;a.isClickable&&(n=a.isAjaxUpload?a.$dropZone:a.$preview.find(".file-default-preview"),t.addCss(n,"clickable"),n.attr("tabindex",-1),a._handler(n,"click",function(t){var i=e(t.target);n.find(".kv-fileinput-error:visible").length||i.parents(".file-preview-thumbnails").length&&!i.parents(".file-default-preview").length||(a.$element.trigger("click"),n.blur())}))},_initDragDrop:function(){var t=this,n=t.$dropZone;t.isAjaxUpload&&t.dropZoneEnabled&&t.showPreview&&(t._handler(n,"dragenter dragover",e.proxy(t._zoneDragEnter,t)),t._handler(n,"dragleave",e.proxy(t._zoneDragLeave,t)),t._handler(n,"drop",e.proxy(t._zoneDrop,t)),t._handler(e(document),"dragenter dragover drop",t._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(n){var a=this,i=e.inArray("Files",n.originalEvent.dataTransfer.types)>-1;return a._zoneDragDropInit(n),a.isDisabled||!i?(n.originalEvent.dataTransfer.effectAllowed="none",void(n.originalEvent.dataTransfer.dropEffect="none")):void t.addCss(a.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){var t=this;t._zoneDragDropInit(e),t.isDisabled||t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){var n=this;e.preventDefault(),n.isDisabled||t.isEmpty(e.originalEvent.dataTransfer.files)||(n._change(e,"dragdrop"),n.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(e){var n,a=this,i=a.$container.find(".fileinput-upload"),r=!i.hasClass("disabled")&&t.isEmpty(i.attr("disabled"));if(!e||!e.isDefaultPrevented()){if(!a.isAjaxUpload)return void(r&&"submit"!==i.attr("type")&&(n=i.closest("form"),n.length&&n.trigger("submit"),e.preventDefault()));e.preventDefault(),r&&a.upload()}},_submitForm:function(){var e=this;return e._isFileSelectionValid()&&!e._abort({})},_clearPreview:function(){var n=this,a=n.$preview;(n.showUploadedThumbs?n.getFrames(":not(.file-preview-success)"):n.getFrames()).each(function(){var n=e(this);n.remove(),t.cleanZoomCache(a.find("#zoom-"+n.attr("id")))}),n.getFrames().length&&n.showPreview||n._resetUpload(),n._validateDefaultPreview()},_initSortable:function(){var n,a=this,i=a.$preview,r="."+t.SORT_CSS,o=a.reversePreviewOrder;window.KvSortable&&0!==i.find(r).length&&(n={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:!1,draggable:r,onSort:function(n){var i=n.oldIndex,r=n.newIndex,l=0;a.initialPreview=t.moveArray(a.initialPreview,i,r,o),a.initialPreviewConfig=t.moveArray(a.initialPreviewConfig,i,r,o),a.previewCache.init(),a.getFrames(".file-preview-initial").each(function(){e(this).attr("data-fileindex","init_"+l),l++}),a._raise("filesorted",{previewId:e(n.item).attr("id"),oldIndex:i,newIndex:r,stack:a.initialPreviewConfig})}},i.data("kvsortable")&&i.kvsortable("destroy"),e.extend(!0,n,a.fileActionSettings.dragSettings),i.kvsortable(n))},_setPreviewContent:function(e){var t=this;t.$preview.html(e),t._autoFitContent()},_initPreview:function(e){var n,a=this,i=a.initialCaption||"";return a.previewCache.count()?(n=a.previewCache.out(),i=e&&a.initialCaption?a.initialCaption:n.caption,a._setPreviewContent(n.content),a._setInitThumbAttr(),a._setCaption(i),a._initSortable(),void(t.isEmpty(n.content)||a.$container.removeClass("file-input-new"))):(a._clearPreview(),void(e?a._setCaption(i):a._initCaption()))},_getZoomButton:function(e){var t=this,n=t.previewZoomButtonIcons[e],a=t.previewZoomButtonClasses[e],i=' title="'+(t.previewZoomButtonTitles[e]||"")+'" ',r=i+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(r+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+a+" btn-"+e+'"'+r+">"+n+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").setTokens({rtl:e.rtl?" kv-rtl":"",zoomFrameClass:e.frameClass,heading:e.msgZoomModalHeading,prev:e._getZoomButton("prev"),next:e._getZoomButton("next"),toggleheader:e._getZoomButton("toggleheader"),fullscreen:e._getZoomButton("fullscreen"),borderless:e._getZoomButton("borderless"),close:e._getZoomButton("close")})},_listenModalEvent:function(e){var n=this,a=n.$modal,i=function(e){return{sourceEvent:e,previewId:a.data("previewId"),modal:a}};a.on(e+".bs.modal",function(r){var o=a.find(".btn-fullscreen"),l=a.find(".btn-borderless");n._raise("filezoom"+e,i(r)),"shown"===e&&(l.removeClass("active").attr("aria-pressed","false"),o.removeClass("active").attr("aria-pressed","false"),a.hasClass("file-zoom-fullscreen")&&(n._maximizeZoomDialog(),t.checkFullScreen()?o.addClass("active").attr("aria-pressed","true"):l.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var n,a=this,i=a._getLayoutTemplate("modalMain"),r="#"+t.MODAL_ID;a.showPreview&&(a.$modal=e(r),a.$modal&&a.$modal.length||(n=e(document.createElement("div")).html(i).insertAfter(a.$container),a.$modal=e(r).insertBefore(n),n.remove()),t.initModal(a.$modal),a.$modal.html(a._getModalContent()),e.each(t.MODAL_EVENTS,function(e,t){a._listenModalEvent(t)}))},_initZoomButtons:function(){var t,n,a=this,i=a.$modal.data("previewId")||"",r=a.getFrames().toArray(),o=r.length,l=a.$modal.find(".btn-prev"),s=a.$modal.find(".btn-next");return r.length<2?(l.hide(),void s.hide()):(l.show(),s.show(),void(o&&(t=e(r[0]),n=e(r[o-1]),l.removeAttr("disabled"),s.removeAttr("disabled"),t.length&&t.attr("id")===i&&l.attr("disabled",!0),n.length&&n.attr("id")===i&&s.attr("disabled",!0))))},_maximizeZoomDialog:function(){var t=this,n=t.$modal,a=n.find(".modal-header:visible"),i=n.find(".modal-footer:visible"),r=n.find(".modal-body"),o=e(window).height(),l=0;n.addClass("file-zoom-fullscreen"),a&&a.length&&(o-=a.outerHeight(!0)),i&&i.length&&(o-=i.outerHeight(!0)),r&&r.length&&(l=r.outerHeight(!0)-r.height(),o-=l),n.find(".kv-zoom-body").height(o)},_resizeZoomDialog:function(e){var n=this,a=n.$modal,i=a.find(".btn-fullscreen"),r=a.find(".btn-borderless");if(a.hasClass("file-zoom-fullscreen"))t.toggleFullScreen(!1),e?i.hasClass("active")||(a.removeClass("file-zoom-fullscreen"),n._resizeZoomDialog(!0),r.hasClass("active")&&r.removeClass("active").attr("aria-pressed","false")):i.hasClass("active")?i.removeClass("active").attr("aria-pressed","false"):(a.removeClass("file-zoom-fullscreen"),n.$modal.find(".kv-zoom-body").css("height",n.zoomModalHeight));else{if(!e)return void n._maximizeZoomDialog();t.toggleFullScreen(!0)}a.focus()},_setZoomContent:function(n,a){var i,r,o,l,s,c,d,u,f,p,h=this,m=n.attr("id"),g=h.$modal,v=g.find(".btn-prev"),b=g.find(".btn-next"),w=g.find(".btn-fullscreen"),_=g.find(".btn-borderless"),y=g.find(".btn-toggleheader"),C=h.$preview.find("#zoom-"+m);r=C.attr("data-template")||"generic",i=C.find(".kv-file-content"),o=i.length?i.html():"",f=n.data("caption")||"",p=n.data("size")||"",l=f+" "+p,g.find(".kv-zoom-title").attr("title",e("<div/>").html(l).text()).html(l),s=g.find(".kv-zoom-body"),g.removeClass("kv-single-content"),a?(u=s.addClass("file-thumb-loading").clone().insertAfter(s),s.html(o).hide(),u.fadeOut("fast",function(){s.fadeIn("fast",function(){s.removeClass("file-thumb-loading")}),u.remove()})):s.html(o),d=h.previewZoomSettings[r],d&&(c=s.find(".kv-preview-data"),t.addCss(c,"file-zoom-detail"),e.each(d,function(e,t){c.css(e,t),(c.attr("width")&&"width"===e||c.attr("height")&&"height"===e)&&c.removeAttr(e)})),g.data("previewId",m);var x=s.find("img");x.length&&t.adjustOrientedImage(x,!0),h._handler(v,"click",function(){h._zoomSlideShow("prev",m)}),h._handler(b,"click",function(){h._zoomSlideShow("next",m)}),h._handler(w,"click",function(){h._resizeZoomDialog(!0)}),h._handler(_,"click",function(){h._resizeZoomDialog(!1)}),h._handler(y,"click",function(){var e,t=g.find(".modal-header"),n=g.find(".modal-body .floating-buttons"),a=t.find(".kv-zoom-actions"),i=function(e){var n=h.$modal.find(".kv-zoom-body"),a=h.zoomModalHeight;g.hasClass("file-zoom-fullscreen")&&(a=n.outerHeight(!0),e||(a-=t.outerHeight(!0))),n.css("height",e?a+e:a)};t.is(":visible")?(e=t.outerHeight(!0),t.slideUp("slow",function(){a.find(".btn").appendTo(n),i(e)})):(n.find(".btn").appendTo(a),t.slideDown("slow",function(){i()})),g.focus()}),h._handler(g,"keydown",function(e){var t=e.which||e.keyCode;37!==t||v.attr("disabled")||h._zoomSlideShow("prev",m),39!==t||b.attr("disabled")||h._zoomSlideShow("next",m)})},_zoomPreview:function(e){var n,a=this,i=a.$modal;if(!e.length)throw"Cannot zoom to detailed preview!";t.initModal(i),i.html(a._getModalContent()),n=e.closest(t.FRAMES),a._setZoomContent(n),i.modal("show"),a._initZoomButtons()},_zoomSlideShow:function(t,n){var a,i,r,o=this,l=o.$modal.find(".kv-zoom-actions .btn-"+t),s=o.getFrames().toArray(),c=s.length;if(!l.attr("disabled")){for(i=0;c>i;i++)if(e(s[i]).attr("id")===n){r="prev"===t?i-1:i+1;break}0>r||r>=c||!s[r]||(a=e(s[r]),a.length&&o._setZoomContent(a,!0),o._initZoomButtons(),o._raise("filezoom"+t,{previewId:n,modal:o.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var n=e(this);t._handler(n,"click",function(){t._zoomPreview(n)})})},_clearObjects:function(t){t.find("video audio").each(function(){this.pause(),e(this).remove()}),t.find("img object div").each(function(){e(this).remove()})},_clearFileInput:function(){var n,a,i,r=this,o=r.$element;r.fileInputCleared=!0,t.isEmpty(o.val())||(r.isIE9||r.isIE10?(n=o.closest("form"),a=e(document.createElement("form")),i=e(document.createElement("div")),o.before(i),n.length?n.after(a):i.after(a),a.append(o).trigger("reset"),i.before(o).remove(),a.remove()):o.val(""))},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e._setProgress(0),e.$progress.hide(),e._resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e._resetCanvas(),e.cacheInitialPreview={},e.overwriteInitial&&(e.initialPreview=[],e.initialPreviewConfig=[],e.initialPreviewThumbTags=[],e.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},_hasInitialPreview:function(){var e=this;return!e.overwriteInitial&&e.previewCache.count()},_resetPreview:function(){var e,t,n=this;n.previewCache.count()?(e=n.previewCache.out(),n._setPreviewContent(e.content),n._setInitThumbAttr(),t=n.initialCaption?n.initialCaption:e.caption,n._setCaption(t)):(n._clearPreview(),n._initCaption()),n.showPreview&&(n._initZoom(),n._initSortable())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;e.showPreview&&!t.isEmpty(e.defaultPreviewContent)&&(e._setPreviewContent('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"),e._initClickable())},_resetPreviewThumbs:function(e){var t,n=this;return e?(n._clearPreview(),void n.clearStack()):void(n._hasInitialPreview()?(t=n.previewCache.out(),n._setPreviewContent(t.content),n._setInitThumbAttr(),n._setCaption(t.caption),n._initPreviewActions()):n._clearPreview())},_getLayoutTemplate:function(e){var n=this,a=n.layoutTemplates[e];return t.isEmpty(n.customLayoutTags)?a:t.replaceTags(a,n.customLayoutTags)},_getPreviewTemplate:function(e){var n=this,a=n.previewTemplates[e];return t.isEmpty(n.customPreviewTags)?a:t.replaceTags(a,n.customPreviewTags)},_getOutData:function(e,t,n){var a=this;return e=e||{},t=t||{},n=n||a.filestack.slice(0)||{},{form:a.formdata,files:n,filenames:a.filenames,filescount:a.getFilesCount(),extra:a._getExtraData(),response:t,reader:a.reader,jqXHR:e}},_getMsgSelected:function(e){var t=this,n=1===e?t.fileSingle:t.filePlural;return e>0?t.msgSelected.replace("{n}",e).replace("{files}",n):t.msgNoFilesSelected},_getFrame:function(t){var n=this,a=e("#"+t);return a.length?a:(n._log('Invalid thumb frame with id: "'+t+'".'),null)},_getThumbs:function(e){return e=e||"",this.getFrames(":not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var n=this,a=n.uploadExtraData;return"function"==typeof n.uploadExtraData&&(a=n.uploadExtraData(e,t)),a},_initXhr:function(e,t,n){var a=this;return e.upload&&e.upload.addEventListener("progress",function(e){var i=0,r=e.total,o=e.loaded||e.position;e.lengthComputable&&(i=Math.floor(o/r*100)),t?a._setAsyncUploadStatus(t,i,n):a._setProgress(i)},!1),e},_mergeAjaxCallback:function(e,t,n){var a,i=this,r=i.ajaxSettings,o=i.mergeAjaxCallbacks;"delete"===n&&(r=i.ajaxDeleteSettings,o=i.mergeAjaxDeleteCallbacks),a=r[e],r[e]=o&&"function"==typeof a?"before"===o?function(){a.apply(this,arguments),t.apply(this,arguments)}:function(){t.apply(this,arguments),a.apply(this,arguments)}:t,"delete"===n?i.ajaxDeleteSettings=r:i.ajaxSettings=r},_ajaxSubmit:function(t,n,a,i,r,o){var l,s=this;s._raise("filepreajax",[r,o])&&(s._uploadExtra(r,o),s._mergeAjaxCallback("beforeSend",t),s._mergeAjaxCallback("success",n),s._mergeAjaxCallback("complete",a),s._mergeAjaxCallback("error",i),l=e.extend(!0,{},{xhr:function(){var t=e.ajaxSettings.xhr();return s._initXhr(t,r,s.getFileStack().length)},url:o&&s.uploadUrlThumb?s.uploadUrlThumb:s.uploadUrl,type:"POST",dataType:"json",data:s.formdata,cache:!1,processData:!1,contentType:!1},s.ajaxSettings),s.ajaxRequests.push(e.ajax(l)))},_mergeArray:function(e,n){var a=this,i=t.cleanArray(a[e]),r=t.cleanArray(n);a[e]=i.concat(r)},_initUploadSuccess:function(n,a,i){var r,o,l,s,c,d,u,f,p,h=this;h.showPreview&&"object"==typeof n&&!e.isEmptyObject(n)&&void 0!==n.initialPreview&&n.initialPreview.length>0&&(h.hasInitData=!0,d=n.initialPreview||[],u=n.initialPreviewConfig||[],f=n.initialPreviewThumbTags||[],r=void 0===n.append||n.append,d.length>0&&!t.isArray(d)&&(d=d.split(h.initialPreviewDelimiter)),h._mergeArray("initialPreview",d),h._mergeArray("initialPreviewConfig",u),h._mergeArray("initialPreviewThumbTags",f),void 0!==a?i?(p=a.attr("data-fileindex"),h.uploadCache.content[p]=d[0],h.uploadCache.config[p]=u[0]||[],h.uploadCache.tags[p]=f[0]||[],h.uploadCache.append=r):(l=h.previewCache.add(d,u[0],f[0],r),o=h.previewCache.get(l,!1),s=e(document.createElement("div")).html(o).hide().insertAfter(a),c=s.find(".kv-zoom-cache"),c&&c.length&&c.insertAfter(a),a.fadeOut("slow",function(){var e=s.find(".file-preview-frame");e&&e.length&&e.insertBefore(a).fadeIn("slow").css("display:inline-block"),h._initPreviewActions(),h._clearFileInput(),t.cleanZoomCache(h.$preview.find("#zoom-"+a.attr("id"))),a.remove(),s.remove(),h._initSortable()})):(h.previewCache.set(d,u,f,r),h._initPreview(),h._initPreviewActions()))},_initSuccessThumbs:function(){var n=this;n.showPreview&&n._getThumbs(t.FRAMES+".file-preview-success").each(function(){var a=e(this),i=n.$preview,r=a.find(".kv-file-remove");r.removeAttr("disabled"),n._handler(r,"click",function(){var e=a.attr("id"),r=n._raise("filesuccessremove",[e,a.attr("data-fileindex")]);t.cleanMemory(a),!1!==r&&a.fadeOut("slow",function(){t.cleanZoomCache(i.find("#zoom-"+e)),a.remove(),n.getFrames().length||n.reset()})})})},_checkAsyncComplete:function(){var t,n,a=this;for(n=0;n<a.filestack.length;n++)if(a.filestack[n]&&(t=a.previewInitId+"-"+n,-1===e.inArray(t,a.uploadLog)))return!1;return a.uploadAsyncCount===a.uploadLog.length},_uploadExtra:function(t,n){var a=this,i=a._getExtraData(t,n);0!==i.length&&e.each(i,function(e,t){a.formdata.append(e,t)})},_uploadSingle:function(n,a){var i,r,o,l,s,c,d,u,f,p,h,m=this,g=m.getFileStack().length,v=new FormData,b=m.previewInitId+"-"+n,w=m.filestack.length>0||!e.isEmptyObject(m.uploadExtraData),_=e("#"+b).find(".file-thumb-progress"),y={id:b,index:n};m.formdata=v,m.showPreview&&(r=e("#"+b+":not(.file-preview-initial)"),l=r.find(".kv-file-upload"),s=r.find(".kv-file-remove"),_.show()),0===g||!w||l&&l.hasClass("disabled")||m._abort(y)||(h=function(e,t){c||m.updateStack(e,void 0),m.uploadLog.push(t),m._checkAsyncComplete()&&(m.fileBatchCompleted=!0)},o=function(){var e,n,a,i=m.uploadCache,r=0,o=m.cacheInitialPreview;m.fileBatchCompleted&&(o&&o.content&&(r=o.content.length),setTimeout(function(){var l=0===m.getFileStack(!0).length;if(m.showPreview){if(m.previewCache.set(i.content,i.config,i.tags,i.append),r){for(n=0;n<i.content.length;n++)a=n+r,o.content[a]=i.content[n],o.config.length&&(o.config[a]=i.config[n]),o.tags.length&&(o.tags[a]=i.tags[n]);m.initialPreview=t.cleanArray(o.content),m.initialPreviewConfig=t.cleanArray(o.config),m.initialPreviewThumbTags=t.cleanArray(o.tags)}else m.initialPreview=i.content,m.initialPreviewConfig=i.config,m.initialPreviewThumbTags=i.tags;m.cacheInitialPreview={},m.hasInitData&&(m._initPreview(),m._initPreviewActions())}m.unlock(l),l&&m._clearFileInput(),e=m.$preview.find(".file-preview-initial"),m.uploadAsync&&e.length&&(t.addCss(e,t.SORT_CSS),m._initSortable()),m._raise("filebatchuploadcomplete",[m.filestack,m._getExtraData()]),m.uploadCount=0,m.uploadStatus={},m.uploadLog=[],m._setProgress(101),m.ajaxAborted=!1},100))},d=function(o){i=m._getOutData(o),m.fileBatchCompleted=!1,a||(m.ajaxAborted=!1),m.showPreview&&(r.hasClass("file-preview-success")||(m._setThumbStatus(r,"Loading"),t.addCss(r,"file-uploading")),l.attr("disabled",!0),s.attr("disabled",!0)),a||m.lock(),m._raise("filepreupload",[i,b,n]),e.extend(!0,y,i),m._abort(y)&&(o.abort(),a||(m._setThumbStatus(r,"New"),r.removeClass("file-uploading"),l.removeAttr("disabled"),s.removeAttr("disabled"),m.unlock()),m._setProgressCancelled())},u=function(o,s,d){var u=m.showPreview&&r.attr("id")?r.attr("id"):b;i=m._getOutData(d,o),e.extend(!0,y,i),setTimeout(function(){t.isEmpty(o)||t.isEmpty(o.error)?(m.showPreview&&(m._setThumbStatus(r,"Success"),l.hide(),m._initUploadSuccess(o,r,a),m._setProgress(101,_)),m._raise("fileuploaded",[i,u,n]),a?h(n,u):m.updateStack(n,void 0)):(c=!0,m._showUploadError(o.error,y),m._setPreviewError(r,n,m.filestack[n],m.retryErrorUploads),m.retryErrorUploads||l.hide(),a&&h(n,u),m._setProgress(101,e("#"+u).find(".file-thumb-progress"),m.msgUploadError))},100)},f=function(){setTimeout(function(){m.showPreview&&(l.removeAttr("disabled"),s.removeAttr("disabled"),r.removeClass("file-uploading")),a?o():(m.unlock(!1),m._clearFileInput()),m._initSuccessThumbs()},100)},p=function(t,i,o){var s=m.ajaxOperations.uploadThumb,d=m._parseError(s,t,o,a&&m.filestack[n].name?m.filestack[n].name:null);c=!0,setTimeout(function(){a&&h(n,b),m.uploadStatus[b]=100,m._setPreviewError(r,n,m.filestack[n],m.retryErrorUploads),m.retryErrorUploads||l.hide(),e.extend(!0,y,m._getOutData(t)),m._setProgress(101,_,m.msgAjaxProgressError.replace("{operation}",s)),m._setProgress(101,e("#"+b).find(".file-thumb-progress"),m.msgUploadError),m._showUploadError(d,y)},100)},v.append(m.uploadFileAttr,m.filestack[n],m.filenames[n]),v.append("file_id",n),m._ajaxSubmit(d,u,f,p,b,n))},_uploadBatch:function(){var n,a,i,r,o,l=this,s=l.filestack,c=s.length,d={},u=l.filestack.length>0||!e.isEmptyObject(l.uploadExtraData);l.formdata=new FormData,0!==c&&u&&!l._abort(d)&&(o=function(){e.each(s,function(e){l.updateStack(e,void 0)}),l._clearFileInput()},n=function(n){l.lock();var a=l._getOutData(n);l.ajaxAborted=!1,l.showPreview&&l._getThumbs().each(function(){var n=e(this),a=n.find(".kv-file-upload"),i=n.find(".kv-file-remove");n.hasClass("file-preview-success")||(l._setThumbStatus(n,"Loading"),t.addCss(n,"file-uploading")),a.attr("disabled",!0),i.attr("disabled",!0)}),l._raise("filebatchpreupload",[a]),l._abort(a)&&(n.abort(),l._getThumbs().each(function(){var t=e(this),n=t.find(".kv-file-upload"),a=t.find(".kv-file-remove");t.hasClass("file-preview-loading")&&(l._setThumbStatus(t,"New"),t.removeClass("file-uploading")),n.removeAttr("disabled"),a.removeAttr("disabled")}),l._setProgressCancelled())},a=function(n,a,i){var r=l._getOutData(i,n),s=0,c=l._getThumbs(":not(.file-preview-success)"),d=t.isEmpty(n)||t.isEmpty(n.errorkeys)?[]:n.errorkeys;t.isEmpty(n)||t.isEmpty(n.error)?(l._raise("filebatchuploadsuccess",[r]),o(),l.showPreview?(c.each(function(){var t=e(this);l._setThumbStatus(t,"Success"),t.removeClass("file-uploading"),t.find(".kv-file-upload").hide().removeAttr("disabled")}),l._initUploadSuccess(n)):l.reset(),l._setProgress(101)):(l.showPreview&&(c.each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading"),t.find(".kv-file-upload").removeAttr("disabled"),t.find(".kv-file-remove").removeAttr("disabled"),0===d.length||-1!==e.inArray(s,d)?(l._setPreviewError(t,n,l.filestack[n],l.retryErrorUploads),l.retryErrorUploads||(t.find(".kv-file-upload").hide(),l.updateStack(n,void 0))):(t.find(".kv-file-upload").hide(),l._setThumbStatus(t,"Success"),l.updateStack(n,void 0)),t.hasClass("file-preview-error")&&!l.retryErrorUploads||s++}),l._initUploadSuccess(n)),l._showUploadError(n.error,r,"filebatchuploaderror"),l._setProgress(101,l.$progress,l.msgUploadError))},r=function(){l.unlock(),l._initSuccessThumbs(),l._clearFileInput(),l._raise("filebatchuploadcomplete",[l.filestack,l._getExtraData()])},i=function(t,n,a){var i=l._getOutData(t),r=l.ajaxOperations.uploadBatch,o=l._parseError(r,t,a);l._showUploadError(o,i,"filebatchuploaderror"),l.uploadFileCount=c-1,l.showPreview&&(l._getThumbs().each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==l.filestack[n]&&l._setPreviewError(t)}),l._getThumbs().removeClass("file-uploading"),l._getThumbs(" .kv-file-upload").removeAttr("disabled"),l._getThumbs(" .kv-file-delete").removeAttr("disabled"),l._setProgress(101,l.$progress,l.msgAjaxProgressError.replace("{operation}",r)))},e.each(s,function(e,n){t.isEmpty(s[e])||l.formdata.append(l.uploadFileAttr,n,l.filenames[e])}),l._ajaxSubmit(n,a,r,i))},_uploadExtraOnly:function(){var e,n,a,i,r=this,o={};r.formdata=new FormData,r._abort(o)||(e=function(e){r.lock();var t=r._getOutData(e);r._raise("filebatchpreupload",[t]),r._setProgress(50),o.data=t,o.xhr=e,r._abort(o)&&(e.abort(),r._setProgressCancelled())},n=function(e,n,a){var i=r._getOutData(a,e);t.isEmpty(e)||t.isEmpty(e.error)?(r._raise("filebatchuploadsuccess",[i]),r._clearFileInput(),r._initUploadSuccess(e),r._setProgress(101)):r._showUploadError(e.error,i,"filebatchuploaderror")},a=function(){r.unlock(),r._clearFileInput(),r._raise("filebatchuploadcomplete",[r.filestack,r._getExtraData()])},i=function(e,t,n){var a=r._getOutData(e),i=r.ajaxOperations.uploadExtra,l=r._parseError(i,e,n);o.data=a,r._showUploadError(l,a,"filebatchuploaderror"),r._setProgress(101,r.$progress,r.msgAjaxProgressError.replace("{operation}",i))},r._ajaxSubmit(e,n,a,i))},_deleteFileIndex:function(n){var a=this,i=n.attr("data-fileindex"),r=a.reversePreviewOrder;"init_"===i.substring(0,5)&&(i=parseInt(i.replace("init_","")),a.initialPreview=t.spliceArray(a.initialPreview,i,r),a.initialPreviewConfig=t.spliceArray(a.initialPreviewConfig,i,r),a.initialPreviewThumbTags=t.spliceArray(a.initialPreviewThumbTags,i,r),a.getFrames().each(function(){var t=e(this),n=t.attr("data-fileindex");"init_"===n.substring(0,5)&&(n=parseInt(n.replace("init_","")))>i&&(n--,t.attr("data-fileindex","init_"+n))}),a.uploadAsync&&(a.cacheInitialPreview=a.getPreview()))},_initFileActions:function(){var n=this,a=n.$preview;n.showPreview&&(n._initZoomButton(),n.getFrames(" .kv-file-remove").each(function(){var i,r,o,l,s=e(this),c=s.closest(t.FRAMES),d=c.attr("id"),u=c.attr("data-fileindex");n._handler(s,"click",function(){return!(!1===(l=n._raise("filepreremove",[d,u]))||!n._validateMinCount())&&(i=c.hasClass("file-preview-error"),t.cleanMemory(c),void c.fadeOut("slow",function(){t.cleanZoomCache(a.find("#zoom-"+d)),n.updateStack(u,void 0),n._clearObjects(c),c.remove(),d&&i&&n.$errorContainer.find('li[data-file-id="'+d+'"]').fadeOut("fast",function(){e(this).remove(),n._errorsExist()||n._resetErrors()}),n._clearFileInput();var l=n.getFileStack(!0),s=n.previewCache.count(),f=l.length,p=n.showPreview&&n.getFrames().length;0!==f||0!==s||p?(r=s+f,o=r>1?n._getMsgSelected(r):l[0]?n._getFileNames()[0]:"",n._setCaption(o)):n.reset(),n._raise("fileremoved",[d,u])}))})}),n.getFrames(" .kv-file-upload").each(function(){var a=e(this);n._handler(a,"click",function(){var e=a.closest(t.FRAMES),i=e.attr("data-fileindex");n.$progress.hide(),e.hasClass("file-preview-error")&&!n.retryErrorUploads||n._uploadSingle(i,!1)})}))},_initPreviewActions:function(){var n=this,a=n.$preview,i=n.deleteExtraData||{},r=t.FRAMES+" .kv-file-remove",o=n.fileActionSettings,l=o.removeClass,s=o.removeErrorClass,c=function(){var e=n.isAjaxUpload?n.previewCache.count():n.$element.get(0).files.length;a.find(t.FRAMES).length||e||(n._setCaption(""),n.reset(),n.initialCaption="")};n._initZoomButton(),a.find(r).each(function(){var r,o,d,u=e(this),f=u.data("url")||n.deleteUrl,p=u.data("key");if(!t.isEmpty(f)&&void 0!==p){var h,m,g,v,b=u.closest(t.FRAMES),w=n.previewCache.data,_=b.attr("data-fileindex");_=parseInt(_.replace("init_","")),g=t.isEmpty(w.config)&&t.isEmpty(w.config[_])?null:w.config[_],v=t.isEmpty(g)||t.isEmpty(g.extra)?i:g.extra,"function"==typeof v&&(v=v()),m={id:u.attr("id"),key:p,extra:v},r=function(e){n.ajaxAborted=!1,n._raise("filepredelete",[p,e,v]),n._abort()?e.abort():(u.removeClass(s),t.addCss(b,"file-uploading"),t.addCss(u,"disabled "+l))},o=function(e,i,r){var o,d;return t.isEmpty(e)||t.isEmpty(e.error)?(b.removeClass("file-uploading").addClass("file-deleted"),void b.fadeOut("slow",function(){_=parseInt(b.attr("data-fileindex").replace("init_","")),n.previewCache.unset(_),n._deleteFileIndex(b),o=n.previewCache.count(),d=o>0?n._getMsgSelected(o):"",n._setCaption(d),n._raise("filedeleted",[p,r,v]),t.cleanZoomCache(a.find("#zoom-"+b.attr("id"))),n._clearObjects(b),b.remove(),c()})):(m.jqXHR=r,m.response=e,n._showError(e.error,m,"filedeleteerror"),b.removeClass("file-uploading"),u.removeClass("disabled "+l).addClass(s),void c())},d=function(e,t,a){var i=n.ajaxOperations.deleteThumb,r=n._parseError(i,e,a);m.jqXHR=e,m.response={},n._showError(r,m,"filedeleteerror"),
b.removeClass("file-uploading"),u.removeClass("disabled "+l).addClass(s),c()},n._mergeAjaxCallback("beforeSend",r,"delete"),n._mergeAjaxCallback("success",o,"delete"),n._mergeAjaxCallback("error",d,"delete"),h=e.extend(!0,{},{url:f,type:"POST",dataType:"json",data:e.extend(!0,{},{key:p},v)},n.ajaxDeleteSettings),n._handler(u,"click",function(){return!!n._validateMinCount()&&(n.ajaxAborted=!1,n._raise("filebeforedelete",[p,v]),void(n.ajaxAborted instanceof Promise?n.ajaxAborted.then(function(t){t||e.ajax(h)}):n.ajaxAborted||e.ajax(h)))})}})},_hideFileIcon:function(){var e=this;e.overwriteInitial&&e.$captionContainer.removeClass("icon-visible")},_showFileIcon:function(){var e=this;t.addCss(e.$captionContainer,"icon-visible")},_getSize:function(t){var n,a,i,r=this,o=parseFloat(t),l=r.fileSizeGetter;return e.isNumeric(t)&&e.isNumeric(o)?("function"==typeof l?i=l(o):0===o?i="0.00 B":(n=Math.floor(Math.log(o)/Math.log(1024)),a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=1*(o/Math.pow(1024,n)).toFixed(2)+" "+a[n]),r._getLayoutTemplate("size").replace("{sizeText}",i)):""},_generatePreviewTemplate:function(n,a,i,r,o,l,s,c,d,u,f){var p,h=this,m=h.slug(i),g="",v="",b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,w=400>b?h.previewSettingsSmall[n]||h.defaults.previewSettingsSmall[n]:h.previewSettings[n]||h.defaults.previewSettings[n],_=d||h._renderFileFooter(m,s,"auto",l),y=h._getPreviewIcon(i),C="type-default",x=y&&h.preferIconicPreview,S=y&&h.preferIconicZoomPreview;return w&&e.each(w,function(e,t){v+=e+":"+t+";"}),p=function(a,l,s,d){var p=s?"zoom-"+o:o,g=h._getPreviewTemplate(a),b=(c||"")+" "+d;return h.frameClass&&(b=h.frameClass+" "+b),s&&(b=b.replace(" "+t.SORT_CSS,"")),g=h._parseFilePreviewIcon(g,i),"text"===a&&(l=t.htmlEncode(l)),"object"!==n||r||e.each(h.defaults.fileTypeSettings,function(e,t){"object"!==e&&"other"!==e&&t(i,r)&&(C="type-"+e)}),g.setTokens({previewId:p,caption:m,frameClass:b,type:r,fileindex:u,typeCss:C,footer:_,data:l,template:f||n,style:v?'style="'+v+'"':""})},u=u||o.slice(o.lastIndexOf("-")+1),h.fileActionSettings.showZoom&&(g=p(S?"other":n,a,!0,"kv-zoom-thumb")),g="\n"+h._getLayoutTemplate("zoomCache").replace("{zoomContent}",g),p(x?"other":n,a,!1,"kv-preview-thumb")+g},_addToPreview:function(e,t){return this.reversePreviewOrder?e.prepend(t):e.append(t)},_previewDefault:function(n,a,i){var r=this,o=r.$preview;if(r.showPreview){var l,s=n?n.name:"",c=n?n.type:"",d=n.size||0,u=r.slug(s),f=!0===i&&!r.isAjaxUpload,p=t.objUrl.createObjectURL(n);r._clearDefaultPreview(),l=r._generatePreviewTemplate("other",p,s,c,a,f,d),r._addToPreview(o,l),r._setThumbAttr(a,u,d),!0===i&&r.isAjaxUpload&&r._setThumbStatus(e("#"+a),"Error")}},_previewFile:function(e,n,a,i,r,o){if(this.showPreview){var l,s=this,c=n?n.name:"",d=o.type,u=o.name,f=s._parseFileType(d,c),p=s.allowedPreviewTypes,h=s.allowedPreviewMimeTypes,m=s.$preview,g=n.size||0,v=p&&p.indexOf(f)>=0,b=h&&-1!==h.indexOf(d),w="text"===f||"html"===f||"image"===f?a.target.result:r;if("html"===f&&s.purifyHtml&&window.DOMPurify&&(w=window.DOMPurify.sanitize(w)),v||b){l=s._generatePreviewTemplate(f,w,c,d,i,!1,g),s._clearDefaultPreview(),s._addToPreview(m,l);var _=m.find("#"+i+" img");_.length&&s.autoOrientImage?t.validateOrientation(n,function(e){if(!e)return void s._validateImage(i,u,d,g,w);var a=m.find("#zoom-"+i+" img"),r="rotate-"+e;e>4&&(r+=_.width()>_.height()?" is-portrait-gt4":" is-landscape-gt4"),t.addCss(_,r),t.addCss(a,r),s._raise("fileimageoriented",{$img:_,file:n}),s._validateImage(i,u,d,g,w),t.adjustOrientedImage(_)}):s._validateImage(i,u,d,g,w)}else s._previewDefault(n,i);s._setThumbAttr(i,u,g),s._initSortable()}},_setThumbAttr:function(t,n,a){var i=this,r=e("#"+t);r.length&&(a=a&&a>0?i._getSize(a):"",r.data({caption:n,size:a}))},_setInitThumbAttr:function(){var e,n,a,i,r=this,o=r.previewCache.data,l=r.previewCache.count();if(0!==l)for(var s=0;l>s;s++)e=o.config[s],i=r.previewInitId+"-init_"+s,n=t.ifSet("caption",e,t.ifSet("filename",e)),a=t.ifSet("size",e),r._setThumbAttr(i,n,a)},_slugDefault:function(e){return t.isEmpty(e)?"":String(e).replace(/[\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_updateFileDetails:function(e){var n=this,a=n.$element,i=n.getFileStack(),r=t.isIE(9)&&t.findFileName(a.val())||a[0].files[0]&&a[0].files[0].name||i.length&&i[0].name||"",o=n.slug(r),l=n.isAjaxUpload?i.length:e,s=n.previewCache.count()+l,c=1===l?o:n._getMsgSelected(s);n.isError?(n.$previewContainer.removeClass("file-thumb-loading"),n.$previewStatus.html(""),n.$captionContainer.removeClass("icon-visible")):n._showFileIcon(),n._setCaption(c,n.isError),n.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&n._raise("fileselect",[e,o]),n.previewCache.count()&&n._initPreviewActions()},_setThumbStatus:function(e,t){var n=this;if(n.showPreview){var a="indicator"+t,i=a+"Title",r="file-preview-"+t.toLowerCase(),o=e.find(".file-upload-indicator"),l=n.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Success"===t&&e.find(".file-drag-handle").remove(),o.html(l[a]),o.attr("title",l[i]),e.addClass(r),"Error"!==t||n.retryErrorUploads||e.find(".kv-file-upload").attr("disabled",!0)}},_setProgressCancelled:function(){var e=this;e._setProgress(101,e.$progress,e.msgCancelled)},_setProgress:function(e,n,a){var i,r=this,o=Math.min(e,100),l=r.progressUploadThreshold,s=100>=e?r.progressTemplate:r.progressCompleteTemplate,c=100>o?r.progressTemplate:a?r.progressErrorTemplate:s;n=n||r.$progress,t.isEmpty(c)||(i=l&&o>l&&100>=e?c.setTokens({percent:l,status:r.msgUploadThreshold}):c.setTokens({percent:o,status:e>100?r.msgUploadEnd:o+"%"}),n.html(i),a&&n.find('[role="progressbar"]').html(a))},_setFileDropZoneTitle:function(){var e,n=this,a=n.$container.find(".file-drop-zone"),i=n.dropZoneTitle;n.isClickable&&(e=t.isEmpty(n.$element.attr("multiple"))?n.fileSingle:n.filePlural,i+=n.dropZoneClickTitle.replace("{files}",e)),a.find("."+n.dropZoneTitleClass).remove(),n.isAjaxUpload&&n.showPreview&&0!==a.length&&!(n.getFileStack().length>0)&&n.dropZoneEnabled&&(0===a.find(t.FRAMES).length&&t.isEmpty(n.defaultPreviewContent)&&a.prepend('<div class="'+n.dropZoneTitleClass+'">'+i+"</div>"),n.$container.removeClass("file-input-new"),t.addCss(n.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(t,n,a){var i=this,r=0;i._setProgress(n,e("#"+t).find(".file-thumb-progress")),i.uploadStatus[t]=n,e.each(i.uploadStatus,function(e,t){r+=t}),i._setProgress(Math.floor(r/a))},_validateMinCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e.$element.get(0).files.length;return!(e.validateInitialCount&&e.minFileCount>0&&e._getFileCount(t-1)<e.minFileCount)||(e._noFilesError({}),!1)},_getFileCount:function(e){var t=this,n=0;return t.validateInitialCount&&!t.overwriteInitial&&(n=t.previewCache.count(),e+=n),e},_getFileId:function(e){var t,n=this,a=n.generateFileId;return"function"==typeof a?a(e,event):e?(t=String(e.webkitRelativePath||e.fileName||e.name||null),t?e.size+"-"+t.replace(/[^0-9a-zA-Z_-]/gim,""):null):null},_getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},_getFileIds:function(e){return this.fileids.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_getFileNames:function(e){return this.filenames.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_setPreviewError:function(e,t,n,a){var i=this;if(void 0!==t&&i.updateStack(t,n),i.showPreview){if(i.removeFromPreviewOnError&&!a)return void e.remove();i._setThumbStatus(e,"Error"),i._refreshUploadButton(e,a)}},_refreshUploadButton:function(e,t){var n=this,a=e.find(".kv-file-upload"),i=n.fileActionSettings,r=i.uploadIcon,o=i.uploadTitle;a.length&&(t&&(r=i.uploadRetryIcon,o=i.uploadRetryTitle),a.attr("title",o).html(r))},_checkDimensions:function(e,n,a,i,r,o,l){var s,c,d,u=this,f="Small"===n?"min":"max",p=u[f+"Image"+o];!t.isEmpty(p)&&a.length&&(d=a[0],c="Width"===o?d.naturalWidth||d.width:d.naturalHeight||d.height,("Small"===n?c>=p:p>=c)||(s=u["msgImage"+o+n].setTokens({name:r,size:p}),u._showUploadError(s,l),u._setPreviewError(i,e,null)))},_validateImage:function(t,n,a,i,r){var o,l,s,c,d=this,u=d.$preview,f=u.find("#"+t),p=f.attr("data-fileindex"),h=f.find("img");n=n||"Untitled",h.one("load",function(){l=f.width(),s=u.width(),l>s&&h.css("width","100%"),o={ind:p,id:t},d._checkDimensions(p,"Small",h,f,n,"Width",o),d._checkDimensions(p,"Small",h,f,n,"Height",o),d.resizeImage||(d._checkDimensions(p,"Large",h,f,n,"Width",o),d._checkDimensions(p,"Large",h,f,n,"Height",o)),d._raise("fileimageloaded",[t]);try{c=window.piexif?window.piexif.load(r):null}catch(e){c=null}d.loadedImages.push({ind:p,img:h,thumb:f,pid:t,typ:a,siz:i,validated:!1,imgData:r,exifObj:c}),f.data("exif",c),d._validateAllImages()}).one("error",function(){d._raise("fileimageloaderror",[t])}).each(function(){this.complete?e(this).trigger("load"):this.error&&e(this).trigger("error")})},_validateAllImages:function(){var e,t,n,a=this,i={val:0},r=a.loadedImages.length,o=a.resizeIfSizeMoreThan;if(r===a.totalImagesCount&&(a._raise("fileimagesloaded"),a.resizeImage))for(e=0;e<a.loadedImages.length;e++)t=a.loadedImages[e],t.validated||(n=t.siz,n&&n>1e3*o&&a._getResizedImage(t,i,r),a.loadedImages[e].validated=!0)},_getResizedImage:function(n,a,i){var r,o,l,s,c,d,u,f=this,p=e(n.img)[0],h=p.naturalWidth,m=p.naturalHeight,g=1,v=f.maxImageWidth||h,b=f.maxImageHeight||m,w=!(!h||!m),_=f.imageCanvas,y=f.imageCanvasContext,C=n.typ,x=n.pid,S=n.ind,T=n.thumb,D=n.exifObj;if(c=function(e,t,n){f.isAjaxUpload?f._showUploadError(e,t,n):f._showError(e,t,n),f._setPreviewError(T,S)},(!f.filestack[S]||!w||v>=h&&b>=m)&&(w&&f.filestack[S]&&f._raise("fileimageresized",[x,S]),a.val++,a.val===i&&f._raise("fileimagesresized"),!w))return void c(f.msgImageResizeError,{id:x,index:S},"fileimageresizeerror");C=C||f.resizeDefaultImageType,o=h>v,l=m>b,g="width"===f.resizePreference?o?v/h:l?b/m:1:l?b/m:o?v/h:1,f._resetCanvas(),h*=g,m*=g,_.width=h,_.height=m;try{y.drawImage(p,0,0,h,m),s=_.toDataURL(C,f.resizeQuality),D&&(u=window.piexif.dump(D),s=window.piexif.insert(u,s)),r=t.dataURI2Blob(s),f.filestack[S]=r,f._raise("fileimageresized",[x,S]),a.val++,a.val===i&&f._raise("fileimagesresized",[void 0,void 0]),r instanceof Blob||c(f.msgImageResizeError,{id:x,index:S},"fileimageresizeerror")}catch(e){a.val++,a.val===i&&f._raise("fileimagesresized",[void 0,void 0]),d=f.msgImageResizeException.replace("{errors}",e.message),c(d,{id:x,index:S},"fileimageresizeexception")}},_initBrowse:function(e){var t=this;t.showBrowse?(t.$btnFile=e.find(".btn-file"),t.$btnFile.append(t.$element)):t.$element.hide()},_initCaption:function(){var e=this,n=e.initialCaption||"";return e.overwriteInitial||t.isEmpty(n)?(e.$caption.val(""),!1):(e._setCaption(n),!0)},_setCaption:function(n,a){var i,r,o,l,s,c=this,d=c.getFileStack();if(c.$caption.length){if(c.$captionContainer.removeClass("icon-visible"),a)i=e("<div>"+c.msgValidationError+"</div>").text(),l=d.length,s=l?1===l&&d[0]?c._getFileNames()[0]:c._getMsgSelected(l):c._getMsgSelected(c.msgNo),r=t.isEmpty(n)?s:n,o='<span class="'+c.msgValidationErrorClass+'">'+c.msgValidationErrorIcon+"</span>";else{if(t.isEmpty(n))return;i=e("<div>"+n+"</div>").text(),r=i,o=c._getLayoutTemplate("fileIcon")}c.$captionContainer.addClass("icon-visible"),c.$caption.attr("title",i).val(r),c.$captionIcon.html(o)}},_createContainer:function(){var t=this,n={class:"file-input file-input-new"+(t.rtl?" kv-rtl":"")},a=e(document.createElement("div")).attr(n).html(t._renderMain());return t.$element.before(a),t._initBrowse(a),t.theme&&a.addClass("theme-"+t.theme),a},_refreshContainer:function(){var e=this,t=e.$container;t.before(e.$element),t.html(e._renderMain()),e._initBrowse(t),e._validateDisabled()},_validateDisabled:function(){var e=this;e.$caption.attr({readonly:e.isDisabled})},_renderMain:function(){var e=this,t=e.isAjaxUpload&&e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",n=e.showClose?e._getLayoutTemplate("close"):"",a=e.showPreview?e._getLayoutTemplate("preview").setTokens({class:e.previewClass,dropClass:t}):"",i=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,r=e.captionTemplate.setTokens({class:i+" kv-fileinput-caption"});return e.mainTemplate.setTokens({class:e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":""),preview:a,close:n,caption:r,upload:e._renderButton("upload"),remove:e._renderButton("remove"),cancel:e._renderButton("cancel"),browse:e._renderButton("browse")})},_renderButton:function(e){var n=this,a=n._getLayoutTemplate("btnDefault"),i=n[e+"Class"],r=n[e+"Title"],o=n[e+"Icon"],l=n[e+"Label"],s=n.isDisabled?" disabled":"",c="button";switch(e){case"remove":if(!n.showRemove)return"";break;case"cancel":if(!n.showCancel)return"";i+=" kv-hidden";break;case"upload":if(!n.showUpload)return"";n.isAjaxUpload&&!n.isDisabled?a=n._getLayoutTemplate("btnLink").replace("{href}",n.uploadUrl):c="submit";break;case"browse":if(!n.showBrowse)return"";a=n._getLayoutTemplate("btnBrowse");break;default:return""}return i+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",t.isEmpty(l)||(l=' <span class="'+n.buttonLabelClass+'">'+l+"</span>"),a.setTokens({type:c,css:i,title:r,status:s,icon:o,label:l})},_renderThumbProgress:function(){var e=this;return'<div class="file-thumb-progress kv-hidden">'+e.progressTemplate.setTokens({percent:"0",status:e.msgUploadBegin})+"</div>"},_renderFileFooter:function(e,n,a,i){var r,o=this,l=o.fileActionSettings,s=l.showRemove,c=l.showDrag,d=l.showUpload,u=l.showZoom,f=o._getLayoutTemplate("footer"),p=o._getLayoutTemplate("indicator"),h=i?l.indicatorError:l.indicatorNew,m=i?l.indicatorErrorTitle:l.indicatorNewTitle,g=p.setTokens({indicator:h,indicatorTitle:m});return n=o._getSize(n),r=o.isAjaxUpload?f.setTokens({actions:o._renderFileActions(d,!1,s,u,c,!1,!1,!1),caption:e,size:n,width:a,progress:o._renderThumbProgress(),indicator:g}):f.setTokens({actions:o._renderFileActions(!1,!1,!1,u,c,!1,!1,!1),caption:e,size:n,width:a,progress:"",indicator:g}),r=t.replaceTags(r,o.previewThumbTags)},_renderFileActions:function(e,t,n,a,i,r,o,l,s,c,d){if(!(e||t||n||a||i))return"";var u,f=this,p=!1===o?"":' data-url="'+o+'"',h=!1===l?"":' data-key="'+l+'"',m="",g="",v="",b="",w="",_=f._getLayoutTemplate("actions"),y=f.fileActionSettings,C=f.otherActionButtons.setTokens({dataKey:h,key:l}),x=r?y.removeClass+" disabled":y.removeClass;return n&&(m=f._getLayoutTemplate("actionDelete").setTokens({removeClass:x,removeIcon:y.removeIcon,removeTitle:y.removeTitle,dataUrl:p,dataKey:h,key:l})),e&&(g=f._getLayoutTemplate("actionUpload").setTokens({uploadClass:y.uploadClass,uploadIcon:y.uploadIcon,uploadTitle:y.uploadTitle})),t&&(v=f._getLayoutTemplate("actionDownload").setTokens({downloadClass:y.downloadClass,downloadIcon:y.downloadIcon,downloadTitle:y.downloadTitle,downloadUrl:c||f.initialPreviewDownloadUrl}),v=v.setTokens({filename:d,key:l})),a&&(b=f._getLayoutTemplate("actionZoom").setTokens({zoomClass:y.zoomClass,zoomIcon:y.zoomIcon,zoomTitle:y.zoomTitle})),i&&s&&(u="drag-handle-init "+y.dragClass,w=f._getLayoutTemplate("actionDrag").setTokens({dragClass:u,dragTitle:y.dragTitle,dragIcon:y.dragIcon})),_.setTokens({delete:m,upload:g,download:v,zoom:b,drag:w,other:C})},_browse:function(e){var t=this;t._raise("filebrowse"),e&&e.isDefaultPrevented()||(t.isError&&!t.isAjaxUpload&&t.clear(),t.$captionContainer.focus())},_filterDuplicate:function(e,t,n){var a=this,i=a._getFileId(e);i&&n&&n.indexOf(i)>-1||(n||(n=[]),t.push(e),n.push(i))},_change:function(n){var a=this,i=a.$element;if(!a.isAjaxUpload&&t.isEmpty(i.val())&&a.fileInputCleared)return void(a.fileInputCleared=!1);a.fileInputCleared=!1;var r,o,l,s,c=[],d=arguments.length>1,u=a.isAjaxUpload,f=d?n.originalEvent.dataTransfer.files:i.get(0).files,p=a.filestack.length,h=t.isEmpty(i.attr("multiple")),m=h&&p>0,g=0,v=a._getFileIds();if(a.reader=null,a._resetUpload(),a._hideFileIcon(),a.isAjaxUpload&&a.$container.find(".file-drop-zone ."+a.dropZoneTitleClass).remove(),d?e.each(f,function(e,t){t&&!t.type&&void 0!==t.size&&t.size%4096==0?g++:a._filterDuplicate(t,c,v)}):(f=n.target&&void 0===n.target.files?n.target.value?[{name:n.target.value.replace(/^.+\\/,"")}]:[]:n.target.files||{},u?e.each(f,function(e,t){a._filterDuplicate(t,c,v)}):c=f),t.isEmpty(c)||0===c.length)return u||a.clear(),a._showFolderError(g),void a._raise("fileselectnone");if(a._resetErrors(),s=c.length,o=a._getFileCount(a.isAjaxUpload?a.getFileStack().length+s:s),a.maxFileCount>0&&o>a.maxFileCount){if(!a.autoReplace||s>a.maxFileCount)return l=a.autoReplace&&s>a.maxFileCount?s:o,r=a.msgFilesTooMany.replace("{m}",a.maxFileCount).replace("{n}",l),a.isError=function(t,n,i,r){var o=e.extend(!0,{},a._getOutData({},{},f),{id:i,index:r}),l={id:i,index:r,file:n,files:f};return a.isAjaxUpload?a._showUploadError(t,o):a._showError(t,l)}(r,null,null,null),a.$captionContainer.removeClass("icon-visible"),a._setCaption("",!0),void a.$container.removeClass("file-input-new file-input-ajax-new");o>a.maxFileCount&&a._resetPreviewThumbs(u)}else!u||m?(a._resetPreviewThumbs(!1),m&&a.clearStack()):!u||0!==p||a.previewCache.count()&&!a.overwriteInitial||a._resetPreviewThumbs(!0);a.isPreviewable?a.readFiles(c):a._updateFileDetails(1),a._showFolderError(g)},_abort:function(t){var n,a=this;return a.ajaxAborted&&"object"==typeof a.ajaxAborted&&void 0!==a.ajaxAborted.message?(n=e.extend(!0,{},a._getOutData(),t),n.abortData=a.ajaxAborted.data||{},n.abortMessage=a.ajaxAborted.message,a._setProgress(101,a.$progress,a.msgCancelled),a._showUploadError(a.ajaxAborted.message,n,"filecustomerror"),a.cancel(),!0):!!a.ajaxAborted},_resetFileStack:function(){var n=this,a=0,i=[],r=[],o=[];n._getThumbs().each(function(){var l,s=e(this),c=s.attr("data-fileindex"),d=n.filestack[c],u=s.attr("id");"-1"!==c&&-1!==c&&(void 0!==d?(i[a]=d,r[a]=n._getFileName(d),o[a]=n._getFileId(d),s.attr({id:n.previewInitId+"-"+a,"data-fileindex":a}),a++):(l="uploaded-"+t.uniqId(),s.attr({id:l,"data-fileindex":"-1"}),n.$preview.find("#zoom-"+u).attr("id","zoom-"+l)))}),n.filestack=i,n.filenames=r,n.fileids=o},_isFileSelectionValid:function(e){var t=this;return e=e||0,t.required&&!t.getFilesCount()?(t.$errorContainer.html(""),t._showUploadError(t.msgFileRequired),!1):!(t.minFileCount>0&&t._getFileCount(e)<t.minFileCount)||(t._noFilesError({}),!1)},clearStack:function(){var e=this;return e.filestack=[],e.filenames=[],e.fileids=[],e.$element},updateStack:function(e,t){var n=this;return n.filestack[e]=t,n.filenames[e]=n._getFileName(t),n.fileids[e]=t&&n._getFileId(t)||null,n.$element},addToStack:function(e){var t=this;return t.filestack.push(e),t.filenames.push(t._getFileName(e)),t.fileids.push(t._getFileId(e)),t.$element},getFileStack:function(e){return this.filestack.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},getFilesCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e.$element.get(0).files.length;return e._getFileCount(t)},readFiles:function(n){this.reader=new FileReader;var a,i=this,r=i.$element,o=i.$preview,l=i.reader,s=i.$previewContainer,c=i.$previewStatus,d=i.msgLoading,u=i.msgProgress,f=i.previewInitId,p=n.length,h=i.fileTypeSettings,m=i.filestack.length,g=i.allowedFileTypes,v=g?g.length:0,b=i.allowedFileExtensions,w=t.isEmpty(b)?"":b.join(", "),_=i.maxFilePreviewSize&&parseFloat(i.maxFilePreviewSize),y=o.length&&(!_||isNaN(_)),C=function(t,r,o,l){var s,c=e.extend(!0,{},i._getOutData({},{},n),{id:o,index:l}),d={id:o,index:l,file:r,files:n};i._previewDefault(r,o,!0),i.isAjaxUpload?(i.addToStack(void 0),setTimeout(function(){a(l+1)},100)):p=0,i._initFileActions(),s=e("#"+o),s.find(".kv-file-upload").hide(),i.removeFromPreviewOnError&&s.remove(),i.isError=i.isAjaxUpload?i._showUploadError(t,c):i._showError(t,d),i._updateFileDetails(p)};i.loadedImages=[],i.totalImagesCount=0,e.each(n,function(e,t){var n=i.fileTypeSettings.image;n&&n(t.type)&&i.totalImagesCount++}),a=function(x){if(t.isEmpty(r.attr("multiple"))&&(p=1),x>=p)return i.isAjaxUpload&&i.filestack.length>0?i._raise("filebatchselected",[i.getFileStack()]):i._raise("filebatchselected",[n]),s.removeClass("file-thumb-loading"),void c.html("");var S,T,D,A,I,k,F,E,P,j,L,R,z=m+x,O=f+"-"+z,N=n[x],U=h.text,$=h.image,B=h.html,M=N.name?i.slug(N.name):"",H=(N.size||0)/1e3,W="",Z=t.objUrl.createObjectURL(N),q=0,V="",J=0,X=function(){var e=u.setTokens({index:x+1,files:p,percent:50,name:M});setTimeout(function(){c.html(e),i._updateFileDetails(p),a(x+1)},100),i._raise("fileloaded",[N,O,x,l])};if(v>0)for(T=0;v>T;T++)k=g[T],F=i.msgFileTypes[k]||k,V+=0===T?F:", "+F;if(!1===M)return void a(x+1);if(0===M.length)return D=i.msgInvalidFileName.replace("{name}",t.htmlEncode(N.name)),void C(D,N,O,x);if(t.isEmpty(b)||(W=new RegExp("\\.("+b.join("|")+")$","i")),S=H.toFixed(2),i.maxFileSize>0&&H>i.maxFileSize)return D=i.msgSizeTooLarge.setTokens({name:M,size:S,maxSize:i.maxFileSize}),void C(D,N,O,x);if(null!==i.minFileSize&&H<=t.getNum(i.minFileSize))return D=i.msgSizeTooSmall.setTokens({name:M,size:S,minSize:i.minFileSize}),void C(D,N,O,x);if(!t.isEmpty(g)&&t.isArray(g)){for(T=0;T<g.length;T+=1)A=g[T],E=h[A],q+=E&&"function"==typeof E&&E(N.type,N.name)?1:0;if(0===q)return D=i.msgInvalidFileType.setTokens({name:M,types:V}),void C(D,N,O,x)}return 0!==q||t.isEmpty(b)||!t.isArray(b)||t.isEmpty(W)||(I=t.compare(M,W),0!==(q+=t.isEmpty(I)?0:I.length))?i.showPreview?!y&&H>_?(i.addToStack(N),s.addClass("file-thumb-loading"),i._previewDefault(N,O),i._initFileActions(),i._updateFileDetails(p),void a(x+1)):(o.length&&void 0!==FileReader?(P=U(N.type,M),j=B(N.type,M),L=$(N.type,M),c.html(d.replace("{index}",x+1).replace("{files}",p)),s.addClass("file-thumb-loading"),l.onerror=function(e){i._errorHandler(e,M)},l.onload=function(n){var a,r,o,s,c,d,u=[];if(r={name:M,type:N.type},e.each(h,function(e,t){"object"!==e&&"other"!==e&&t(N.type,M)&&J++}),0===J){for(o=new Uint8Array(n.target.result),T=0;T<o.length;T++)s=o[T].toString(16),u.push(s);if(a=u.join("").toLowerCase().substring(0,8),d=t.getMimeType(a,"",""),t.isEmpty(d)&&(c=t.arrayBuffer2String(l.result),d=t.isSvg(c)?"image/svg+xml":t.getMimeType(a,c,N.type)),r={name:M,type:d},P=U(d,""),j=B(d,""),L=$(d,""),(R=P||j)||L)return void function(e){var t=new FileReader;t.onerror=function(e){i._errorHandler(e,M)},t.onload=function(e){i._previewFile(x,N,e,O,Z,r),i._initFileActions(),X()},e?t.readAsText(N,i.textEncoding):t.readAsDataURL(N)}(R)}i._previewFile(x,N,n,O,Z,r),i._initFileActions(),X()},l.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100,n=Math.ceil(t);D=u.setTokens({index:x+1,files:p,percent:n,name:M}),setTimeout(function(){c.html(D)},100)}},P||j?l.readAsText(N,i.textEncoding):L?l.readAsDataURL(N):l.readAsArrayBuffer(N)):(i._previewDefault(N,O),setTimeout(function(){a(x+1),i._updateFileDetails(p)},100),i._raise("fileloaded",[N,O,x,l])),void i.addToStack(N)):(i.isAjaxUpload&&i.addToStack(N),setTimeout(function(){a(x+1),i._updateFileDetails(p)},100),void i._raise("fileloaded",[N,O,x,l])):(D=i.msgInvalidFileExtension.setTokens({name:M,extensions:w}),void C(D,N,O,x))},a(0),i._updateFileDetails(p,!1)},lock:function(){var e=this;return e._resetErrors(),e.disable(),e.showRemove&&e.$container.find(".fileinput-remove").hide(),e.showCancel&&e.$container.find(".fileinput-cancel").show(),e._raise("filelock",[e.filestack,e._getExtraData()]),e.$element},unlock:function(e){var t=this;return void 0===e&&(e=!0),t.enable(),t.showCancel&&t.$container.find(".fileinput-cancel").hide(),t.showRemove&&t.$container.find(".fileinput-remove").show(),e&&t._resetFileStack(),t._raise("fileunlock",[t.filestack,t._getExtraData()]),t.$element},cancel:function(){var t,n=this,a=n.ajaxRequests,i=a.length;if(i>0)for(t=0;i>t;t+=1)n.cancelling=!0,a[t].abort();return n._setProgressCancelled(),n._getThumbs().each(function(){var t=e(this),a=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==n.filestack[a]&&(t.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),n.unlock()}),n.$element},clear:function(){var n,a=this;if(a._raise("fileclear"))return a.$btnUpload.removeAttr("disabled"),a._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(e(this))}),a._resetUpload(),a.clearStack(),a._clearFileInput(),a._resetErrors(!0),a._hasInitialPreview()?(a._showFileIcon(),a._resetPreview(),a._initPreviewActions(),a.$container.removeClass("file-input-new")):(a._getThumbs().each(function(){a._clearObjects(e(this))}),a.isAjaxUpload&&(a.previewCache.data={}),a.$preview.html(""),n=!a.overwriteInitial&&a.initialCaption.length>0?a.initialCaption:"",a.$caption.attr("title","").val(n),t.addCss(a.$container,"file-input-new"),a._validateDefaultPreview()),0===a.$container.find(t.FRAMES).length&&(a._initCaption()||a.$captionContainer.removeClass("icon-visible")),a._hideFileIcon(),a._raise("filecleared"),a.$captionContainer.focus(),a._setFileDropZoneTitle(),a.$element},reset:function(){var e=this;if(e._raise("filereset"))return e._resetPreview(),e.$container.find(".fileinput-filename").text(""),t.addCss(e.$container,"file-input-new"),(e.getFrames().length||e.isAjaxUpload&&e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e.clearStack(),e.formdata={},e._setFileDropZoneTitle(),e.$element},disable:function(){var e=this;return e.isDisabled=!0,e._raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),t.addCss(e.$container.find(".btn-file"),"disabled"),e._initDragDrop(),e.$element},enable:function(){var e=this;return e.isDisabled=!1,e._raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e.$container.find(".btn-file").removeClass("disabled"),e._initDragDrop(),e.$element},upload:function(){var n,a,i,r=this,o=r.getFileStack().length,l=!e.isEmptyObject(r._getExtraData());if(r.isAjaxUpload&&!r.isDisabled&&r._isFileSelectionValid(o)){if(r._resetUpload(),0===o&&!l)return void r._showUploadError(r.msgUploadEmpty);if(r.$progress.show(),r.uploadCount=0,r.uploadStatus={},r.uploadLog=[],r.lock(),r._setProgress(2),0===o&&l)return void r._uploadExtraOnly();if(i=r.filestack.length,r.hasInitData=!1,!r.uploadAsync)return r._uploadBatch(),r.$element;for(a=r._getOutData(),r._raise("filebatchpreupload",[a]),r.fileBatchCompleted=!1,r.uploadCache={content:[],config:[],tags:[],append:!0},r.uploadAsyncCount=r.getFileStack().length,n=0;i>n;n++)r.uploadCache.content[n]=null,r.uploadCache.config[n]=null,r.uploadCache.tags[n]=null;for(r.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS),r._initSortable(),r.cacheInitialPreview=r.getPreview(),n=0;i>n;n++)r.filestack[n]&&r._uploadSingle(n,!0)}},destroy:function(){var t=this,n=t.$form,a=t.$container,i=t.$element,r=t.namespace;return e(document).off(r),e(window).off(r),n&&n.length&&n.off(r),t.isAjaxUpload&&t._clearFileInput(),t._cleanup(),t._initPreviewCache(),i.insertBefore(a).off(r).removeData(),a.off().remove(),i},refresh:function(n,a){var i=this,r=i.$element;return n="object"!=typeof n||t.isEmpty(n)?i.options:e.extend(!0,{},i.options,n),i._init(n,!0),i._listen(),a&&r.trigger("change"+i.namespace),r},zoom:function(e){var n=this,a=n._getFrame(e),i=n.$modal;a&&(t.initModal(i),i.html(n._getModalContent()),n._setZoomContent(a),i.modal("show"),n._initZoomButtons())},getExif:function(e){var t=this,n=t._getFrame(e);return n&&n.data("exif")||null},getFrames:function(n){var a,i=this;return n=n||"",a=i.$preview.find(t.FRAMES+n),i.reversePreviewOrder&&(a=e(a.get().reverse())),a},getPreview:function(){var e=this;return{content:e.initialPreview,config:e.initialPreviewConfig,tags:e.initialPreviewThumbTags}}},e.fn.fileinput=function(a){if(t.hasFileAPISupport()||t.isIE(9)){var i=Array.apply(null,arguments),r=[];switch(i.shift(),this.each(function(){var o,l=e(this),s=l.data("fileinput"),c="object"==typeof a&&a,d=c.theme||l.data("theme"),u={},f={},p=c.language||l.data("language")||e.fn.fileinput.defaults.language||"en";s||(d&&(f=e.fn.fileinputThemes[d]||{}),"en"===p||t.isEmpty(e.fn.fileinputLocales[p])||(u=e.fn.fileinputLocales[p]||{}),o=e.extend(!0,{},e.fn.fileinput.defaults,f,e.fn.fileinputLocales.en,u,c,l.data()),s=new n(this,o),l.data("fileinput",s)),"string"==typeof a&&r.push(s[a].apply(s,i))}),r.length){case 0:return this;case 1:return r[0];default:return r}}},e.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,autoOrientImage:!0,required:!1,rtl:!1,hideThumbnailContent:!1,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,initialPreviewDownloadUrl:"",removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-sm btn-kv btn-default btn-outline-secondary",fullscreen:"btn btn-sm btn-kv btn-default btn-outline-secondary",borderless:"btn btn-sm btn-kv btn-default btn-outline-secondary",close:"btn btn-sm btn-kv btn-default btn-outline-secondary"},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedPreviewTypes:void 0,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default btn-secondary",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default btn-secondary",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default btn-secondary",uploadUrl:null,uploadUrlThumb:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar bg-success progress-bar-success",progressErrorClass:"progress-bar bg-danger progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:t.closeButton("kv-error-close"),
slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0,mergeAjaxCallbacks:!1,mergeAjaxDeleteCallbacks:!1,retryErrorUploads:!0,reversePreviewOrder:!1},e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgPlaceholder:"Select {files}...",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Error",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}},e.fn.fileinput.Constructor=n,e(document).ready(function(){var t=e("input.file[type=file]");t.length&&t.fileinput()})}),function(e){"use strict";var t="undefined"==typeof window?null:window;"function"==typeof define&&define.amd?define(function(){return e(t)}):"undefined"!=typeof module?module.exports=e(t):t.DOMPurify=e(t)}(function e(t){"use strict";var n=function(t){return e(t)};if(n.version="0.7.4",!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var a=t.document,i=a,r=t.DocumentFragment,o=t.HTMLTemplateElement,l=t.NodeFilter,s=t.NamedNodeMap||t.MozNamedAttrMap,c=t.Text,d=t.Comment,u=t.DOMParser;if("function"==typeof o){var f=a.createElement("template");f.content&&f.content.ownerDocument&&(a=f.content.ownerDocument)}var p=a.implementation,h=a.createNodeIterator,m=a.getElementsByTagName,g=a.createDocumentFragment,v=i.importNode,b={};n.isSupported=void 0!==p.createHTMLDocument&&9!==a.documentMode;var w=function(e,t){for(var n=t.length;n--;)"string"==typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e},_=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},y=null,C=w({},["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr","svg","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","switch","symbol","text","textpath","title","tref","tspan","view","vkern","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","#text"]),x=null,S=w({},["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","rows","rowspan","spellcheck","scope","selected","shape","size","span","srclang","start","src","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns","accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mode","min","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","surfacescale","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","y","y1","y2","z","zoomandpan","accent","accentunder","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","display","displaystyle","fence","frame","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),T=null,D=null,A=!0,I=!1,k=!1,F=!1,E=/\{\{[\s\S]*|[\s\S]*\}\}/gm,P=/<%[\s\S]*|[\s\S]*%>/gm,j=!1,L=!1,R=!1,z=!1,O=!0,N=!0,U=w({},["audio","head","math","script","style","svg","video"]),$=w({},["audio","video","img","source"]),B=w({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),M=null,H=a.createElement("form"),W=function(e){"object"!=typeof e&&(e={}),y="ALLOWED_TAGS"in e?w({},e.ALLOWED_TAGS):C,x="ALLOWED_ATTR"in e?w({},e.ALLOWED_ATTR):S,T="FORBID_TAGS"in e?w({},e.FORBID_TAGS):{},D="FORBID_ATTR"in e?w({},e.FORBID_ATTR):{},A=!1!==e.ALLOW_DATA_ATTR,I=e.ALLOW_UNKNOWN_PROTOCOLS||!1,k=e.SAFE_FOR_JQUERY||!1,F=e.SAFE_FOR_TEMPLATES||!1,j=e.WHOLE_DOCUMENT||!1,L=e.RETURN_DOM||!1,R=e.RETURN_DOM_FRAGMENT||!1,z=e.RETURN_DOM_IMPORT||!1,O=!1!==e.SANITIZE_DOM,N=!1!==e.KEEP_CONTENT,F&&(A=!1),R&&(L=!0),e.ADD_TAGS&&(y===C&&(y=_(y)),w(y,e.ADD_TAGS)),e.ADD_ATTR&&(x===S&&(x=_(x)),w(x,e.ADD_ATTR)),N&&(y["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(e),M=e},Z=function(e){try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},q=function(e){var t,n;try{t=(new u).parseFromString(e,"text/html")}catch(e){}return t||(t=p.createHTMLDocument(""),n=t.body,n.parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e),"function"==typeof t.getElementsByTagName?t.getElementsByTagName(j?"html":"body")[0]:m.call(t,j?"html":"body")[0]},V=function(e){return h.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,function(){return l.FILTER_ACCEPT},!1)},J=function(e){return!(e instanceof c||e instanceof d)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof s&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)},X=function(e){var t,n;if(ne("beforeSanitizeElements",e,null),J(e))return Z(e),!0;if(t=e.nodeName.toLowerCase(),ne("uponSanitizeElement",e,{tagName:t}),!y[t]||T[t]){if(N&&!U[t]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return Z(e),!0}return!k||e.firstElementChild||e.content&&e.content.firstElementChild||(e.innerHTML=e.textContent.replace(/</g,"&lt;")),F&&3===e.nodeType&&(n=e.textContent,n=n.replace(E," "),n=n.replace(P," "),e.textContent=n),ne("afterSanitizeElements",e,null),!1},K=/^data-[\w.\u00B7-\uFFFF-]/,G=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Y=/^(?:\w+script|data):/i,Q=/[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ee=function(e){var n,i,r,o,l,s,c,d;if(ne("beforeSanitizeAttributes",e,null),s=e.attributes){for(c={attrName:"",attrValue:"",keepAttr:!0},d=s.length;d--;)if(n=s[d],i=n.name,r=n.value,o=i.toLowerCase(),c.attrName=o,c.attrValue=r,c.keepAttr=!0,ne("uponSanitizeAttribute",e,c),r=c.attrValue,"name"===o&&"IMG"===e.nodeName&&s.id?(l=s.id,s=Array.prototype.slice.apply(s),e.removeAttribute("id"),e.removeAttribute(i),s.indexOf(l)>d&&e.setAttribute("id",l.value)):("id"===i&&e.setAttribute(i,""),e.removeAttribute(i)),c.keepAttr&&(!O||"id"!==o&&"name"!==o||!(r in t||r in a||r in H))&&(F&&(r=r.replace(E," "),r=r.replace(P," ")),x[o]&&!D[o]&&(B[o]||G.test(r.replace(Q,""))||"src"===o&&0===r.indexOf("data:")&&$[e.nodeName.toLowerCase()])||A&&K.test(o)||I&&!Y.test(r.replace(Q,""))))try{e.setAttribute(i,r)}catch(e){}ne("afterSanitizeAttributes",e,null)}},te=function(e){var t,n=V(e);for(ne("beforeSanitizeShadowDOM",e,null);t=n.nextNode();)ne("uponSanitizeShadowNode",t,null),X(t)||(t.content instanceof r&&te(t.content),ee(t));ne("afterSanitizeShadowDOM",e,null)},ne=function(e,t,a){b[e]&&b[e].forEach(function(e){e.call(n,t,a,M)})};return n.sanitize=function(e,a){var o,l,s,c,d;if(e||(e=""),"string"!=typeof e){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");e=e.toString()}if(!n.isSupported)return"object"==typeof t.toStaticHTML||"function"==typeof t.toStaticHTML?t.toStaticHTML(e):e;if(W(a),!L&&!j&&-1===e.indexOf("<"))return e;if(!(o=q(e)))return L?null:"";for(c=V(o);l=c.nextNode();)3===l.nodeType&&l===s||X(l)||(l.content instanceof r&&te(l.content),ee(l),s=l);if(L){if(R)for(d=g.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return z&&(d=v.call(i,d,!0)),d}return j?o.outerHTML:o.innerHTML},n.addHook=function(e,t){"function"==typeof t&&(b[e]=b[e]||[],b[e].push(t))},n.removeHook=function(e){b[e]&&b[e].pop()},n.removeHooks=function(e){b[e]&&(b[e]=[])},n.removeAllHooks=function(){b=[]},n});