if("undefined"==typeof jQuery)throw new Error("jQuery is required :)");+function(){"use strict";for(var e,i=function(){},o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=o.length,t=window.console=window.console||{};n--;)e=o[n],t[e]||(t[e]=i)}(),function(){"use strict";if(navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(e)}var i=navigator.userAgent;i.indexOf("Mozilla/5.0")>-1&&i.indexOf("Android ")>-1&&i.indexOf("AppleWebKit")>-1&&-1===i.indexOf("Chrome")&&$("select.form-control").removeClass("form-control").css("width","100%"),$(document).on("contextmenu",function(e){return e.preventDefault(),!1})}(),function(e){"use strict";window.is_defined=function(e){return void 0!==e&&"null"!=typeof e&&null!=e},window.is_callback=function(e){return!(!e||"function"!=typeof e)},window.is_mobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|Mobile|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},window.in_array=function(e,i){var o;if(is_defined(e)&&is_defined(i)&&"object"!=typeof e&&"object"==typeof i){try{o=i.indexOf(e)}catch(n){o=i.hasOwnProperty(e)?1:-1}return o>=0}return!1},window.array_keys=function(e){if(is_defined(e)){var i=[];for(var o in e)i.push(o);return i}},window.array_values=function(e){if(is_defined(e)){var i=[];for(var o in e)i.push(e[o]);return i}},window.array_search=function(e,i){for(var o=[],n=0;n<i.length;n++)i[n]==e&&o.push(n);return o.length>0&&(1==o.length?o[0]:o)},window.count=function(e){return"object"==typeof e?"undefined"!=e.length?Object.keys(e).length:e.length:0},window.strlen=function(e){return is_defined(e)?count(e.toString().split("")):0},window.ucfirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},window.ucwords=function(e){return e.toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},window.money_format=function(e,i){return is_defined(e)?(i=is_defined(i)?i:2,e=parseFloat(e),e>0?cut_decimal(e,i):e):0},window.cut_decimal=function(e,i){if(is_defined(e)){i=is_defined(i)?i:2;var o=e.toString().split(".");is_defined(o[1])&&(o[1]=o[1].substr(0,i));var n=o.join(".");return parseFloat(n).toFixed(i)}return 0},window.balance_format=function(e){var i=e.toString().split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i.join(".")},window.mt_rand=function(e,i){var o=arguments.length;if(0===o)e=0,i=2147483647;else{if(1===o)throw new Error("Warning: mt_rand() expects exactly 2 parameters, 1 given");e=parseInt(e,10),i=parseInt(i,10)}return Math.floor(Math.random()*(i-e+1))+e},window.extract_args=function(i,o){var n={};return is_defined(i)&&is_defined(o)&&e.each(o,function(e,o){in_array(e,i)&&(n[o]=i[e])}),!!count(n)&&n},window.is_json=function(i){try{e.parseJSON(i)}catch(e){return!1}return!0},window.is_error=function(e){if("object"==typeof e)return!(!e.hasOwnProperty("status")||"Error"!==e.status.trim()&&"error"!==e.status.trim())},window.valid_email=function(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},window.empty=function(e){return void 0===e||"null"==typeof e||null==e||""==e},window.ajax_call=function(i,o,n,t){t=is_defined(t)?t:"POST",e.ajax({url:i,data:"object"==typeof o?o:{},method:t,success:function(e){if("function"==typeof n&&n(e),"object"==typeof e&&is_error(e))throw Error(e.message)}})},window.error_call=function(i){var o={display:e("#error_notif"),message:e("#error_message")};is_defined(i)&&(o.message.html(i),o.display.fadeIn(500)),!1===i&&o.display.hide()},window.success_call=function(i){var o={display:e("#success_notif"),message:e("#success_message")};is_defined(i)&&(o.message.html(i),o.display.fadeIn(500)),!1===i&&o.display.hide()},window.strip_leading_zero=function(e){return is_defined&&"string"==typeof e&&0==e[0]?e.substring(1):e},window.is_mobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|Mobile|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}(jQuery),function(e){"use strict";e.ajaxSetup({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}}),e.xhrPool=[],e.xhrPool.abortAll=function(){e(this).each(function(i,o){o.abort(),e.xhrPool.splice(i,1),e.ajax(o)})},e(document).ajaxComplete(function(i,o,n){var t=o.getResponseHeader("_TOKEN_");e('meta[name="csrf-token"]').attr("content",t)})}(jQuery),function(e){"use strict";e.fn.has_data=function(i){var o=i.replace("data-",""),n="data-"+o;return e(this)[0].hasAttribute(n)},e.fn.add_data=function(){var i=count(arguments),o={};return 1===i?e.each(arguments[0],function(e,i){o["data-"+e]=i}):2===i&&(o["data-"+arguments[0]]=arguments[1]),this.each(function(i,n){e.each(o,function(i,o){e(n).attr(i,o)})})},e.fn.switcher=function(i){return this.each(function(o,n){var t=e(n),a=t.siblings("span.check-value");if(0===a.length){var s=t.siblings("span.toggle");s.after('<span class="check-value">None</span>'),a=s.siblings("span.check-value")}t.change(function(){this.checked?(t.val(1),a.html("Yes")):(t.val(0),a.html("None")),void 0!==i&&"function"==typeof i&&i(this.checked)})})},e.fn.booking_steps=function(i,o,n){return o=void 0!==o&&o,n=void 0===n?{}:n,this.each(function(t,a){var s=e(a),l=e("#booking_form"),r=s.data("stepurl");r.length>0&&(!1!==s.hasClass("booking-disabled")&&!0!==o||(l.html('<div class="preloader"></div>'),e.post(r,n,function(o){l.html(o).promise().done(function(){e.material.init(),"function"==typeof i&&i()})})))})},e.fn.step_disabled=function(i){return i=void 0===i||i,this.each(function(o,n){var t=e(n);return t.length>0&&(!0===i?t.hasClass("booking-disabled")||t.addClass("booking-disabled"):t.hasClass("booking-disabled")&&t.removeClass("booking-disabled")),t})},e.fn.stars=function(){return this.each(function(i,o){for(var n=e(o),t=parseFloat(e(n).data("rating")),a=Math.ceil(t),s=5-a,l=[],i=0;i<5;i++)t>0&&(t<1&&t>0?l.push('<i class="material-icons">star_half</i>'):l.push('<i class="material-icons">star</i>')),t--;for(var r=0;r<s;r++)l.push('<i class="material-icons">star_border</i>');return n.html(l.join("\n"))})}}(jQuery),"undefined"==typeof jQuery&&error_call("jQuery is required."),function(e,i){var o={booking_details:i("#booking_details"),booking_schedule:i("#booking_schedule"),booking_confirmation:i("#booking_confirmation")};e.prototype.globals={name:null,mail:null,needed_hours:null,needed_supplies:null,instruction:null,book_id:null,slot_dom:null,book_dom:null,page:null},e.prototype.run=function(){this.details(!0),this.review(),is_mobile()&&(window.addEventListener("orientationchange",this.device_orientation_check),this.device_orientation_check())},e.prototype.device_orientation_check=function(){window.matchMedia("(orientation: portrait)").matches||window.innerHeight>window.innerWidth?i("#orientation").show():i("#orientation").hide(),i("#orientation").on("click",function(){i(this).hide()})},e.prototype.review=function(){var e=i("#submit_review");e.length>0&&e.on("click",function(o){i(this).attr("disabled","disabled");var n=parseInt(i(".rating-stars").data("rating")),t=i("#txtReview").val(),a=parseInt(e.data("bid")),s=parseInt(e.data("eid")),l=parseInt(e.data("cid"));ajax_call(__BASE_URL+"/save_review",{str:n,rvw:t,bid:a,eid:s,cid:l},function(e){is_error(e)?i("#booking_form").html(['<h3 class="booking-error">',e.message,"</h3>"].join("\n")):(i("#review_form").remove(),i("#review_submit_message").html(e.message),i("#review_success").removeClass("hide"))})})},e.prototype.details=function(e){var n=this;if(o.booking_details.length>0)return e=void 0!==e&&e,error_call(!1),success_call(!1),o.booking_details.booking_steps(function(){var e={name:i("#inputName"),mail:i("#inputEmail"),needed_hours:i("#inputHours"),needed_supplies:i("#inputSupplies"),btn_instruction:i("#inputInstruction"),instruction:i("#txtInstruction")};e.needed_supplies.switcher(),i("#inputInstruction").switcher(function(e){var o=i("#instruction_toggle");e?o.removeClass("hidden").hide().fadeIn(500):(o.siblings("#txtInstruction").val(""),o.addClass("hidden"))}),empty(n.globals.name)||(e.name.val(n.globals.name),e.name.parent(".label-floating").removeClass("is-empty")),empty(n.globals.mail)||(e.mail.val(n.globals.mail),e.mail.parent(".label-floating").removeClass("is-empty")),empty(n.globals.needed_hours)||e.needed_hours.val(n.globals.needed_hours),empty(n.globals.needed_supplies)||(e.needed_supplies.val(n.globals.needed_supplies),1===n.globals.needed_supplies&&e.needed_supplies.click()),empty(n.globals.instruction)||e.btn_instruction.click().promise().done(function(){e.instruction.val(n.globals.instruction)}),i("#details_next, #booking_schedule").off("click").click(function(i){if(o.booking_schedule.attr("class").indexOf("booking-disabled")>=0){var t=e.name.val(),a=e.mail.val(),s=parseFloat(e.needed_hours.val()),l=parseInt(e.needed_supplies.val()),r=e.instruction.val();empty(a)?error_call('Please fill-up the <a href="javascript:void(0)" class="alert-link">Email Address</a>.'):ajax_call(__BASE_URL+"/verify_email",{mail:a},function(e){is_error(e)?error_call('<a href="javascript:void(0)" class="alert-link">Email</a> is not available.'):(n.globals.name=e.hasOwnProperty("name")&&!empty(e.name)?ucwords(e.name):ucwords(t),n.globals.mail=e.hasOwnProperty("mail")&&!empty(e.mail)?e.mail:a,n.globals.needed_hours=s,n.globals.needed_supplies=l,n.globals.instruction=r,o.booking_details.step_disabled(),o.booking_schedule.step_disabled(!1),o.booking_confirmation.step_disabled(),n.schedule(!0))})}})},e)},e.prototype.schedule=function(e,n){var t=this;if(o.booking_schedule)return e=void 0!==e&&e,n=void 0===n?{hours:parseFloat(i("#inputHours").val()),mail:t.globals.mail}:n,error_call(!1),success_call(!1),o.booking_schedule.booking_steps(function(){function e(){empty(t.globals.book_id)||empty(t.globals.slot_dom)?error_call("Please select a booking schedule."):(o.booking_details.step_disabled(),o.booking_schedule.step_disabled(),o.booking_confirmation.step_disabled(!1),t.confirmation(!0))}function n(e){var o=e.replace("schedule_",""),n=i("#booking_option_"+o);n.length<=0?error_call("Cannot find display box "+e):n.fadeToggle()}i(".person-rating").stars(),i(".booking-details").on("click",function(o){var a=i(this),s=a.attr("id"),l=a.attr("data-toggle"),r=parseInt(l);if(void 0===l||0===r){a.attr("data-toggle",1),a.html('Details <i class="material-icons">arrow_upward</i>'),a.addClass("btn-info"),a.removeClass("btn-danger");var d=s.split("_"),c=d[1],u=i("#booking_preloader_"+c);a.length>0&&u.removeClass("hide"),ajax_call(__BASE_URL+"/list_schedule",{id:s,hours:t.globals.needed_hours,mail:t.globals.mail},function(e){a.length>0&&u.addClass("hide"),t.details_extract(s,e),n(s)})}else 1===r?(a.attr("data-toggle",0),a.html('Details <i class="material-icons">arrow_downward</i>'),a.addClass("btn-info"),a.removeClass("btn-danger"),n(s)):e()}),is_defined(t.globals.book_dom)&&t.globals.book_dom.length>0&&i("#"+t.globals.book_dom.attr("id")).click(),i("#schedule_prev, #booking_details").off("click").click(function(){o.booking_details.attr("class").indexOf("booking-disabled")>=0&&(o.booking_details.step_disabled(!1),o.booking_schedule.step_disabled(),o.booking_confirmation.step_disabled(),t.details(!0))}),i("#schedule_next, #booking_confirmation").off("click").click(function(){o.booking_confirmation.attr("class").indexOf("booking-disabled")>=0&&e()})},e,n)},e.prototype.confirmation=function(e){var n=this;if(o.booking_confirmation)return e=void 0!==e&&e,error_call(!1),success_call(!1),o.booking_confirmation.booking_steps(function(){empty(n.globals.name)||empty(n.globals.mail)||empty(n.globals.book_id)||ajax_call(__BASE_URL+"/booking_data",{book_id:n.globals.book_id,mail:n.globals.mail},function(e){if(is_error(e))i("#confirmation_page").html(['<h3 class="booking-error">',e.message,"</h3>"].join("\n"));else{var o=e.firstname+" "+e.lastname;i("#cleaner_name").html(o),i("#cleaner_img").attr("alt",o),i("#cleaner_img").attr("src",e.avatar),i("#cleaner_rating").attr("data-rating",parseFloat(e.rate)).stars(),i("#cleaner_review").html(e.reviews),i("#cleaner_schedule").html(e.date_available),i("#cleaner_slot").html(strip_leading_zero(e.schedule_start)+" to "+strip_leading_zero(e.schedule_end)),i("#cleaner_price").html(e.hours_text),i("#booking_total").html("$"+e.price),i("#booking_total").html("$"+e.price)}}),i("#confirmation_prev, #booking_schedule").off("click").click(function(){o.booking_schedule.attr("class").indexOf("booking-disabled")>=0&&(o.booking_details.step_disabled(),o.booking_schedule.step_disabled(!1),o.booking_confirmation.step_disabled(),n.schedule(!0,{hours:n.globals.needed_hours,mail:n.globals.mail}))}),i("#back_to_main").on("click",function(){n.globals.needed_hours=null,n.globals.needed_supplies=null,n.globals.instruction=null,n.globals.book_id=null,n.globals.book_dom=null,n.globals.slot_dom=null,o.booking_details.step_disabled(!1),o.booking_schedule.step_disabled(),o.booking_confirmation.step_disabled(),n.details(!0)}),i("#confirmation_next").on("click",function(){ajax_call(__BASE_URL+"/booking_save",{book_id:n.globals.book_id,name:n.globals.name,mail:n.globals.mail,hours:n.globals.needed_hours,supplies:n.globals.needed_supplies,instruction:n.globals.instruction},function(e){is_error(e)?error_call(e.message):(success_call(e.message),i("#confirmation_prev").hide(),i("#confirmation_next").hide(),i("#back_to_main").removeClass("hide"))})})},e,{hours:n.globals.needed_hours})},e.prototype.details_extract=function(e,o){var n=this;if("object"==typeof o)if(o.length>0){var t=[];for(var a in o){var s=o[a];t.push(n.details_html(e,s))}var l=e.replace("schedule_","");i("#schedule_frame_"+l).html(t.join("\n"));var r=i("#booking_option_"+l),d=r.children(".schedule-frame-container"),c=r.children(".panner");if(d.length>0&&c.length>0&&n.scroll_arrow(d,c),i(".schedule-detail").on("click",function(e){function o(e,i){e.addClass("schedule-selected"),n.globals.slot_dom=e,n.globals.book_dom=i}var t=i(this),a=t.attr("id").split("_"),s=a[1],l=a[2]+"_"+a[3]+"_"+a[4],r=i("#schedule_"+s);is_defined(n.globals.book_dom)&&n.globals.book_dom.length>0&&n.globals.book_dom.attr("id")!=="schedule_"+s&&(n.globals.book_dom.attr("data-toggle",0),n.globals.book_dom.click()),t.hasClass("schedule-disabled")||(empty(n.globals.slot_dom)?o(t,r):n.globals.slot_dom.length>0&&(n.globals.slot_dom.removeClass("schedule-selected"),o(t,r)),n.globals.book_id=l,r.length>0&&(r.addClass("btn-danger"),r.removeClass("btn-info"),r.html('Book <i class="material-icons">favorite</i>'),r.attr("data-toggle",2)))}),is_defined(n.globals.slot_dom)&&n.globals.slot_dom.length>0)var u=setTimeout(function(){clearTimeout(u)},100)}else error_call("No details available.");else error_call("Invalid response.")},e.prototype.details_html=function(e,i){var o=[],n=[];if(n.push("schedule-detail"),i.is_cheapest&&n.push("schedule-cheapest"),i.is_booked&&n.push("schedule-disabled"),o.push('<div class="'+n.join(" ")+'" id="'+e+"_"+i.detail_id+'">'),o.push('<p class="range">'+strip_leading_zero(i.start)+"</p>"),o.push("<span>to</span>"),o.push('<p class="range">'+strip_leading_zero(i.end)+"</p><br />"),i.is_booked)o.push('<p class="price"> Not Available </p>');else{var t=(i.price/i.hours).toFixed(2);o.push('<p class="price"> $'+t+"/hour </p>")}return o.push("</div>"),o.join("\n")},e.prototype.scroll_arrow=function(e,o){function n(e,i){0===a&&(a=setInterval(function(){var i=l.scrollLeft()+s*e;l.scrollLeft(i)},10))}function t(){clearInterval(a),a=0}var a=0,s=5,l=e;o.on("mousedown touchstart",function(){var e=i(this).data("scrollModifier");n(2*parseInt(e,10),s)}),o.on("mouseup touchend",function(){t()})}}(window.Rosie=window.Rosie||function(){},jQuery),function(e,i){(new e).run(),i(".rating-stars").stars()}(window.Rosie=window.Rosie||function(){},jQuery);